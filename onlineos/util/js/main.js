/*!
 * (c) Delicious Team.
 *
 * delicious-web - v4.0.1 (10-29-2013)
 * http://delicious.com/
 */(function(){function a(a,b,c){for(var d=(c||0)-1,e=a?a.length:0;++d<e;)if(a[d]===b)return d;return-1}function b(b,c){var d=typeof c;if(b=b.cache,"boolean"==d||null==c)return b[c]?0:-1;"number"!=d&&"string"!=d&&(d="object");var e="number"==d?c:s+c;return b=(b=b[d])&&b[e],"object"==d?b&&a(b,c)>-1?0:-1:b?0:-1}function c(a){var b=this.cache,c=typeof a;if("boolean"==c||null==a)b[a]=!0;else{"number"!=c&&"string"!=c&&(c="object");var d="number"==c?a:s+a,e=b[c]||(b[c]={});"object"==c?(e[d]||(e[d]=[])).push(a):e[d]=!0}}function d(a){return a.charCodeAt(0)}function e(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||"undefined"==typeof c)return 1;if(d>c||"undefined"==typeof d)return-1}return a.index-b.index}function f(a){var b=-1,d=a.length,e=a[0],f=a[0|d/2],g=a[d-1];if(e&&"object"==typeof e&&f&&"object"==typeof f&&g&&"object"==typeof g)return!1;var h=i();h["false"]=h["null"]=h["true"]=h.undefined=!1;var j=i();for(j.array=a,j.cache=h,j.push=c;++b<d;)j.push(a[b]);return j}function g(a){return"\\"+W[a]}function h(){return p.pop()||[]}function i(){return q.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function j(){}function k(a){a.length=0,p.length<u&&p.push(a)}function l(a){var b=a.cache;b&&l(b),a.array=a.cache=a.criteria=a.object=a.number=a.string=a.value=null,q.length<u&&q.push(a)}function m(a,b,c){b||(b=0),"undefined"==typeof c&&(c=a?a.length:0);for(var d=-1,e=c-b||0,f=Array(0>e?0:e);++d<e;)f[d]=a[b+d];return f}function n(c){function p(a){return a&&"object"==typeof a&&!Xd(a)&&yd.call(a,"__wrapped__")?a:new q(a)}function q(a,b){this.__chain__=!!b,this.__wrapped__=a}function u(a,b,c,d,e){if(c){var f=c(a);if("undefined"!=typeof f)return f}var g=Ab(a);if(!g)return a;var i=Ed.call(a);if(!S[i])return a;var j=Ud[i];switch(i){case L:case M:return new j(+a);case O:case R:return new j(a);case Q:return f=j(a.source,A.exec(a)),f.lastIndex=a.lastIndex,f}var l=Xd(a);if(b){var n=!d;d||(d=h()),e||(e=h());for(var o=d.length;o--;)if(d[o]==a)return e[o];f=l?j(a.length):{}}else f=l?m(a):ce({},a);return l&&(yd.call(a,"index")&&(f.index=a.index),yd.call(a,"input")&&(f.input=a.input)),b?(d.push(a),e.push(f),(l?Tb:fe)(a,function(a,g){f[g]=u(a,b,c,d,e)}),n&&(k(d),k(e)),f):f}function W(a,b,c){if("function"!=typeof a)return Tc;if("undefined"==typeof b)return a;var d=a.__bindData__||Vd.funcNames&&!a.name;if("undefined"==typeof d){var e=F&&wd.call(a);!Vd.funcNames&&e&&!B.test(e)&&(d=!0),(Vd.funcNames||!d)&&(d=!Vd.funcDecomp||F.test(e),Wd(a,d))}if(d!==!0&&d&&1&d[1])return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return Dc(a,b)}function Y(a,b,c,d){for(var e=(d||0)-1,f=a?a.length:0,g=[];++e<f;){var h=a[e];if(h&&"object"==typeof h&&"number"==typeof h.length&&(Xd(h)||jb(h))){b||(h=Y(h,b,c));var i=-1,j=h.length,k=g.length;for(g.length+=j;++i<j;)g[k++]=h[i]}else c||g.push(h)}return g}function Z(a,b,c,d,e,f){if(c){var g=c(a,b);if("undefined"!=typeof g)return!!g}if(a===b)return 0!==a||1/a==1/b;var i=typeof a,j=typeof b;if(!(a!==a||a&&V[i]||b&&V[j]))return!1;if(null==a||null==b)return a===b;var l=Ed.call(a),m=Ed.call(b);if(l==J&&(l=P),m==J&&(m=P),l!=m)return!1;switch(l){case L:case M:return+a==+b;case O:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case Q:case R:return a==nd(b)}var n=l==K;if(!n){if(yd.call(a,"__wrapped__ ")||yd.call(b,"__wrapped__"))return Z(a.__wrapped__||a,b.__wrapped__||b,c,d,e,f);if(l!=P)return!1;var o=a.constructor,p=b.constructor;if(o!=p&&!(zb(o)&&o instanceof o&&zb(p)&&p instanceof p))return!1}var q=!e;e||(e=h()),f||(f=h());for(var r=e.length;r--;)if(e[r]==a)return f[r]==b;var s=0;if(g=!0,e.push(a),f.push(b),n){if(r=a.length,s=b.length,g=s==a.length,!g&&!d)return g;for(;s--;){var t=r,u=b[s];if(d)for(;t--&&!(g=Z(a[t],u,c,d,e,f)););else if(!(g=Z(a[s],u,c,d,e,f)))break}return g}return ee(b,function(b,h,i){return yd.call(i,h)?(s++,g=yd.call(a,h)&&Z(a[h],b,c,d,e,f)):void 0}),g&&!d&&ee(a,function(a,b,c){return yd.call(c,b)?g=--s>-1:void 0}),q&&(k(e),k(f)),g}function _(a,b,c,d,e){(Xd(b)?Tb:fe)(b,function(b,f){var g,h,i=b,j=a[f];if(b&&((h=Xd(b))||ge(b))){for(var k=d.length;k--;)if(g=d[k]==b){j=e[k];break}if(!g){var l;c&&(i=c(j,b),(l="undefined"!=typeof i)&&(j=i)),l||(j=h?Xd(j)?j:[]:ge(j)?j:{}),d.push(b),e.push(j),l||_(j,b,c,d,e)}}else c&&(i=c(j,b),"undefined"==typeof i&&(i=b)),"undefined"!=typeof i&&(j=i);a[f]=j})}function bb(c,d,e){var g=-1,i=gb(),j=c?c.length:0,m=[],n=!d&&j>=t&&i===a,o=e||n?h():m;if(n){var p=f(o);p?(i=b,o=p):(n=!1,o=e?o:(k(o),m))}for(;++g<j;){var q=c[g],r=e?e(q,g,c):q;(d?!g||o[o.length-1]!==r:i(o,r)<0)&&((e||n)&&o.push(r),m.push(q))}return n?(k(o.array),l(o)):e&&k(o),m}function cb(a){return function(b,c,d){var e={};c=p.createCallback(c,d,3);var f=-1,g=b?b.length:0;if("number"==typeof g)for(;++f<g;){var h=b[f];a(e,h,c(h,f,b),b)}else fe(b,function(b,d,f){a(e,b,c(b,d,f),f)});return e}}function db(a,b,c,d,e,f){var g=1&b,h=2&b,i=4&b,j=8&b,k=16&b,l=32&b,m=a;if(!h&&!zb(a))throw new od;k&&!c.length&&(b&=-17,k=c=!1),l&&!d.length&&(b&=-33,l=d=!1);var n=a&&a.__bindData__;if(n)return g&&!(1&n[1])&&(n[4]=e),!g&&1&n[1]&&(b|=8),i&&!(4&n[1])&&(n[5]=f),k&&Ad.apply(n[2]||(n[2]=[]),c),l&&Ad.apply(n[3]||(n[3]=[]),d),n[1]|=b,db.apply(null,n);if(!g||h||i||l||!(Vd.fastBind||Hd&&k))p=function(){var n=arguments,o=g?e:this;if((i||k||l)&&(n=Rd.call(n),k&&Fd.apply(n,c),l&&Ad.apply(n,d),i&&n.length<f))return b|=16,db(a,j?b:-4&b,n,null,e,f);if(h&&(a=o[m]),this instanceof p){o=eb(a.prototype);var q=a.apply(o,n);return Ab(q)?q:o}return a.apply(o,n)};else{if(k){var o=[e];Ad.apply(o,c)}var p=k?Hd.apply(a,o):Hd.call(a,e)}return Wd(p,Rd.call(arguments)),p}function eb(a){return Ab(a)?Id(a):{}}function fb(a){return $d[a]}function gb(){var b=(b=p.indexOf)===nc?a:b;return b}function hb(a){var b,c;return a&&Ed.call(a)==P&&(b=a.constructor,!zb(b)||b instanceof b)?(ee(a,function(a,b){c=b}),"undefined"==typeof c||yd.call(a,c)):!1}function ib(a){return _d[a]}function jb(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Ed.call(a)==J||!1}function kb(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c=b,b=!1),u(a,b,"function"==typeof c&&W(c,d,1))}function lb(a,b,c){return u(a,!0,"function"==typeof b&&W(b,c,1))}function mb(a,b,c){var d;return b=p.createCallback(b,c,3),fe(a,function(a,c,e){return b(a,c,e)?(d=c,!1):void 0}),d}function nb(a,b,c){var d;return b=p.createCallback(b,c,3),pb(a,function(a,c,e){return b(a,c,e)?(d=c,!1):void 0}),d}function ob(a,b,c){var d=[];ee(a,function(a,b){d.push(b,a)});var e=d.length;for(b=W(b,c,3);e--&&b(d[e--],d[e],a)!==!1;);return a}function pb(a,b,c){var d=Zd(a),e=d.length;for(b=W(b,c,3);e--;){var f=d[e];if(b(a[f],f,a)===!1)break}return a}function qb(a){var b=[];return ee(a,function(a,c){zb(a)&&b.push(c)}),b.sort()}function rb(a,b){return a?yd.call(a,b):!1}function sb(a){for(var b=-1,c=Zd(a),d=c.length,e={};++b<d;){var f=c[b];e[a[f]]=f}return e}function tb(a){return a===!0||a===!1||Ed.call(a)==L}function ub(a){return a?"object"==typeof a&&Ed.call(a)==M:!1}function vb(a){return a?1===a.nodeType:!1}function wb(a){var b=!0;if(!a)return b;var c=Ed.call(a),d=a.length;return c==K||c==R||c==J||c==P&&"number"==typeof d&&zb(a.splice)?!d:(fe(a,function(){return b=!1}),b)}function xb(a,b,c,d){return Z(a,b,"function"==typeof c&&W(c,d,2))}function yb(a){return Kd(a)&&!Ld(parseFloat(a))}function zb(a){return"function"==typeof a}function Ab(a){return!!a&&!!V[typeof a]}function Bb(a){return Db(a)&&a!=+a}function Cb(a){return null===a}function Db(a){return"number"==typeof a||Ed.call(a)==O}function Eb(a){return a?"object"==typeof a&&Ed.call(a)==Q:!1}function Fb(a){return"string"==typeof a||Ed.call(a)==R}function Gb(a){return"undefined"==typeof a}function Hb(a){var b=arguments,c=2;if(!Ab(a))return a;if("number"!=typeof b[2]&&(c=b.length),c>3&&"function"==typeof b[c-2])var d=W(b[--c-1],b[c--],2);else c>2&&"function"==typeof b[c-1]&&(d=b[--c]);for(var e=Rd.call(arguments,1,c),f=-1,g=h(),i=h();++f<c;)_(a,e[f],d,g,i);return k(g),k(i),a}function Ib(a,b,c){var d=gb(),e="function"==typeof b,f={};if(e)b=p.createCallback(b,c,3);else var g=Y(arguments,!0,!1,1);return ee(a,function(a,c,h){(e?!b(a,c,h):d(g,c)<0)&&(f[c]=a)}),f}function Jb(a){for(var b=-1,c=Zd(a),d=c.length,e=fd(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function Kb(a,b,c){var d={};if("function"!=typeof b)for(var e=-1,f=Y(arguments,!0,!1,1),g=Ab(a)?f.length:0;++e<g;){var h=f[e];h in a&&(d[h]=a[h])}else b=p.createCallback(b,c,3),ee(a,function(a,c,e){b(a,c,e)&&(d[c]=a)});return d}function Lb(a,b,c,d){var e=Xd(a);if(b=W(b,d,4),null==c)if(e)c=[];else{var f=a&&a.constructor,g=f&&f.prototype;c=eb(g)}return(e?Tb:fe)(a,function(a,d,e){return b(c,a,d,e)}),c}function Mb(a){for(var b=-1,c=Zd(a),d=c.length,e=fd(d);++b<d;)e[b]=a[c[b]];return e}function Nb(a){for(var b=arguments,c=-1,d=Y(b,!0,!1,1),e=b[2]&&b[2][b[1]]===a?1:d.length,f=fd(e);++c<e;)f[c]=a[d[c]];return f}function Ob(a,b,c){var d=-1,e=gb(),f=a?a.length:0,g=!1;return c=(0>c?Nd(0,f+c):c)||0,Xd(a)?g=e(a,b,c)>-1:"number"==typeof f?g=(Fb(a)?a.indexOf(b,c):e(a,b,c))>-1:fe(a,function(a){return++d>=c?!(g=a===b):void 0}),g}function Pb(a,b,c){var d=!0;b=p.createCallback(b,c,3);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f&&(d=!!b(a[e],e,a)););else fe(a,function(a,c,e){return d=!!b(a,c,e)});return d}function Qb(a,b,c){var d=[];b=p.createCallback(b,c,3);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f;){var g=a[e];b(g,e,a)&&d.push(g)}else fe(a,function(a,c,e){b(a,c,e)&&d.push(a)});return d}function Rb(a,b,c){b=p.createCallback(b,c,3);var d=-1,e=a?a.length:0;if("number"!=typeof e){var f;return fe(a,function(a,c,d){return b(a,c,d)?(f=a,!1):void 0}),f}for(;++d<e;){var g=a[d];if(b(g,d,a))return g}}function Sb(a,b,c){var d;return b=p.createCallback(b,c,3),Ub(a,function(a,c,e){return b(a,c,e)?(d=a,!1):void 0}),d}function Tb(a,b,c){var d=-1,e=a?a.length:0;if(b=b&&"undefined"==typeof c?b:W(b,c,3),"number"==typeof e)for(;++d<e&&b(a[d],d,a)!==!1;);else fe(a,b);return a}function Ub(a,b,c){var d=a?a.length:0;if(b=b&&"undefined"==typeof c?b:W(b,c,3),"number"==typeof d)for(;d--&&b(a[d],d,a)!==!1;);else{var e=Zd(a);d=e.length,fe(a,function(a,c,f){return c=e?e[--d]:--d,b(f[c],c,f)})}return a}function Vb(a,b){var c=Rd.call(arguments,2),d=-1,e="function"==typeof b,f=a?a.length:0,g=fd("number"==typeof f?f:0);return Tb(a,function(a){g[++d]=(e?b:a[b]).apply(a,c)}),g}function Wb(a,b,c){var d=-1,e=a?a.length:0;if(b=p.createCallback(b,c,3),"number"==typeof e)for(var f=fd(e);++d<e;)f[d]=b(a[d],d,a);else f=[],fe(a,function(a,c,e){f[++d]=b(a,c,e)});return f}function Xb(a,b,c){var e=-1/0,f=e;if(!b&&Xd(a))for(var g=-1,h=a.length;++g<h;){var i=a[g];i>f&&(f=i)}else b=!b&&Fb(a)?d:p.createCallback(b,c,3),Tb(a,function(a,c,d){var g=b(a,c,d);g>e&&(e=g,f=a)});return f}function Yb(a,b,c){var e=1/0,f=e;if(!b&&Xd(a))for(var g=-1,h=a.length;++g<h;){var i=a[g];f>i&&(f=i)}else b=!b&&Fb(a)?d:p.createCallback(b,c,3),Tb(a,function(a,c,d){var g=b(a,c,d);e>g&&(e=g,f=a)});return f}function Zb(a,b){var c=-1,d=a?a.length:0;if("number"==typeof d)for(var e=fd(d);++c<d;)e[c]=a[c][b];return e||Wb(a,b)}function $b(a,b,c,d){if(!a)return c;var e=arguments.length<3;b=W(b,d,4);var f=-1,g=a.length;if("number"==typeof g)for(e&&(c=a[++f]);++f<g;)c=b(c,a[f],f,a);else fe(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)});return c}function _b(a,b,c,d){var e=arguments.length<3;return b=W(b,d,4),Ub(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)}),c}function ac(a,b,c){return b=p.createCallback(b,c,3),Qb(a,function(a,c,d){return!b(a,c,d)})}function bc(a,b,c){var d=a?a.length:0;if("number"!=typeof d&&(a=Mb(a)),null==b||c)return a?a[Wc(d-1)]:o;var e=cc(a);return e.length=Od(Nd(0,b),e.length),e}function cc(a){var b=-1,c=a?a.length:0,d=fd("number"==typeof c?c:0);return Tb(a,function(a){var c=Wc(++b);d[b]=d[c],d[c]=a}),d}function dc(a){var b=a?a.length:0;return"number"==typeof b?b:Zd(a).length}function ec(a,b,c){var d;b=p.createCallback(b,c,3);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f&&!(d=b(a[e],e,a)););else fe(a,function(a,c,e){return!(d=b(a,c,e))});return!!d}function fc(a,b,c){var d=-1,f=a?a.length:0,g=fd("number"==typeof f?f:0);for(b=p.createCallback(b,c,3),Tb(a,function(a,c,e){var f=g[++d]=i();f.criteria=b(a,c,e),f.index=d,f.value=a}),f=g.length,g.sort(e);f--;){var h=g[f];g[f]=h.value,l(h)}return g}function gc(a){return a&&"number"==typeof a.length?m(a):Mb(a)}function hc(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function ic(c){var d=-1,e=gb(),g=c?c.length:0,h=Y(arguments,!0,!0,1),i=[],j=g>=t&&e===a;if(j){var k=f(h);k?(e=b,h=k):j=!1}for(;++d<g;){var m=c[d];e(h,m)<0&&i.push(m)}return j&&l(h),i}function jc(a,b,c){var d=-1,e=a?a.length:0;for(b=p.createCallback(b,c,3);++d<e;)if(b(a[d],d,a))return d;return-1}function kc(a,b,c){var d=a?a.length:0;for(b=p.createCallback(b,c,3);d--;)if(b(a[d],d,a))return d;return-1}function lc(a,b,c){var d=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=-1;for(b=p.createCallback(b,c,3);++f<e&&b(a[f],f,a);)d++}else if(d=b,null==d||c)return a?a[0]:o;return m(a,0,Od(Nd(0,d),e))}function mc(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c=d&&d[b]===a?null:b,b=!1),null!=c&&(a=Wb(a,c,d)),Y(a,b)}function nc(b,c,d){if("number"==typeof d){var e=b?b.length:0;d=0>d?Nd(0,e+d):d||0}else if(d){var f=wc(b,c);return b[f]===c?f:-1}return a(b,c,d)}function oc(a,b,c){var d=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=e;for(b=p.createCallback(b,c,3);f--&&b(a[f],f,a);)d++}else d=null==b||c?1:b||d;return m(a,0,Od(Nd(0,e-d),e))}function pc(c){for(var d=arguments,e=d.length,g=-1,i=h(),j=-1,m=gb(),n=c?c.length:0,o=[],p=h();++g<e;){var q=d[g];i[g]=m===a&&(q?q.length:0)>=t&&f(g?d[g]:p)}a:for(;++j<n;){var r=i[0];if(q=c[j],(r?b(r,q):m(p,q))<0){for(g=e,(r||p).push(q);--g;)if(r=i[g],(r?b(r,q):m(d[g],q))<0)continue a;o.push(q)}}for(;e--;)r=i[e],r&&l(r);return k(i),k(p),o}function qc(a,b,c){var d=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=e;for(b=p.createCallback(b,c,3);f--&&b(a[f],f,a);)d++}else if(d=b,null==d||c)return a?a[e-1]:o;return m(a,Nd(0,e-d))}function rc(a,b,c){var d=a?a.length:0;for("number"==typeof c&&(d=(0>c?Nd(0,d+c):Od(c,d-1))+1);d--;)if(a[d]===b)return d;return-1}function sc(a){for(var b=arguments,c=0,d=b.length,e=a?a.length:0;++c<d;)for(var f=-1,g=b[c];++f<e;)a[f]===g&&(Dd.call(a,f--,1),e--);return a}function tc(a,b,c){a=+a||0,c="number"==typeof c?c:+c||1,null==b&&(b=a,a=0);for(var d=-1,e=Nd(0,td((b-a)/(c||1))),f=fd(e);++d<e;)f[d]=a,a+=c;return f}function uc(a,b,c){var d=-1,e=a?a.length:0,f=[];for(b=p.createCallback(b,c,3);++d<e;){var g=a[d];b(g,d,a)&&(f.push(g),Dd.call(a,d--,1),e--)}return f}function vc(a,b,c){if("number"!=typeof b&&null!=b){var d=0,e=-1,f=a?a.length:0;for(b=p.createCallback(b,c,3);++e<f&&b(a[e],e,a);)d++}else d=null==b||c?1:Nd(0,b);return m(a,d)}function wc(a,b,c,d){var e=0,f=a?a.length:e;for(c=c?p.createCallback(c,d,1):Tc,b=c(b);f>e;){var g=e+f>>>1;c(a[g])<b?e=g+1:f=g}return e}function xc(){return bb(Y(arguments,!0,!0))}function yc(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c=d&&d[b]===a?null:b,b=!1),null!=c&&(c=p.createCallback(c,d,3)),bb(a,b,c)}function zc(a){return ic(a,Rd.call(arguments,1))}function Ac(){for(var a=arguments.length>1?arguments:arguments[0],b=-1,c=a?Xb(Zb(a,"length")):0,d=fd(0>c?0:c);++b<c;)d[b]=Zb(a,b);return d}function Bc(a,b){for(var c=-1,d=a?a.length:0,e={};++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Cc(a,b){if(!zb(b))throw new od;return function(){return--a<1?b.apply(this,arguments):void 0}}function Dc(a,b){return arguments.length>2?db(a,17,Rd.call(arguments,2),null,b):db(a,1,null,null,b)}function Ec(a){for(var b=arguments.length>1?Y(arguments,!0,!1,1):qb(a),c=-1,d=b.length;++c<d;){var e=b[c];a[e]=db(a[e],1,null,null,a)}return a}function Fc(a,b){return arguments.length>2?db(b,19,Rd.call(arguments,2),null,a):db(b,3,null,null,a)}function Gc(){for(var a=arguments,b=a.length;b--;)if(!zb(a[b]))throw new od;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}}function Hc(a,b,c){var d=typeof a;if(null==a||"function"==d)return W(a,b,c);if("object"!=d)return function(b){return b[a]};var e=Zd(a),f=e[0],g=a[f];return 1!=e.length||g!==g||Ab(g)?function(b){for(var c=e.length,d=!1;c--&&(d=Z(b[e[c]],a[e[c]],null,!0)););return d}:function(a){var b=a[f];return g===b&&(0!==g||1/g==1/b)}}function Ic(a,b){return b="number"==typeof b?b:+b||a.length,db(a,4,null,null,null,b)}function Jc(a,b,c){var d,e,f,g,h,i,j,k=0,l=!1,m=!0;if(!zb(a))throw new od;if(b=Nd(0,b)||0,c===!0){var n=!0;m=!1}else Ab(c)&&(n=c.leading,l="maxWait"in c&&(Nd(b,c.maxWait)||0),m="trailing"in c?c.trailing:m);var p=function(){var c=b-(zd()-g);if(0>=c){e&&ud(e);var l=j;e=i=j=o,l&&(k=zd(),f=a.apply(h,d))}else i=Cd(p,c)},q=function(){i&&ud(i),e=i=j=o,(m||l!==b)&&(k=zd(),f=a.apply(h,d))};return function(){if(d=arguments,g=zd(),h=this,j=m&&(i||!n),l===!1)var c=n&&!i;else{!e&&!n&&(k=g);var o=l-(g-k);0>=o?(e&&(e=ud(e)),k=g,f=a.apply(h,d)):e||(e=Cd(q,o))}return!i&&b!==l&&(i=Cd(p,b)),c&&(f=a.apply(h,d)),f}}function Kc(a){if(!zb(a))throw new od;var b=Rd.call(arguments,1);return Cd(function(){a.apply(o,b)},1)}function Lc(a,b){if(!zb(a))throw new od;var c=Rd.call(arguments,2);return Cd(function(){a.apply(o,c)},b)}function Mc(a,b){if(!zb(a))throw new od;var c=function(){var d=c.cache,e=b?b.apply(this,arguments):s+arguments[0];return yd.call(d,e)?d[e]:d[e]=a.apply(this,arguments)};return c.cache={},c}function Nc(a){var b,c;if(!zb(a))throw new od;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}}function Oc(a){return db(a,16,Rd.call(arguments,1))}function Pc(a){return db(a,32,null,Rd.call(arguments,1))}function Qc(a,b,c){var d=!0,e=!0;if(!zb(a))throw new od;c===!1?d=!1:Ab(c)&&(d="leading"in c?c.leading:d,e="trailing"in c?c.trailing:e),T.leading=d,T.maxWait=b,T.trailing=e;var f=Jc(a,b,T);return f}function Rc(a,b){if(!zb(b))throw new od;return function(){var c=[a];return Ad.apply(c,arguments),b.apply(this,c)}}function Sc(a){return null==a?"":nd(a).replace(be,fb)}function Tc(a){return a}function Uc(a,b){var c=a,d=!b||zb(c);b||(c=q,b=a,a=p),Tb(qb(b),function(e){var f=a[e]=b[e];d&&(c.prototype[e]=function(){var b=this.__wrapped__,d=[b];Ad.apply(d,arguments);var e=f.apply(a,d);return b&&"object"==typeof b&&b===e?this:(e=new c(e),e.__chain__=this.__chain__,e)})})}function Vc(){return c._=rd,this}function Wc(a,b,c){var d=null==a,e=null==b;null==c&&("boolean"==typeof a&&e?(c=a,a=1):!e&&"boolean"==typeof b&&(c=b,e=!0)),d&&e&&(b=1),a=+a||0,e?(b=a,a=0):b=+b||0;var f=Qd();return c||a%1||b%1?Od(a+f*(b-a+parseFloat("1e-"+((f+"").length-1))),b):a+vd(f*(b-a+1))}function Xc(a,b){if(a){var c=a[b];return zb(c)?a[b]():c}}function Yc(a,b,c){var d=p.templateSettings;a||(a=""),c=de({},c,d);var e,f=de({},c.imports,d.imports),h=Zd(f),i=Mb(f),j=0,k=c.interpolate||E,l="__p += '",m=md((c.escape||E).source+"|"+k.source+"|"+(k===C?z:E).source+"|"+(c.evaluate||E).source+"|$","g");a.replace(m,function(b,c,d,f,h,i){return d||(d=f),l+=a.slice(j,i).replace(G,g),c&&(l+="' +\n__e("+c+") +\n'"),h&&(e=!0,l+="';\n"+h+";\n__p += '"),d&&(l+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),j=i+b.length,b}),l+="';\n";var n=c.variable,q=n;q||(n="obj",l="with ("+n+") {\n"+l+"\n}\n"),l=(e?l.replace(w,""):l).replace(x,"$1").replace(y,"$1;"),l="function("+n+") {\n"+(q?"":n+" || ("+n+" = {});\n")+"var __t, __p = '', __e = _.escape"+(e?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var r="\n/*\n//# sourceURL="+(c.sourceURL||"/lodash/template/source["+I++ +"]")+"\n*/";try{var s=id(h,"return "+l+r).apply(o,i)}catch(t){throw t.source=l,t}return b?s(b):(s.source=l,s)}function Zc(a,b,c){a=(a=+a)>-1?a:0;var d=-1,e=fd(a);for(b=W(b,c,1);++d<a;)e[d]=b(d);return e}function $c(a){return null==a?"":nd(a).replace(ae,ib)}function _c(a){var b=++r;return nd(null==a?"":a)+b}function ad(a){return a=new q(a),a.__chain__=!0,a}function bd(a,b){return b(a),a}function cd(){return this.__chain__=!0,this}function dd(){return nd(this.__wrapped__)}function ed(){return this.__wrapped__}c=c?ab.defaults(X.Object(),c,ab.pick(X,H)):X;var fd=c.Array,gd=c.Boolean,hd=c.Date,id=c.Function,jd=c.Math,kd=c.Number,ld=c.Object,md=c.RegExp,nd=c.String,od=c.TypeError,pd=[],qd=ld.prototype,rd=c._,sd=md("^"+nd(qd.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),td=jd.ceil,ud=c.clearTimeout,vd=jd.floor,wd=id.prototype.toString,xd=sd.test(xd=ld.getPrototypeOf)&&xd,yd=qd.hasOwnProperty,zd=sd.test(zd=hd.now)&&zd||function(){return+new hd},Ad=pd.push,Bd=c.setImmediate,Cd=c.setTimeout,Dd=pd.splice,Ed=qd.toString,Fd=pd.unshift,Gd=function(){try{var a={},b=sd.test(b=ld.defineProperty)&&b,c=b(a,a,a)&&b}catch(d){}return c}(),Hd=sd.test(Hd=Ed.bind)&&Hd,Id=sd.test(Id=ld.create)&&Id,Jd=sd.test(Jd=fd.isArray)&&Jd,Kd=c.isFinite,Ld=c.isNaN,Md=sd.test(Md=ld.keys)&&Md,Nd=jd.max,Od=jd.min,Pd=c.parseInt,Qd=jd.random,Rd=pd.slice,Sd=sd.test(c.attachEvent),Td=Hd&&!/\n|true/.test(Hd+Sd),Ud={};Ud[K]=fd,Ud[L]=gd,Ud[M]=hd,Ud[N]=id,Ud[P]=ld,Ud[O]=kd,Ud[Q]=md,Ud[R]=nd,q.prototype=p.prototype;var Vd=p.support={};Vd.fastBind=Hd&&!Td,Vd.funcDecomp=!sd.test(c.WinRTError)&&F.test(n),Vd.funcNames="string"==typeof id.name,p.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:C,variable:"",imports:{_:p}},Id||(eb=function(a){if(Ab(a)){j.prototype=a;var b=new j;j.prototype=null}return b||{}});var Wd=Gd?function(a,b){U.value=b,Gd(a,"__bindData__",U)}:j,Xd=Jd||function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Ed.call(a)==K||!1},Yd=function(a){var b,c=a,d=[];if(!c)return d;if(!V[typeof a])return d;for(b in c)yd.call(c,b)&&d.push(b);return d},Zd=Md?function(a){return Ab(a)?Md(a):[]}:Yd,$d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_d=sb($d),ae=md("("+Zd(_d).join("|")+")","g"),be=md("["+Zd($d).join("")+"]","g"),ce=function(a,b,c){var d,e=a,f=e;if(!e)return f;var g=arguments,h=0,i="number"==typeof c?2:g.length;if(i>3&&"function"==typeof g[i-2])var j=W(g[--i-1],g[i--],2);else i>2&&"function"==typeof g[i-1]&&(j=g[--i]);for(;++h<i;)if(e=g[h],e&&V[typeof e])for(var k=-1,l=V[typeof e]&&Zd(e),m=l?l.length:0;++k<m;)d=l[k],f[d]=j?j(f[d],e[d]):e[d];return f},de=function(a,b,c){var d,e=a,f=e;if(!e)return f;for(var g=arguments,h=0,i="number"==typeof c?2:g.length;++h<i;)if(e=g[h],e&&V[typeof e])for(var j=-1,k=V[typeof e]&&Zd(e),l=k?k.length:0;++j<l;)d=k[j],"undefined"==typeof f[d]&&(f[d]=e[d]);return f},ee=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!V[typeof e])return f;b=b&&"undefined"==typeof c?b:W(b,c,3);for(d in e)if(b(e[d],d,a)===!1)return f;return f},fe=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!V[typeof e])return f;b=b&&"undefined"==typeof c?b:W(b,c,3);for(var g=-1,h=V[typeof e]&&Zd(e),i=h?h.length:0;++g<i;)if(d=h[g],b(e[d],d,a)===!1)return f;return f},ge=function(a){if(!a||Ed.call(a)!=P)return!1;var b=a.valueOf,c="function"==typeof b&&(c=xd(b))&&xd(c);return c?a==c||xd(a)==c:hb(a)},he=cb(function(a,b,c){yd.call(a,c)?a[c]++:a[c]=1}),ie=cb(function(a,b,c){(yd.call(a,c)?a[c]:a[c]=[]).push(b)}),je=cb(function(a,b,c){a[c]=b}),ke=Qb;Td&&$&&"function"==typeof Bd&&(Kc=function(a){if(!zb(a))throw new od;return Bd.apply(c,arguments)});var le=8==Pd(v+"08")?Pd:function(a,b){return Pd(Fb(a)?a.replace(D,""):a,b||0)};return p.after=Cc,p.assign=ce,p.at=Nb,p.bind=Dc,p.bindAll=Ec,p.bindKey=Fc,p.chain=ad,p.compact=hc,p.compose=Gc,p.countBy=he,p.createCallback=Hc,p.curry=Ic,p.debounce=Jc,p.defaults=de,p.defer=Kc,p.delay=Lc,p.difference=ic,p.filter=Qb,p.flatten=mc,p.forEach=Tb,p.forEachRight=Ub,p.forIn=ee,p.forInRight=ob,p.forOwn=fe,p.forOwnRight=pb,p.functions=qb,p.groupBy=ie,p.indexBy=je,p.initial=oc,p.intersection=pc,p.invert=sb,p.invoke=Vb,p.keys=Zd,p.map=Wb,p.max=Xb,p.memoize=Mc,p.merge=Hb,p.min=Yb,p.omit=Ib,p.once=Nc,p.pairs=Jb,p.partial=Oc,p.partialRight=Pc,p.pick=Kb,p.pluck=Zb,p.pull=sc,p.range=tc,p.reject=ac,p.remove=uc,p.rest=vc,p.shuffle=cc,p.sortBy=fc,p.tap=bd,p.throttle=Qc,p.times=Zc,p.toArray=gc,p.transform=Lb,p.union=xc,p.uniq=yc,p.values=Mb,p.where=ke,p.without=zc,p.wrap=Rc,p.zip=Ac,p.zipObject=Bc,p.collect=Wb,p.drop=vc,p.each=Tb,p.eachRight=Ub,p.extend=ce,p.methods=qb,p.object=Bc,p.select=Qb,p.tail=vc,p.unique=yc,p.unzip=Ac,Uc(p),p.clone=kb,p.cloneDeep=lb,p.contains=Ob,p.escape=Sc,p.every=Pb,p.find=Rb,p.findIndex=jc,p.findKey=mb,p.findLast=Sb,p.findLastIndex=kc,p.findLastKey=nb,p.has=rb,p.identity=Tc,p.indexOf=nc,p.isArguments=jb,p.isArray=Xd,p.isBoolean=tb,p.isDate=ub,p.isElement=vb,p.isEmpty=wb,p.isEqual=xb,p.isFinite=yb,p.isFunction=zb,p.isNaN=Bb,p.isNull=Cb,p.isNumber=Db,p.isObject=Ab,p.isPlainObject=ge,p.isRegExp=Eb,p.isString=Fb,p.isUndefined=Gb,p.lastIndexOf=rc,p.mixin=Uc,p.noConflict=Vc,p.parseInt=le,p.random=Wc,p.reduce=$b,p.reduceRight=_b,p.result=Xc,p.runInContext=n,p.size=dc,p.some=ec,p.sortedIndex=wc,p.template=Yc,p.unescape=$c,p.uniqueId=_c,p.all=Pb,p.any=ec,p.detect=Rb,p.findWhere=Rb,p.foldl=$b,p.foldr=_b,p.include=Ob,p.inject=$b,fe(p,function(a,b){p.prototype[b]||(p.prototype[b]=function(){var b=[this.__wrapped__],c=this.__chain__;Ad.apply(b,arguments);var d=a.apply(p,b);return c?new q(d,c):d})}),p.first=lc,p.last=qc,p.sample=bc,p.take=lc,p.head=lc,fe(p,function(a,b){var c="sample"!==b;p.prototype[b]||(p.prototype[b]=function(b,d){var e=this.__chain__,f=a(this.__wrapped__,b,d);return e||null!=b&&(!d||c&&"function"==typeof b)?new q(f,e):f})}),p.VERSION="2.2.1",p.prototype.chain=cd,p.prototype.toString=dd,p.prototype.value=ed,p.prototype.valueOf=ed,Tb(["join","pop","shift"],function(a){var b=pd[a];p.prototype[a]=function(){var a=this.__chain__,c=b.apply(this.__wrapped__,arguments);return a?new q(c,a):c}}),Tb(["push","reverse","sort","unshift"],function(a){var b=pd[a];p.prototype[a]=function(){return b.apply(this.__wrapped__,arguments),this}}),Tb(["concat","slice","splice"],function(a){var b=pd[a];p.prototype[a]=function(){return new q(b.apply(this.__wrapped__,arguments),this.__chain__)}}),p}var o,p=[],q=[],r=0,s=+new Date+"",t=75,u=40,v=" 	\f \n\r\u2028\u2029 ᠎             　",w=/\b__p \+= '';/g,x=/\b(__p \+=) '' \+/g,y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,z=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,A=/\w*$/,B=/^function[ \n\r\t]+\w/,C=/<%=([\s\S]+?)%>/g,D=RegExp("^["+v+"]*0+(?=.$)"),E=/($^)/,F=/\bthis\b/,G=/['\n\r\t\u2028\u2029\\]/g,H=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"],I=0,J="[object Arguments]",K="[object Array]",L="[object Boolean]",M="[object Date]",N="[object Function]",O="[object Number]",P="[object Object]",Q="[object RegExp]",R="[object String]",S={};S[N]=!1,S[J]=S[K]=S[L]=S[M]=S[O]=S[P]=S[Q]=S[R]=!0;var T={leading:!1,maxWait:0,trailing:!1},U={configurable:!1,enumerable:!1,value:null,writable:!1},V={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},W={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},X=V[typeof window]&&window||this,Y=V[typeof exports]&&exports&&!exports.nodeType&&exports,Z=V[typeof module]&&module&&!module.nodeType&&module,$=Z&&Z.exports===Y&&Y,_=V[typeof global]&&global;_&&(_.global===_||_.window===_)&&(X=_);var ab=n();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(X._=ab,define("underscore",[],function(){return ab})):Y&&Z?$?(Z.exports=ab)._=ab:Y._=ab:X._=ab}).call(this),function(a,b){function c(a){var b=a.length,c=kb.type(a);return kb.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"==typeof b&&b>0&&b-1 in a)}function d(a){var b=zb[a]={};return kb.each(a.match(mb)||[],function(a,c){b[c]=!0}),b}function e(a,c,d,e){if(kb.acceptData(a)){var f,g,h=kb.expando,i=a.nodeType,j=i?kb.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||d!==b||"string"!=typeof c)return k||(k=i?a[h]=bb.pop()||kb.guid++:h),j[k]||(j[k]=i?{}:{toJSON:kb.noop}),("object"==typeof c||"function"==typeof c)&&(e?j[k]=kb.extend(j[k],c):j[k].data=kb.extend(j[k].data,c)),g=j[k],e||(g.data||(g.data={}),g=g.data),d!==b&&(g[kb.camelCase(c)]=d),"string"==typeof c?(f=g[c],null==f&&(f=g[kb.camelCase(c)])):f=g,f}}function f(a,b,c){if(kb.acceptData(a)){var d,e,f=a.nodeType,g=f?kb.cache:a,i=f?a[kb.expando]:kb.expando;if(g[i]){if(b&&(d=c?g[i]:g[i].data)){kb.isArray(b)?b=b.concat(kb.map(b,kb.camelCase)):b in d?b=[b]:(b=kb.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!h(d):!kb.isEmptyObject(d))return}(c||(delete g[i].data,h(g[i])))&&(f?kb.cleanData([a],!0):kb.support.deleteExpando||g!=g.window?delete g[i]:g[i]=null)}}}function g(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(Bb,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:Ab.test(d)?kb.parseJSON(d):d}catch(f){}kb.data(a,c,d)}else d=b}return d}function h(a){var b;for(b in a)if(("data"!==b||!kb.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function i(){return!0}function j(){return!1}function k(){try{return Y.activeElement}catch(a){}}function l(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function m(a,b,c){if(kb.isFunction(b))return kb.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return kb.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(Qb.test(b))return kb.filter(b,a,c);b=kb.filter(b,a)}return kb.grep(a,function(a){return kb.inArray(a,b)>=0!==c})}function n(a){var b=Ub.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function o(a,b){return kb.nodeName(a,"table")&&kb.nodeName(1===b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function p(a){return a.type=(null!==kb.find.attr(a,"type"))+"/"+a.type,a}function q(a){var b=ec.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function r(a,b){for(var c,d=0;null!=(c=a[d]);d++)kb._data(c,"globalEval",!b||kb._data(b[d],"globalEval"))}function s(a,b){if(1===b.nodeType&&kb.hasData(a)){var c,d,e,f=kb._data(a),g=kb._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)kb.event.add(b,c,h[c][d])}g.data&&(g.data=kb.extend({},g.data))}}function t(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!kb.support.noCloneEvent&&b[kb.expando]){e=kb._data(b);for(d in e.events)kb.removeEvent(b,d,e.handle);b.removeAttribute(kb.expando)}"script"===c&&b.text!==a.text?(p(b).text=a.text,q(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),kb.support.html5Clone&&a.innerHTML&&!kb.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&bc.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function u(a,c){var d,e,f=0,g=typeof a.getElementsByTagName!==W?a.getElementsByTagName(c||"*"):typeof a.querySelectorAll!==W?a.querySelectorAll(c||"*"):b;if(!g)for(g=[],d=a.childNodes||a;null!=(e=d[f]);f++)!c||kb.nodeName(e,c)?g.push(e):kb.merge(g,u(e,c));return c===b||c&&kb.nodeName(a,c)?kb.merge([a],g):g}function v(a){bc.test(a.type)&&(a.defaultChecked=a.checked)}function w(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=yc.length;e--;)if(b=yc[e]+c,b in a)return b;return d}function x(a,b){return a=b||a,"none"===kb.css(a,"display")||!kb.contains(a.ownerDocument,a)}function y(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=kb._data(d,"olddisplay"),c=d.style.display,b?(!f[g]&&"none"===c&&(d.style.display=""),""===d.style.display&&x(d)&&(f[g]=kb._data(d,"olddisplay",C(d.nodeName)))):f[g]||(e=x(d),(c&&"none"!==c||!e)&&kb._data(d,"olddisplay",e?c:kb.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));
return a}function z(a,b,c){var d=rc.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function A(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=kb.css(a,c+xc[f],!0,e)),d?("content"===c&&(g-=kb.css(a,"padding"+xc[f],!0,e)),"margin"!==c&&(g-=kb.css(a,"border"+xc[f]+"Width",!0,e))):(g+=kb.css(a,"padding"+xc[f],!0,e),"padding"!==c&&(g+=kb.css(a,"border"+xc[f]+"Width",!0,e)));return g}function B(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=kc(a),g=kb.support.boxSizing&&"border-box"===kb.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=lc(a,b,f),(0>e||null==e)&&(e=a.style[b]),sc.test(e))return e;d=g&&(kb.support.boxSizingReliable||e===a.style[b]),e=parseFloat(e)||0}return e+A(a,b,c||(g?"border":"content"),d,f)+"px"}function C(a){var b=Y,c=uc[a];return c||(c=D(a,b),"none"!==c&&c||(jc=(jc||kb("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(jc[0].contentWindow||jc[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=D(a,b),jc.detach()),uc[a]=c),c}function D(a,b){var c=kb(b.createElement(a)).appendTo(b.body),d=kb.css(c[0],"display");return c.remove(),d}function E(a,b,c,d){var e;if(kb.isArray(b))kb.each(b,function(b,e){c||Ac.test(a)?d(a,e):E(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==kb.type(b))d(a,b);else for(e in b)E(a+"["+e+"]",b[e],c,d)}function F(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(mb)||[];if(kb.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function G(a,b,c,d){function e(h){var i;return f[h]=!0,kb.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Rc;return e(b.dataTypes[0])||!f["*"]&&e("*")}function H(a,c){var d,e,f=kb.ajaxSettings.flatOptions||{};for(e in c)c[e]!==b&&((f[e]?a:d||(d={}))[e]=c[e]);return d&&kb.extend(!0,a,d),a}function I(a,c,d){for(var e,f,g,h,i=a.contents,j=a.dataTypes;"*"===j[0];)j.shift(),f===b&&(f=a.mimeType||c.getResponseHeader("Content-Type"));if(f)for(h in i)if(i[h]&&i[h].test(f)){j.unshift(h);break}if(j[0]in d)g=j[0];else{for(h in d){if(!j[0]||a.converters[h+" "+j[0]]){g=h;break}e||(e=h)}g=g||e}return g?(g!==j[0]&&j.unshift(g),d[g]):void 0}function J(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift(),f)if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function K(){try{return new a.XMLHttpRequest}catch(b){}}function L(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function M(){return setTimeout(function(){$c=b}),$c=kb.now()}function N(a,b,c){for(var d,e=(ed[b]||[]).concat(ed["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function O(a,b,c){var d,e,f=0,g=dd.length,h=kb.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$c||M(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:kb.extend({},b),opts:kb.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$c||M(),duration:c.duration,tweens:[],createTween:function(b,c){var d=kb.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(P(k,j.opts.specialEasing);g>f;f++)if(d=dd[f].call(j,a,k,j.opts))return d;return kb.map(k,N,j),kb.isFunction(j.opts.start)&&j.opts.start.call(a,j),kb.fx.timer(kb.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function P(a,b){var c,d,e,f,g;for(c in a)if(d=kb.camelCase(c),e=b[d],f=a[c],kb.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=kb.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Q(a,b,c){var d,e,f,g,h,i,j=this,k={},l=a.style,m=a.nodeType&&x(a),n=kb._data(a,"fxshow");c.queue||(h=kb._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,j.always(function(){j.always(function(){h.unqueued--,kb.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[l.overflow,l.overflowX,l.overflowY],"inline"===kb.css(a,"display")&&"none"===kb.css(a,"float")&&(kb.support.inlineBlockNeedsLayout&&"inline"!==C(a.nodeName)?l.zoom=1:l.display="inline-block")),c.overflow&&(l.overflow="hidden",kb.support.shrinkWrapBlocks||j.always(function(){l.overflow=c.overflow[0],l.overflowX=c.overflow[1],l.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ad.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(m?"hide":"show"))continue;k[d]=n&&n[d]||kb.style(a,d)}if(!kb.isEmptyObject(k)){n?"hidden"in n&&(m=n.hidden):n=kb._data(a,"fxshow",{}),f&&(n.hidden=!m),m?kb(a).show():j.done(function(){kb(a).hide()}),j.done(function(){var b;kb._removeData(a,"fxshow");for(b in k)kb.style(a,b,k[b])});for(d in k)g=N(m?n[d]:0,d,j),d in n||(n[d]=g.start,m&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function R(a,b,c,d,e){return new R.prototype.init(a,b,c,d,e)}function S(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=xc[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function T(a){return kb.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var U,V,W=typeof b,X=a.location,Y=a.document,Z=Y.documentElement,$=a.jQuery,_=a.$,ab={},bb=[],cb="1.10.2",db=bb.concat,eb=bb.push,fb=bb.slice,gb=bb.indexOf,hb=ab.toString,ib=ab.hasOwnProperty,jb=cb.trim,kb=function(a,b){return new kb.fn.init(a,b,V)},lb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,mb=/\S+/g,nb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ob=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,pb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,qb=/^[\],:{}\s]*$/,rb=/(?:^|:|,)(?:\s*\[)+/g,sb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,tb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,ub=/^-ms-/,vb=/-([\da-z])/gi,wb=function(a,b){return b.toUpperCase()},xb=function(a){(Y.addEventListener||"load"===a.type||"complete"===Y.readyState)&&(yb(),kb.ready())},yb=function(){Y.addEventListener?(Y.removeEventListener("DOMContentLoaded",xb,!1),a.removeEventListener("load",xb,!1)):(Y.detachEvent("onreadystatechange",xb),a.detachEvent("onload",xb))};kb.fn=kb.prototype={jquery:cb,constructor:kb,init:function(a,c,d){var e,f;if(!a)return this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:ob.exec(a),e&&(e[1]||!c)){if(e[1]){if(c=c instanceof kb?c[0]:c,kb.merge(this,kb.parseHTML(e[1],c&&c.nodeType?c.ownerDocument||c:Y,!0)),pb.test(e[1])&&kb.isPlainObject(c))for(e in c)kb.isFunction(this[e])?this[e](c[e]):this.attr(e,c[e]);return this}if(f=Y.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=Y,this.selector=a,this}return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a)}return a.nodeType?(this.context=this[0]=a,this.length=1,this):kb.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),kb.makeArray(a,this))},selector:"",length:0,toArray:function(){return fb.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){var b=kb.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return kb.each(this,a,b)},ready:function(a){return kb.ready.promise().done(a),this},slice:function(){return this.pushStack(fb.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},map:function(a){return this.pushStack(kb.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:eb,sort:[].sort,splice:[].splice},kb.fn.init.prototype=kb.fn,kb.extend=kb.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"!=typeof h&&!kb.isFunction(h)&&(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(f=arguments[i]))for(e in f)a=h[e],d=f[e],h!==d&&(k&&d&&(kb.isPlainObject(d)||(c=kb.isArray(d)))?(c?(c=!1,g=a&&kb.isArray(a)?a:[]):g=a&&kb.isPlainObject(a)?a:{},h[e]=kb.extend(k,g,d)):d!==b&&(h[e]=d));return h},kb.extend({expando:"jQuery"+(cb+Math.random()).replace(/\D/g,""),noConflict:function(b){return a.$===kb&&(a.$=_),b&&a.jQuery===kb&&(a.jQuery=$),kb},isReady:!1,readyWait:1,holdReady:function(a){a?kb.readyWait++:kb.ready(!0)},ready:function(a){if(a===!0?!--kb.readyWait:!kb.isReady){if(!Y.body)return setTimeout(kb.ready);kb.isReady=!0,a!==!0&&--kb.readyWait>0||(U.resolveWith(Y,[kb]),kb.fn.trigger&&kb(Y).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===kb.type(a)},isArray:Array.isArray||function(a){return"array"===kb.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):"object"==typeof a||"function"==typeof a?ab[hb.call(a)]||"object":typeof a},isPlainObject:function(a){var c;if(!a||"object"!==kb.type(a)||a.nodeType||kb.isWindow(a))return!1;try{if(a.constructor&&!ib.call(a,"constructor")&&!ib.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}if(kb.support.ownLast)for(c in a)return ib.call(a,c);for(c in a);return c===b||ib.call(a,c)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||Y;var d=pb.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=kb.buildFragment([a],b,e),e&&kb(e).remove(),kb.merge([],d.childNodes))},parseJSON:function(b){return a.JSON&&a.JSON.parse?a.JSON.parse(b):null===b?b:"string"==typeof b&&(b=kb.trim(b),b&&qb.test(b.replace(sb,"@").replace(tb,"]").replace(rb,"")))?new Function("return "+b)():(kb.error("Invalid JSON: "+b),void 0)},parseXML:function(c){var d,e;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&kb.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&kb.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(ub,"ms-").replace(vb,wb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:jb&&!jb.call(" ")?function(a){return null==a?"":jb.call(a)}:function(a){return null==a?"":(a+"").replace(nb,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?kb.merge(d,"string"==typeof a?[a]:a):eb.call(d,a)),d},inArray:function(a,b,c){var d;if(b){if(gb)return gb.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;d>f;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&(i[i.length]=e);else for(f in a)e=b(a[f],f,d),null!=e&&(i[i.length]=e);return db.apply([],i)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(f=a[c],c=a,a=f),kb.isFunction(a)?(d=fb.call(arguments,2),e=function(){return a.apply(c||this,d.concat(fb.call(arguments)))},e.guid=a.guid=a.guid||kb.guid++,e):b},access:function(a,c,d,e,f,g,h){var i=0,j=a.length,k=null==d;if("object"===kb.type(d)){f=!0;for(i in d)kb.access(a,c,i,d[i],!0,g,h)}else if(e!==b&&(f=!0,kb.isFunction(e)||(h=!0),k&&(h?(c.call(a,e),c=null):(k=c,c=function(a,b,c){return k.call(kb(a),c)})),c))for(;j>i;i++)c(a[i],d,h?e:e.call(a[i],i,c(a[i],d)));return f?a:k?c.call(a):j?c(a[0],d):g},now:function(){return(new Date).getTime()},swap:function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e}}),kb.ready.promise=function(b){if(!U)if(U=kb.Deferred(),"complete"===Y.readyState)setTimeout(kb.ready);else if(Y.addEventListener)Y.addEventListener("DOMContentLoaded",xb,!1),a.addEventListener("load",xb,!1);else{Y.attachEvent("onreadystatechange",xb),a.attachEvent("onload",xb);var c=!1;try{c=null==a.frameElement&&Y.documentElement}catch(d){}c&&c.doScroll&&function e(){if(!kb.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}yb(),kb.ready()}}()}return U.promise(b)},kb.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){ab["[object "+b+"]"]=b.toLowerCase()}),V=kb(Y),function(a,b){function c(a,b,c,d){var e,f,g,h,i,j,k,l,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(I&&!d){if(e=tb.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return ab.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&x.getElementsByClassName&&b.getElementsByClassName)return ab.apply(c,b.getElementsByClassName(g)),c}if(x.qsa&&(!J||!J.test(a))){if(l=k=N,o=b,p=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=m(a),(k=b.getAttribute("id"))?l=k.replace(wb,"\\$&"):b.setAttribute("id",l),l="[id='"+l+"'] ",i=j.length;i--;)j[i]=l+n(j[i]);o=nb.test(a)&&b.parentNode||b,p=j.join(",")}if(p)try{return ab.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{k||b.removeAttribute("id")}}}return v(a.replace(jb,"$1"),b,c,d)}function d(){function a(c,d){return b.push(c+=" ")>z.cacheLength&&delete a[b.shift()],a[c]=d}var b=[];return a}function e(a){return a[N]=!0,a}function f(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function g(a,b){for(var c=a.split("|"),d=a.length;d--;)z.attrHandle[c[d]]=b}function h(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||X)-(~a.sourceIndex||X);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function i(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function j(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function k(a){return e(function(b){return b=+b,e(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function l(){}function m(a,b){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=z.preFilter;h;){(!d||(e=lb.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=mb.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(jb," ")}),h=h.slice(d.length));for(g in z.filter)(e=rb[g].exec(h))&&(!j[g]||(e=j[g](e)))&&(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return b?h.length:h?c.error(a):S(a,i).slice(0)}function n(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function o(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=P+" "+f;if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e)if(j=b[N]||(b[N]={}),(i=j[d])&&i[0]===k){if((h=i[1])===!0||h===y)return h===!0}else if(i=j[d]=[k],i[1]=a(b,c,g)||y,i[1]===!0)return!0}}function p(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,d,f,g){return d&&!d[N]&&(d=r(d)),f&&!f[N]&&(f=r(f,g)),e(function(e,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=e||u(b||"*",h.nodeType?[h]:h,[]),r=!a||!e&&b?p:q(p,m,a,h,i),s=c?f||(e?a:o||d)?[]:g:r;if(c&&c(r,s,h,i),d)for(j=q(s,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(s[n[k]]=!(r[n[k]]=l));if(e){if(f||a){if(f){for(j=[],k=s.length;k--;)(l=s[k])&&j.push(r[k]=l);f(null,s=[],j,i)}for(k=s.length;k--;)(l=s[k])&&(j=f?cb.call(e,l):m[k])>-1&&(e[j]=!(g[j]=l))}}else s=q(s===g?s.splice(o,s.length):s),f?f(null,g,s,i):ab.apply(g,s)})}function s(a){for(var b,c,d,e=a.length,f=z.relative[a[0].type],g=f||z.relative[" "],h=f?1:0,i=o(function(a){return a===b},g,!0),j=o(function(a){return cb.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==D)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=z.relative[a[h].type])k=[o(p(k),c)];else{if(c=z.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!z.relative[a[d].type];d++);return r(h>1&&p(k),h>1&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(jb,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&n(a))}k.push(c)}return p(k)}function t(a,b){var d=0,f=b.length>0,g=a.length>0,h=function(e,h,i,j,k){var l,m,n,o=[],p=0,r="0",s=e&&[],t=null!=k,u=D,v=e||g&&z.find.TAG("*",k&&h.parentNode||h),w=P+=null==u?1:Math.random()||.1;for(t&&(D=h!==G&&h,y=d);null!=(l=v[r]);r++){if(g&&l){for(m=0;n=a[m++];)if(n(l,h,i)){j.push(l);break}t&&(P=w,y=++d)}f&&((l=!n&&l)&&p--,e&&s.push(l))}if(p+=r,f&&r!==p){for(m=0;n=b[m++];)n(s,o,h,i);if(e){if(p>0)for(;r--;)!s[r]&&!o[r]&&(o[r]=$.call(j));o=q(o)}ab.apply(j,o),t&&!e&&o.length>0&&p+b.length>1&&c.uniqueSort(j)}return t&&(P=w,D=u),s};return f?e(h):h}function u(a,b,d){for(var e=0,f=b.length;f>e;e++)c(a,b[e],d);return d}function v(a,b,c,d){var e,f,g,h,i,j=m(a);if(!d&&1===j.length){if(f=j[0]=j[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&x.getById&&9===b.nodeType&&I&&z.relative[f[1].type]){if(b=(z.find.ID(g.matches[0].replace(xb,yb),b)||[])[0],!b)return c;a=a.slice(f.shift().value.length)}for(e=rb.needsContext.test(a)?0:f.length;e--&&(g=f[e],!z.relative[h=g.type]);)if((i=z.find[h])&&(d=i(g.matches[0].replace(xb,yb),nb.test(f[0].type)&&b.parentNode||b))){if(f.splice(e,1),a=d.length&&n(f),!a)return ab.apply(c,d),c;break}}return C(a,j)(d,b,!I,c,nb.test(a)),c}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P=0,Q=0,R=d(),S=d(),T=d(),U=!1,V=function(a,b){return a===b?(U=!0,0):0},W=typeof b,X=1<<31,Y={}.hasOwnProperty,Z=[],$=Z.pop,_=Z.push,ab=Z.push,bb=Z.slice,cb=Z.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},db="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",eb="[\\x20\\t\\r\\n\\f]",fb="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",gb=fb.replace("w","w#"),hb="\\["+eb+"*("+fb+")"+eb+"*(?:([*^$|!~]?=)"+eb+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+gb+")|)|)"+eb+"*\\]",ib=":("+fb+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+hb.replace(3,8)+")*)|.*)\\)|)",jb=new RegExp("^"+eb+"+|((?:^|[^\\\\])(?:\\\\.)*)"+eb+"+$","g"),lb=new RegExp("^"+eb+"*,"+eb+"*"),mb=new RegExp("^"+eb+"*([>+~]|"+eb+")"+eb+"*"),nb=new RegExp(eb+"*[+~]"),ob=new RegExp("="+eb+"*([^\\]'\"]*)"+eb+"*\\]","g"),pb=new RegExp(ib),qb=new RegExp("^"+gb+"$"),rb={ID:new RegExp("^#("+fb+")"),CLASS:new RegExp("^\\.("+fb+")"),TAG:new RegExp("^("+fb.replace("w","w*")+")"),ATTR:new RegExp("^"+hb),PSEUDO:new RegExp("^"+ib),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+eb+"*(even|odd|(([+-]|)(\\d*)n|)"+eb+"*(?:([+-]|)"+eb+"*(\\d+)|))"+eb+"*\\)|)","i"),bool:new RegExp("^(?:"+db+")$","i"),needsContext:new RegExp("^"+eb+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+eb+"*((?:-\\d)?\\d*)"+eb+"*\\)|)(?=[^-]|$)","i")},sb=/^[^{]+\{\s*\[native \w/,tb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ub=/^(?:input|select|textarea|button)$/i,vb=/^h\d$/i,wb=/'|\\/g,xb=new RegExp("\\\\([\\da-f]{1,6}"+eb+"?|("+eb+")|.)","ig"),yb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(55296|d>>10,56320|1023&d)};try{ab.apply(Z=bb.call(O.childNodes),O.childNodes),Z[O.childNodes.length].nodeType}catch(zb){ab={apply:Z.length?function(a,b){_.apply(a,bb.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}B=c.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},x=c.support={},F=c.setDocument=function(a){var b=a?a.ownerDocument||a:O,c=b.defaultView;return b!==G&&9===b.nodeType&&b.documentElement?(G=b,H=b.documentElement,I=!B(b),c&&c.attachEvent&&c!==c.top&&c.attachEvent("onbeforeunload",function(){F()}),x.attributes=f(function(a){return a.className="i",!a.getAttribute("className")}),x.getElementsByTagName=f(function(a){return a.appendChild(b.createComment("")),!a.getElementsByTagName("*").length}),x.getElementsByClassName=f(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),x.getById=f(function(a){return H.appendChild(a).id=N,!b.getElementsByName||!b.getElementsByName(N).length}),x.getById?(z.find.ID=function(a,b){if(typeof b.getElementById!==W&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},z.filter.ID=function(a){var b=a.replace(xb,yb);return function(a){return a.getAttribute("id")===b}}):(delete z.find.ID,z.filter.ID=function(a){var b=a.replace(xb,yb);return function(a){var c=typeof a.getAttributeNode!==W&&a.getAttributeNode("id");return c&&c.value===b}}),z.find.TAG=x.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==W?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},z.find.CLASS=x.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==W&&I?b.getElementsByClassName(a):void 0},K=[],J=[],(x.qsa=sb.test(b.querySelectorAll))&&(f(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||J.push("\\["+eb+"*(?:value|"+db+")"),a.querySelectorAll(":checked").length||J.push(":checked")}),f(function(a){var c=b.createElement("input");c.setAttribute("type","hidden"),a.appendChild(c).setAttribute("t",""),a.querySelectorAll("[t^='']").length&&J.push("[*^$]="+eb+"*(?:''|\"\")"),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(x.matchesSelector=sb.test(L=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&f(function(a){x.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ib)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),M=sb.test(H.contains)||H.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!!d&&1===d.nodeType&&!!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},V=H.compareDocumentPosition?function(a,c){if(a===c)return U=!0,0;var d=c.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(c);return d?1&d||!x.sortDetached&&c.compareDocumentPosition(a)===d?a===b||M(O,a)?-1:c===b||M(O,c)?1:E?cb.call(E,a)-cb.call(E,c):0:4&d?-1:1:a.compareDocumentPosition?-1:1}:function(a,c){var d,e=0,f=a.parentNode,g=c.parentNode,i=[a],j=[c];if(a===c)return U=!0,0;if(!f||!g)return a===b?-1:c===b?1:f?-1:g?1:E?cb.call(E,a)-cb.call(E,c):0;if(f===g)return h(a,c);for(d=a;d=d.parentNode;)i.unshift(d);for(d=c;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?h(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},b):G},c.matches=function(a,b){return c(a,null,null,b)},c.matchesSelector=function(a,b){if((a.ownerDocument||a)!==G&&F(a),b=b.replace(ob,"='$1']"),!(!x.matchesSelector||!I||K&&K.test(b)||J&&J.test(b)))try{var d=L.call(a,b);if(d||x.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return c(b,G,null,[a]).length>0},c.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},c.attr=function(a,c){(a.ownerDocument||a)!==G&&F(a);var d=z.attrHandle[c.toLowerCase()],e=d&&Y.call(z.attrHandle,c.toLowerCase())?d(a,c,!I):b;return e===b?x.attributes||!I?a.getAttribute(c):(e=a.getAttributeNode(c))&&e.specified?e.value:null:e},c.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},c.uniqueSort=function(a){var b,c=[],d=0,e=0;if(U=!x.detectDuplicates,E=!x.sortStable&&a.slice(0),a.sort(V),U){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return a},A=c.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=A(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=A(b);return c},z=c.selectors={cacheLength:50,createPseudo:e,match:rb,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(xb,yb),a[3]=(a[4]||a[5]||"").replace(xb,yb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||c.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&c.error(a[0]),a},PSEUDO:function(a){var c,d=!a[5]&&a[2];return rb.CHILD.test(a[0])?null:(a[3]&&a[4]!==b?a[2]=a[4]:d&&pb.test(d)&&(c=m(d,!0))&&(c=d.indexOf(")",d.length-c)-d.length)&&(a[0]=a[0].slice(0,c),a[2]=d.slice(0,c)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(xb,yb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+eb+")"+a+"("+eb+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==W&&a.getAttribute("class")||"")})},ATTR:function(a,b,d){return function(e){var f=c.attr(e,a);return null==f?"!="===b:b?(f+="","="===b?f===d:"!="===b?f!==d:"^="===b?d&&0===f.indexOf(d):"*="===b?d&&f.indexOf(d)>-1:"$="===b?d&&f.slice(-d.length)===d:"~="===b?(" "+f+" ").indexOf(d)>-1:"|="===b?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||0===m%d&&m/d>=0}}},PSEUDO:function(a,b){var d,f=z.pseudos[a]||z.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return f[N]?f(b):f.length>1?(d=[a,a,"",b],z.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,c){for(var d,e=f(a,b),g=e.length;g--;)d=cb.call(a,e[g]),a[d]=!(c[d]=e[g])}):function(a){return f(a,0,d)}):f}},pseudos:{not:e(function(a){var b=[],c=[],d=C(a.replace(jb,"$1"));return d[N]?e(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:e(function(a){return function(b){return c(a,b).length>0}}),contains:e(function(a){return function(b){return(b.textContent||b.innerText||A(b)).indexOf(a)>-1}}),lang:e(function(a){return qb.test(a||"")||c.error("unsupported lang: "+a),a=a.replace(xb,yb).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeName>"@"||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!z.pseudos.empty(a)},header:function(a){return vb.test(a.nodeName)},input:function(a){return ub.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:k(function(){return[0]}),last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[0>c?c+b:c]}),even:k(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:k(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:k(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},z.pseudos.nth=z.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})z.pseudos[w]=i(w);for(w in{submit:!0,reset:!0})z.pseudos[w]=j(w);l.prototype=z.filters=z.pseudos,z.setFilters=new l,C=c.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=m(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d))}return f},x.sortStable=N.split("").sort(V).join("")===N,x.detectDuplicates=U,F(),x.sortDetached=f(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),f(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||g("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),(!x.attributes||!f(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")}))&&g("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),f(function(a){return null==a.getAttribute("disabled")})||g(db,function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&d.specified?d.value:a[b]===!0?b.toLowerCase():null}),kb.find=c,kb.expr=c.selectors,kb.expr[":"]=kb.expr.pseudos,kb.unique=c.uniqueSort,kb.text=c.getText,kb.isXMLDoc=c.isXML,kb.contains=c.contains}(a);var zb={};kb.Callbacks=function(a){a="string"==typeof a?zb[a]||d(a):kb.extend({},a);
var c,e,f,g,h,i,j=[],k=!a.once&&[],l=function(b){for(e=a.memory&&b,f=!0,h=i||0,i=0,g=j.length,c=!0;j&&g>h;h++)if(j[h].apply(b[0],b[1])===!1&&a.stopOnFalse){e=!1;break}c=!1,j&&(k?k.length&&l(k.shift()):e?j=[]:m.disable())},m={add:function(){if(j){var b=j.length;!function d(b){kb.each(b,function(b,c){var e=kb.type(c);"function"===e?(!a.unique||!m.has(c))&&j.push(c):c&&c.length&&"string"!==e&&d(c)})}(arguments),c?g=j.length:e&&(i=b,l(e))}return this},remove:function(){return j&&kb.each(arguments,function(a,b){for(var d;(d=kb.inArray(b,j,d))>-1;)j.splice(d,1),c&&(g>=d&&g--,h>=d&&h--)}),this},has:function(a){return a?kb.inArray(a,j)>-1:!!j&&!!j.length},empty:function(){return j=[],g=0,this},disable:function(){return j=k=e=b,this},disabled:function(){return!j},lock:function(){return k=b,e||m.disable(),this},locked:function(){return!k},fireWith:function(a,b){return j&&(!f||k)&&(b=b||[],b=[a,b.slice?b.slice():b],c?k.push(b):l(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!f}};return m},kb.extend({Deferred:function(a){var b=[["resolve","done",kb.Callbacks("once memory"),"resolved"],["reject","fail",kb.Callbacks("once memory"),"rejected"],["notify","progress",kb.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return kb.Deferred(function(c){kb.each(b,function(b,f){var g=f[0],h=kb.isFunction(a[b])&&a[b];e[f[1]](function(){var a=h&&h.apply(this,arguments);a&&kb.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[g+"With"](this===d?c.promise():this,h?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?kb.extend(a,d):d}},e={};return d.pipe=d.then,kb.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=fb.call(arguments),g=f.length,h=1!==g||a&&kb.isFunction(a.promise)?g:0,i=1===h?a:kb.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?fb.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&kb.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),kb.support=function(b){var c,d,e,f,g,h,i,j,k,l=Y.createElement("div");if(l.setAttribute("className","t"),l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=l.getElementsByTagName("*")||[],d=l.getElementsByTagName("a")[0],!d||!d.style||!c.length)return b;f=Y.createElement("select"),h=f.appendChild(Y.createElement("option")),e=l.getElementsByTagName("input")[0],d.style.cssText="top:1px;float:left;opacity:.5",b.getSetAttribute="t"!==l.className,b.leadingWhitespace=3===l.firstChild.nodeType,b.tbody=!l.getElementsByTagName("tbody").length,b.htmlSerialize=!!l.getElementsByTagName("link").length,b.style=/top/.test(d.getAttribute("style")),b.hrefNormalized="/a"===d.getAttribute("href"),b.opacity=/^0.5/.test(d.style.opacity),b.cssFloat=!!d.style.cssFloat,b.checkOn=!!e.value,b.optSelected=h.selected,b.enctype=!!Y.createElement("form").enctype,b.html5Clone="<:nav></:nav>"!==Y.createElement("nav").cloneNode(!0).outerHTML,b.inlineBlockNeedsLayout=!1,b.shrinkWrapBlocks=!1,b.pixelPosition=!1,b.deleteExpando=!0,b.noCloneEvent=!0,b.reliableMarginRight=!0,b.boxSizingReliable=!0,e.checked=!0,b.noCloneChecked=e.cloneNode(!0).checked,f.disabled=!0,b.optDisabled=!h.disabled;try{delete l.test}catch(m){b.deleteExpando=!1}e=Y.createElement("input"),e.setAttribute("value",""),b.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),b.radioValue="t"===e.value,e.setAttribute("checked","t"),e.setAttribute("name","t"),g=Y.createDocumentFragment(),g.appendChild(e),b.appendChecked=e.checked,b.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,l.attachEvent&&(l.attachEvent("onclick",function(){b.noCloneEvent=!1}),l.cloneNode(!0).click());for(k in{submit:!0,change:!0,focusin:!0})l.setAttribute(i="on"+k,"t"),b[k+"Bubbles"]=i in a||l.attributes[i].expando===!1;l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===l.style.backgroundClip;for(k in kb(b))break;return b.ownLast="0"!==k,kb(function(){var c,d,e,f="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",g=Y.getElementsByTagName("body")[0];g&&(c=Y.createElement("div"),c.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",g.appendChild(c).appendChild(l),l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=l.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",j=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",b.reliableHiddenOffsets=j&&0===e[0].offsetHeight,l.innerHTML="",l.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",kb.swap(g,null!=g.style.zoom?{zoom:1}:{},function(){b.boxSizing=4===l.offsetWidth}),a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(l,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(l,null)||{width:"4px"}).width,d=l.appendChild(Y.createElement("div")),d.style.cssText=l.style.cssText=f,d.style.marginRight=d.style.width="0",l.style.width="1px",b.reliableMarginRight=!parseFloat((a.getComputedStyle(d,null)||{}).marginRight)),typeof l.style.zoom!==W&&(l.innerHTML="",l.style.cssText=f+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===l.offsetWidth,l.style.display="block",l.innerHTML="<div></div>",l.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==l.offsetWidth,b.inlineBlockNeedsLayout&&(g.style.zoom=1)),g.removeChild(c),c=l=e=d=null)}),c=f=g=h=d=e=null,b}({});var Ab=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Bb=/([A-Z])/g;kb.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?kb.cache[a[kb.expando]]:a[kb.expando],!!a&&!h(a)},data:function(a,b,c){return e(a,b,c)},removeData:function(a,b){return f(a,b)},_data:function(a,b,c){return e(a,b,c,!0)},_removeData:function(a,b){return f(a,b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;var b=a.nodeName&&kb.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),kb.fn.extend({data:function(a,c){var d,e,f=null,h=0,i=this[0];if(a===b){if(this.length&&(f=kb.data(i),1===i.nodeType&&!kb._data(i,"parsedAttrs"))){for(d=i.attributes;h<d.length;h++)e=d[h].name,0===e.indexOf("data-")&&(e=kb.camelCase(e.slice(5)),g(i,e,f[e]));kb._data(i,"parsedAttrs",!0)}return f}return"object"==typeof a?this.each(function(){kb.data(this,a)}):arguments.length>1?this.each(function(){kb.data(this,a,c)}):i?g(i,a,kb.data(i,a)):null},removeData:function(a){return this.each(function(){kb.removeData(this,a)})}}),kb.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=kb._data(a,b),c&&(!d||kb.isArray(c)?d=kb._data(a,b,kb.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=kb.queue(a,b),d=c.length,e=c.shift(),f=kb._queueHooks(a,b),g=function(){kb.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return kb._data(a,c)||kb._data(a,c,{empty:kb.Callbacks("once memory").add(function(){kb._removeData(a,b+"queue"),kb._removeData(a,c)})})}}),kb.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),arguments.length<d?kb.queue(this[0],a):c===b?this:this.each(function(){var b=kb.queue(this,a,c);kb._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&kb.dequeue(this,a)})},dequeue:function(a){return this.each(function(){kb.dequeue(this,a)})},delay:function(a,b){return a=kb.fx?kb.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=kb.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,a=b),a=a||"fx";h--;)d=kb._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var Cb,Db,Eb=/[\t\r\n\f]/g,Fb=/\r/g,Gb=/^(?:input|select|textarea|button|object)$/i,Hb=/^(?:a|area)$/i,Ib=/^(?:checked|selected)$/i,Jb=kb.support.getSetAttribute,Kb=kb.support.input;kb.fn.extend({attr:function(a,b){return kb.access(this,kb.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){kb.removeAttr(this,a)})},prop:function(a,b){return kb.access(this,kb.prop,a,b,arguments.length>1)},removeProp:function(a){return a=kb.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g=0,h=this.length,i="string"==typeof a&&a;if(kb.isFunction(a))return this.each(function(b){kb(this).addClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(mb)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Eb," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");c.className=kb.trim(d)}return this},removeClass:function(a){var b,c,d,e,f,g=0,h=this.length,i=0===arguments.length||"string"==typeof a&&a;if(kb.isFunction(a))return this.each(function(b){kb(this).removeClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(mb)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Eb," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");c.className=a?kb.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):kb.isFunction(a)?this.each(function(c){kb(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,d=0,e=kb(this),f=a.match(mb)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===W||"boolean"===c)&&(this.className&&kb._data(this,"__className__",this.className),this.className=this.className||a===!1?"":kb._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Eb," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];{if(arguments.length)return e=kb.isFunction(a),this.each(function(c){var f;1===this.nodeType&&(f=e?a.call(this,c,kb(this).val()):a,null==f?f="":"number"==typeof f?f+="":kb.isArray(f)&&(f=kb.map(f,function(a){return null==a?"":a+""})),d=kb.valHooks[this.type]||kb.valHooks[this.nodeName.toLowerCase()],d&&"set"in d&&d.set(this,f,"value")!==b||(this.value=f))});if(f)return d=kb.valHooks[f.type]||kb.valHooks[f.nodeName.toLowerCase()],d&&"get"in d&&(c=d.get(f,"value"))!==b?c:(c=f.value,"string"==typeof c?c.replace(Fb,""):null==c?"":c)}}}),kb.extend({valHooks:{option:{get:function(a){var b=kb.find.attr(a,"value");return null!=b?b:a.text}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(kb.support.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&kb.nodeName(c.parentNode,"optgroup"))){if(b=kb(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=kb.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=kb.inArray(kb(d).val(),f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}},attr:function(a,c,d){var e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return typeof a.getAttribute===W?kb.prop(a,c,d):(1===g&&kb.isXMLDoc(a)||(c=c.toLowerCase(),e=kb.attrHooks[c]||(kb.expr.match.bool.test(c)?Db:Cb)),d===b?e&&"get"in e&&null!==(f=e.get(a,c))?f:(f=kb.find.attr(a,c),null==f?b:f):null!==d?e&&"set"in e&&(f=e.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d):(kb.removeAttr(a,c),void 0))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(mb);if(f&&1===a.nodeType)for(;c=f[e++];)d=kb.propFix[c]||c,kb.expr.match.bool.test(c)?Kb&&Jb||!Ib.test(c)?a[d]=!1:a[kb.camelCase("default-"+c)]=a[d]=!1:kb.attr(a,c,""),a.removeAttribute(Jb?c:d)},attrHooks:{type:{set:function(a,b){if(!kb.support.radioValue&&"radio"===b&&kb.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!kb.isXMLDoc(a),g&&(c=kb.propFix[c]||c,f=kb.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]},propHooks:{tabIndex:{get:function(a){var b=kb.find.attr(a,"tabindex");return b?parseInt(b,10):Gb.test(a.nodeName)||Hb.test(a.nodeName)&&a.href?0:-1}}}}),Db={set:function(a,b,c){return b===!1?kb.removeAttr(a,c):Kb&&Jb||!Ib.test(c)?a.setAttribute(!Jb&&kb.propFix[c]||c,c):a[kb.camelCase("default-"+c)]=a[c]=!0,c}},kb.each(kb.expr.match.bool.source.match(/\w+/g),function(a,c){var d=kb.expr.attrHandle[c]||kb.find.attr;kb.expr.attrHandle[c]=Kb&&Jb||!Ib.test(c)?function(a,c,e){var f=kb.expr.attrHandle[c],g=e?b:(kb.expr.attrHandle[c]=b)!=d(a,c,e)?c.toLowerCase():null;return kb.expr.attrHandle[c]=f,g}:function(a,c,d){return d?b:a[kb.camelCase("default-"+c)]?c.toLowerCase():null}}),Kb&&Jb||(kb.attrHooks.value={set:function(a,b,c){return kb.nodeName(a,"input")?(a.defaultValue=b,void 0):Cb&&Cb.set(a,b,c)}}),Jb||(Cb={set:function(a,c,d){var e=a.getAttributeNode(d);return e||a.setAttributeNode(e=a.ownerDocument.createAttribute(d)),e.value=c+="","value"===d||c===a.getAttribute(d)?c:b}},kb.expr.attrHandle.id=kb.expr.attrHandle.name=kb.expr.attrHandle.coords=function(a,c,d){var e;return d?b:(e=a.getAttributeNode(c))&&""!==e.value?e.value:null},kb.valHooks.button={get:function(a,c){var d=a.getAttributeNode(c);return d&&d.specified?d.value:b},set:Cb.set},kb.attrHooks.contenteditable={set:function(a,b,c){Cb.set(a,""===b?!1:b,c)}},kb.each(["width","height"],function(a,b){kb.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),kb.support.hrefNormalized||kb.each(["href","src"],function(a,b){kb.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),kb.support.style||(kb.attrHooks.style={get:function(a){return a.style.cssText||b},set:function(a,b){return a.style.cssText=b+""}}),kb.support.optSelected||(kb.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),kb.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){kb.propFix[this.toLowerCase()]=this}),kb.support.enctype||(kb.propFix.enctype="encoding"),kb.each(["radio","checkbox"],function(){kb.valHooks[this]={set:function(a,b){return kb.isArray(b)?a.checked=kb.inArray(kb(a).val(),b)>=0:void 0}},kb.support.checkOn||(kb.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Lb=/^(?:input|select|textarea)$/i,Mb=/^key/,Nb=/^(?:mouse|contextmenu)|click/,Ob=/^(?:focusinfocus|focusoutblur)$/,Pb=/^([^.]*)(?:\.(.+)|)$/;kb.event={global:{},add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r=kb._data(a);if(r){for(d.handler&&(j=d,d=j.handler,f=j.selector),d.guid||(d.guid=kb.guid++),(h=r.events)||(h=r.events={}),(l=r.handle)||(l=r.handle=function(a){return typeof kb===W||a&&kb.event.triggered===a.type?b:kb.event.dispatch.apply(l.elem,arguments)},l.elem=a),c=(c||"").match(mb)||[""],i=c.length;i--;)g=Pb.exec(c[i])||[],o=q=g[1],p=(g[2]||"").split(".").sort(),o&&(k=kb.event.special[o]||{},o=(f?k.delegateType:k.bindType)||o,k=kb.event.special[o]||{},m=kb.extend({type:o,origType:q,data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&kb.expr.match.needsContext.test(f),namespace:p.join(".")},j),(n=h[o])||(n=h[o]=[],n.delegateCount=0,k.setup&&k.setup.call(a,e,p,l)!==!1||(a.addEventListener?a.addEventListener(o,l,!1):a.attachEvent&&a.attachEvent("on"+o,l))),k.add&&(k.add.call(a,m),m.handler.guid||(m.handler.guid=d.guid)),f?n.splice(n.delegateCount++,0,m):n.push(m),kb.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=kb.hasData(a)&&kb._data(a);if(q&&(k=q.events)){for(b=(b||"").match(mb)||[""],j=b.length;j--;)if(h=Pb.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=kb.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!(!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,!l.remove||!l.remove.call(a,g)));i&&!m.length&&((!l.teardown||l.teardown.call(a,o,q.handle)===!1)&&kb.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)kb.event.remove(a,n+b[j],c,d,!0);kb.isEmptyObject(k)&&(delete q.handle,kb._removeData(a,"events"))}},trigger:function(c,d,e,f){var g,h,i,j,k,l,m,n=[e||Y],o=ib.call(c,"type")?c.type:c,p=ib.call(c,"namespace")?c.namespace.split("."):[];if(i=l=e=e||Y,3!==e.nodeType&&8!==e.nodeType&&!Ob.test(o+kb.event.triggered)&&(o.indexOf(".")>=0&&(p=o.split("."),o=p.shift(),p.sort()),h=o.indexOf(":")<0&&"on"+o,c=c[kb.expando]?c:new kb.Event(o,"object"==typeof c&&c),c.isTrigger=f?2:3,c.namespace=p.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=b,c.target||(c.target=e),d=null==d?[c]:kb.makeArray(d,[c]),k=kb.event.special[o]||{},f||!k.trigger||k.trigger.apply(e,d)!==!1)){if(!f&&!k.noBubble&&!kb.isWindow(e)){for(j=k.delegateType||o,Ob.test(j+o)||(i=i.parentNode);i;i=i.parentNode)n.push(i),l=i;l===(e.ownerDocument||Y)&&n.push(l.defaultView||l.parentWindow||a)}for(m=0;(i=n[m++])&&!c.isPropagationStopped();)c.type=m>1?j:k.bindType||o,g=(kb._data(i,"events")||{})[c.type]&&kb._data(i,"handle"),g&&g.apply(i,d),g=h&&i[h],g&&kb.acceptData(i)&&g.apply&&g.apply(i,d)===!1&&c.preventDefault();if(c.type=o,!f&&!c.isDefaultPrevented()&&(!k._default||k._default.apply(n.pop(),d)===!1)&&kb.acceptData(e)&&h&&e[o]&&!kb.isWindow(e)){l=e[h],l&&(e[h]=null),kb.event.triggered=o;try{e[o]()}catch(q){}kb.event.triggered=b,l&&(e[h]=l)}return c.result}},dispatch:function(a){a=kb.event.fix(a);var c,d,e,f,g,h=[],i=fb.call(arguments),j=(kb._data(this,"events")||{})[a.type]||[],k=kb.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=kb.event.handlers.call(this,a,j),c=0;(f=h[c++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,g=0;(e=f.handlers[g++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,d=((kb.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),d!==b&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,c){var d,e,f,g,h=[],i=c.delegateCount,j=a.target;if(i&&j.nodeType&&(!a.button||"click"!==a.type))for(;j!=this;j=j.parentNode||this)if(1===j.nodeType&&(j.disabled!==!0||"click"!==a.type)){for(f=[],g=0;i>g;g++)e=c[g],d=e.selector+" ",f[d]===b&&(f[d]=e.needsContext?kb(d,this).index(j)>=0:kb.find(d,this,null,[j]).length),f[d]&&f.push(e);f.length&&h.push({elem:j,handlers:f})}return i<c.length&&h.push({elem:this,handlers:c.slice(i)}),h},fix:function(a){if(a[kb.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Nb.test(e)?this.mouseHooks:Mb.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new kb.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||Y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return null==a.pageX&&null!=c.clientX&&(e=a.target.ownerDocument||Y,f=e.documentElement,d=e.body,a.pageX=c.clientX+(f&&f.scrollLeft||d&&d.scrollLeft||0)-(f&&f.clientLeft||d&&d.clientLeft||0),a.pageY=c.clientY+(f&&f.scrollTop||d&&d.scrollTop||0)-(f&&f.clientTop||d&&d.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),!a.which&&g!==b&&(a.which=1&g?1:2&g?3:4&g?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==k()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===k()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return kb.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return kb.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==b&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=kb.extend(new kb.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?kb.event.trigger(e,null,b):kb.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},kb.removeEvent=Y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===W&&(a[d]=null),a.detachEvent(d,c))},kb.Event=function(a,b){return this instanceof kb.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?i:j):this.type=a,b&&kb.extend(this,b),this.timeStamp=a&&a.timeStamp||kb.now(),this[kb.expando]=!0,void 0):new kb.Event(a,b)},kb.Event.prototype={isDefaultPrevented:j,isPropagationStopped:j,isImmediatePropagationStopped:j,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=i,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=i,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i,this.stopPropagation()}},kb.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){kb.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!kb.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),kb.support.submitBubbles||(kb.event.special.submit={setup:function(){return kb.nodeName(this,"form")?!1:(kb.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=kb.nodeName(c,"input")||kb.nodeName(c,"button")?c.form:b;d&&!kb._data(d,"submitBubbles")&&(kb.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),kb._data(d,"submitBubbles",!0))}),void 0)},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&kb.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return kb.nodeName(this,"form")?!1:(kb.event.remove(this,"._submit"),void 0)}}),kb.support.changeBubbles||(kb.event.special.change={setup:function(){return Lb.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(kb.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),kb.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),kb.event.simulate("change",this,a,!0)})),!1):(kb.event.add(this,"beforeactivate._change",function(a){var b=a.target;Lb.test(b.nodeName)&&!kb._data(b,"changeBubbles")&&(kb.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&kb.event.simulate("change",this.parentNode,a,!0)}),kb._data(b,"changeBubbles",!0))}),void 0)},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return kb.event.remove(this,"._change"),!Lb.test(this.nodeName)}}),kb.support.focusinBubbles||kb.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){kb.event.simulate(b,a.target,kb.event.fix(a),!0)};kb.event.special[b]={setup:function(){0===c++&&Y.addEventListener(a,d,!0)},teardown:function(){0===--c&&Y.removeEventListener(a,d,!0)}}}),kb.fn.extend({on:function(a,c,d,e,f){var g,h;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(g in a)this.on(g,c,d,a[g],f);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=j;else if(!e)return this;return 1===f&&(h=e,e=function(a){return kb().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=kb.guid++)),this.each(function(){kb.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,kb(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(f in a)this.off(f,c,a[f]);return this}return(c===!1||"function"==typeof c)&&(d=c,c=b),d===!1&&(d=j),this.each(function(){kb.event.remove(this,a,d,c)})},trigger:function(a,b){return this.each(function(){kb.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?kb.event.trigger(a,b,c,!0):void 0}});var Qb=/^.[^:#\[\.,]*$/,Rb=/^(?:parents|prev(?:Until|All))/,Sb=kb.expr.match.needsContext,Tb={children:!0,contents:!0,next:!0,prev:!0};kb.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(kb(a).filter(function(){for(b=0;e>b;b++)if(kb.contains(d[b],this))return!0}));for(b=0;e>b;b++)kb.find(a,d[b],c);return c=this.pushStack(e>1?kb.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},has:function(a){var b,c=kb(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(kb.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(m(this,a||[],!0))},filter:function(a){return this.pushStack(m(this,a||[],!1))},is:function(a){return!!m(this,"string"==typeof a&&Sb.test(a)?kb(a):a||[],!1).length},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Sb.test(a)||"string"!=typeof a?kb(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&kb.find.matchesSelector(c,a))){c=f.push(c);break}return this.pushStack(f.length>1?kb.unique(f):f)},index:function(a){return a?"string"==typeof a?kb.inArray(this[0],kb(a)):kb.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var c="string"==typeof a?kb(a,b):kb.makeArray(a&&a.nodeType?[a]:a),d=kb.merge(this.get(),c);return this.pushStack(kb.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),kb.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return kb.dir(a,"parentNode")},parentsUntil:function(a,b,c){return kb.dir(a,"parentNode",c)},next:function(a){return l(a,"nextSibling")},prev:function(a){return l(a,"previousSibling")},nextAll:function(a){return kb.dir(a,"nextSibling")},prevAll:function(a){return kb.dir(a,"previousSibling")},nextUntil:function(a,b,c){return kb.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return kb.dir(a,"previousSibling",c)},siblings:function(a){return kb.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return kb.sibling(a.firstChild)},contents:function(a){return kb.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:kb.merge([],a.childNodes)}},function(a,b){kb.fn[a]=function(c,d){var e=kb.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=kb.filter(d,e)),this.length>1&&(Tb[a]||(e=kb.unique(e)),Rb.test(a)&&(e=e.reverse())),this.pushStack(e)}}),kb.extend({filter:function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?kb.find.matchesSelector(d,a)?[d]:[]:kb.find.matches(a,kb.grep(b,function(a){return 1===a.nodeType}))},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!kb(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Ub="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Vb=/ jQuery\d+="(?:null|\d+)"/g,Wb=new RegExp("<(?:"+Ub+")[\\s/>]","i"),Xb=/^\s+/,Yb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Zb=/<([\w:]+)/,$b=/<tbody/i,_b=/<|&#?\w+;/,ac=/<(?:script|style|link)/i,bc=/^(?:checkbox|radio)$/i,cc=/checked\s*(?:[^=]|=\s*.checked.)/i,dc=/^$|\/(?:java|ecma)script/i,ec=/^true\/(.*)/,fc=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,gc={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:kb.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},hc=n(Y),ic=hc.appendChild(Y.createElement("div"));gc.optgroup=gc.option,gc.tbody=gc.tfoot=gc.colgroup=gc.caption=gc.thead,gc.th=gc.td,kb.fn.extend({text:function(a){return kb.access(this,function(a){return a===b?kb.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=o(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=o(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?kb.filter(a,this):this,e=0;null!=(c=d[e]);e++)!b&&1===c.nodeType&&kb.cleanData(u(c)),c.parentNode&&(b&&kb.contains(c.ownerDocument,c)&&r(u(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&kb.cleanData(u(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&kb.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return kb.clone(this,a,b)})},html:function(a){return kb.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(Vb,""):b;if(!("string"!=typeof a||ac.test(a)||!kb.support.htmlSerialize&&Wb.test(a)||!kb.support.leadingWhitespace&&Xb.test(a)||gc[(Zb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Yb,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&(kb.cleanData(u(c,!1)),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=kb.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;return this.domManip(arguments,function(c){var d=a[b++],e=a[b++];e&&(d&&d.parentNode!==e&&(d=this.nextSibling),kb(this).remove(),e.insertBefore(c,d))
},!0),b?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){a=db.apply([],a);var d,e,f,g,h,i,j=0,k=this.length,l=this,m=k-1,n=a[0],o=kb.isFunction(n);if(o||!(1>=k||"string"!=typeof n||kb.support.checkClone)&&cc.test(n))return this.each(function(d){var e=l.eq(d);o&&(a[0]=n.call(this,d,e.html())),e.domManip(a,b,c)});if(k&&(i=kb.buildFragment(a,this[0].ownerDocument,!1,!c&&this),d=i.firstChild,1===i.childNodes.length&&(i=d),d)){for(g=kb.map(u(i,"script"),p),f=g.length;k>j;j++)e=i,j!==m&&(e=kb.clone(e,!0,!0),f&&kb.merge(g,u(e,"script"))),b.call(this[j],e,j);if(f)for(h=g[g.length-1].ownerDocument,kb.map(g,q),j=0;f>j;j++)e=g[j],dc.test(e.type||"")&&!kb._data(e,"globalEval")&&kb.contains(h,e)&&(e.src?kb._evalUrl(e.src):kb.globalEval((e.text||e.textContent||e.innerHTML||"").replace(fc,"")));i=d=null}return this}}),kb.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){kb.fn[a]=function(a){for(var c,d=0,e=[],f=kb(a),g=f.length-1;g>=d;d++)c=d===g?this:this.clone(!0),kb(f[d])[b](c),eb.apply(e,c.get());return this.pushStack(e)}}),kb.extend({clone:function(a,b,c){var d,e,f,g,h,i=kb.contains(a.ownerDocument,a);if(kb.support.html5Clone||kb.isXMLDoc(a)||!Wb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ic.innerHTML=a.outerHTML,ic.removeChild(f=ic.firstChild)),!(kb.support.noCloneEvent&&kb.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||kb.isXMLDoc(a)))for(d=u(f),h=u(a),g=0;null!=(e=h[g]);++g)d[g]&&t(e,d[g]);if(b)if(c)for(h=h||u(a),d=d||u(f),g=0;null!=(e=h[g]);g++)s(e,d[g]);else s(a,f);return d=u(f,"script"),d.length>0&&r(d,!i&&u(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,m=n(b),o=[],p=0;l>p;p++)if(f=a[p],f||0===f)if("object"===kb.type(f))kb.merge(o,f.nodeType?[f]:f);else if(_b.test(f)){for(h=h||m.appendChild(b.createElement("div")),i=(Zb.exec(f)||["",""])[1].toLowerCase(),k=gc[i]||gc._default,h.innerHTML=k[1]+f.replace(Yb,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!kb.support.leadingWhitespace&&Xb.test(f)&&o.push(b.createTextNode(Xb.exec(f)[0])),!kb.support.tbody)for(f="table"!==i||$b.test(f)?"<table>"!==k[1]||$b.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)kb.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(kb.merge(o,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else o.push(b.createTextNode(f));for(h&&m.removeChild(h),kb.support.appendChecked||kb.grep(u(o,"input"),v),p=0;f=o[p++];)if((!d||-1===kb.inArray(f,d))&&(g=kb.contains(f.ownerDocument,f),h=u(m.appendChild(f),"script"),g&&r(h),c))for(e=0;f=h[e++];)dc.test(f.type||"")&&c.push(f);return h=null,m},cleanData:function(a,b){for(var c,d,e,f,g=0,h=kb.expando,i=kb.cache,j=kb.support.deleteExpando,k=kb.event.special;null!=(c=a[g]);g++)if((b||kb.acceptData(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?kb.event.remove(c,d):kb.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j?delete c[h]:typeof c.removeAttribute!==W?c.removeAttribute(h):c[h]=null,bb.push(e))}},_evalUrl:function(a){return kb.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),kb.fn.extend({wrapAll:function(a){if(kb.isFunction(a))return this.each(function(b){kb(this).wrapAll(a.call(this,b))});if(this[0]){var b=kb(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return kb.isFunction(a)?this.each(function(b){kb(this).wrapInner(a.call(this,b))}):this.each(function(){var b=kb(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=kb.isFunction(a);return this.each(function(c){kb(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){kb.nodeName(this,"body")||kb(this).replaceWith(this.childNodes)}).end()}});var jc,kc,lc,mc=/alpha\([^)]*\)/i,nc=/opacity\s*=\s*([^)]*)/,oc=/^(top|right|bottom|left)$/,pc=/^(none|table(?!-c[ea]).+)/,qc=/^margin/,rc=new RegExp("^("+lb+")(.*)$","i"),sc=new RegExp("^("+lb+")(?!px)[a-z%]+$","i"),tc=new RegExp("^([+-])=("+lb+")","i"),uc={BODY:"block"},vc={position:"absolute",visibility:"hidden",display:"block"},wc={letterSpacing:0,fontWeight:400},xc=["Top","Right","Bottom","Left"],yc=["Webkit","O","Moz","ms"];kb.fn.extend({css:function(a,c){return kb.access(this,function(a,c,d){var e,f,g={},h=0;if(kb.isArray(c)){for(f=kc(a),e=c.length;e>h;h++)g[c[h]]=kb.css(a,c[h],!1,f);return g}return d!==b?kb.style(a,c,d):kb.css(a,c)},a,c,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){x(this)?kb(this).show():kb(this).hide()})}}),kb.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=lc(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":kb.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=kb.camelCase(c),j=a.style;if(c=kb.cssProps[i]||(kb.cssProps[i]=w(j,i)),h=kb.cssHooks[c]||kb.cssHooks[i],d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];if(g=typeof d,"string"===g&&(f=tc.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(kb.css(a,c)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"===g&&!kb.cssNumber[i]&&(d+="px"),!kb.support.clearCloneStyle&&""===d&&0===c.indexOf("background")&&(j[c]="inherit"),h&&"set"in h&&(d=h.set(a,d,e))===b)))try{j[c]=d}catch(k){}}},css:function(a,c,d,e){var f,g,h,i=kb.camelCase(c);return c=kb.cssProps[i]||(kb.cssProps[i]=w(a.style,i)),h=kb.cssHooks[c]||kb.cssHooks[i],h&&"get"in h&&(g=h.get(a,!0,d)),g===b&&(g=lc(a,c,e)),"normal"===g&&c in wc&&(g=wc[c]),""===d||d?(f=parseFloat(g),d===!0||kb.isNumeric(f)?f||0:g):g}}),a.getComputedStyle?(kc=function(b){return a.getComputedStyle(b,null)},lc=function(a,c,d){var e,f,g,h=d||kc(a),i=h?h.getPropertyValue(c)||h[c]:b,j=a.style;return h&&(""===i&&!kb.contains(a.ownerDocument,a)&&(i=kb.style(a,c)),sc.test(i)&&qc.test(c)&&(e=j.width,f=j.minWidth,g=j.maxWidth,j.minWidth=j.maxWidth=j.width=i,i=h.width,j.width=e,j.minWidth=f,j.maxWidth=g)),i}):Y.documentElement.currentStyle&&(kc=function(a){return a.currentStyle},lc=function(a,c,d){var e,f,g,h=d||kc(a),i=h?h[c]:b,j=a.style;return null==i&&j&&j[c]&&(i=j[c]),sc.test(i)&&!oc.test(c)&&(e=j.left,f=a.runtimeStyle,g=f&&f.left,g&&(f.left=a.currentStyle.left),j.left="fontSize"===c?"1em":i,i=j.pixelLeft+"px",j.left=e,g&&(f.left=g)),""===i?"auto":i}),kb.each(["height","width"],function(a,b){kb.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&pc.test(kb.css(a,"display"))?kb.swap(a,vc,function(){return B(a,b,d)}):B(a,b,d):void 0},set:function(a,c,d){var e=d&&kc(a);return z(a,c,d?A(a,b,d,kb.support.boxSizing&&"border-box"===kb.css(a,"boxSizing",!1,e),e):0)}}}),kb.support.opacity||(kb.cssHooks.opacity={get:function(a,b){return nc.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=kb.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===kb.trim(f.replace(mc,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=mc.test(f)?f.replace(mc,e):f+" "+e)}}),kb(function(){kb.support.reliableMarginRight||(kb.cssHooks.marginRight={get:function(a,b){return b?kb.swap(a,{display:"inline-block"},lc,[a,"marginRight"]):void 0}}),!kb.support.pixelPosition&&kb.fn.position&&kb.each(["top","left"],function(a,b){kb.cssHooks[b]={get:function(a,c){return c?(c=lc(a,b),sc.test(c)?kb(a).position()[b]+"px":c):void 0}}})}),kb.expr&&kb.expr.filters&&(kb.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!kb.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||kb.css(a,"display"))},kb.expr.filters.visible=function(a){return!kb.expr.filters.hidden(a)}),kb.each({margin:"",padding:"",border:"Width"},function(a,b){kb.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+xc[d]+b]=f[d]||f[d-2]||f[0];return e}},qc.test(a)||(kb.cssHooks[a+b].set=z)});var zc=/%20/g,Ac=/\[\]$/,Bc=/\r?\n/g,Cc=/^(?:submit|button|image|reset|file)$/i,Dc=/^(?:input|select|textarea|keygen)/i;kb.fn.extend({serialize:function(){return kb.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=kb.prop(this,"elements");return a?kb.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!kb(this).is(":disabled")&&Dc.test(this.nodeName)&&!Cc.test(a)&&(this.checked||!bc.test(a))}).map(function(a,b){var c=kb(this).val();return null==c?null:kb.isArray(c)?kb.map(c,function(a){return{name:b.name,value:a.replace(Bc,"\r\n")}}):{name:b.name,value:c.replace(Bc,"\r\n")}}).get()}}),kb.param=function(a,c){var d,e=[],f=function(a,b){b=kb.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=kb.ajaxSettings&&kb.ajaxSettings.traditional),kb.isArray(a)||a.jquery&&!kb.isPlainObject(a))kb.each(a,function(){f(this.name,this.value)});else for(d in a)E(d,a[d],c,f);return e.join("&").replace(zc,"+")},kb.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){kb.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),kb.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Ec,Fc,Gc=kb.now(),Hc=/\?/,Ic=/#.*$/,Jc=/([?&])_=[^&]*/,Kc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Lc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mc=/^(?:GET|HEAD)$/,Nc=/^\/\//,Oc=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Pc=kb.fn.load,Qc={},Rc={},Sc="*/".concat("*");try{Fc=X.href}catch(Tc){Fc=Y.createElement("a"),Fc.href="",Fc=Fc.href}Ec=Oc.exec(Fc.toLowerCase())||[],kb.fn.load=function(a,c,d){if("string"!=typeof a&&Pc)return Pc.apply(this,arguments);var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),kb.isFunction(c)?(d=c,c=b):c&&"object"==typeof c&&(g="POST"),h.length>0&&kb.ajax({url:a,type:g,dataType:"html",data:c}).done(function(a){f=arguments,h.html(e?kb("<div>").append(kb.parseHTML(a)).find(e):a)}).complete(d&&function(a,b){h.each(d,f||[a.responseText,b,a])}),this},kb.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){kb.fn[b]=function(a){return this.on(b,a)}}),kb.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Fc,type:"GET",isLocal:Lc.test(Ec[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Sc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":kb.parseJSON,"text xml":kb.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?H(H(a,kb.ajaxSettings),b):H(kb.ajaxSettings,a)},ajaxPrefilter:F(Qc),ajaxTransport:F(Rc),ajax:function(a,c){function d(a,c,d,e){var f,l,s,t,v,x=c;2!==u&&(u=2,i&&clearTimeout(i),k=b,h=e||"",w.readyState=a>0?4:0,f=a>=200&&300>a||304===a,d&&(t=I(m,w,d)),t=J(m,t,w,f),f?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(kb.lastModified[g]=v),v=w.getResponseHeader("etag"),v&&(kb.etag[g]=v)),204===a||"HEAD"===m.type?x="nocontent":304===a?x="notmodified":(x=t.state,l=t.data,s=t.error,f=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),w.status=a,w.statusText=(c||x)+"",f?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=b,j&&o.trigger(f?"ajaxSuccess":"ajaxError",[w,m,f?l:s]),q.fireWith(n,[w,x]),j&&(o.trigger("ajaxComplete",[w,m]),--kb.active||kb.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l,m=kb.ajaxSetup({},c),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?kb(n):kb.event,p=kb.Deferred(),q=kb.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!l)for(l={};b=Kc.exec(h);)l[b[1].toLowerCase()]=b[2];b=l[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?h:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return k&&k.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((a||m.url||Fc)+"").replace(Ic,"").replace(Nc,Ec[1]+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=kb.trim(m.dataType||"*").toLowerCase().match(mb)||[""],null==m.crossDomain&&(e=Oc.exec(m.url.toLowerCase()),m.crossDomain=!(!e||e[1]===Ec[1]&&e[2]===Ec[2]&&(e[3]||("http:"===e[1]?"80":"443"))===(Ec[3]||("http:"===Ec[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=kb.param(m.data,m.traditional)),G(Qc,m,c,w),2===u)return w;j=m.global,j&&0===kb.active++&&kb.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Mc.test(m.type),g=m.url,m.hasContent||(m.data&&(g=m.url+=(Hc.test(g)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=Jc.test(g)?g.replace(Jc,"$1_="+Gc++):g+(Hc.test(g)?"&":"?")+"_="+Gc++)),m.ifModified&&(kb.lastModified[g]&&w.setRequestHeader("If-Modified-Since",kb.lastModified[g]),kb.etag[g]&&w.setRequestHeader("If-None-Match",kb.etag[g])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Sc+"; q=0.01":""):m.accepts["*"]);for(f in m.headers)w.setRequestHeader(f,m.headers[f]);if(!m.beforeSend||m.beforeSend.call(n,w,m)!==!1&&2!==u){v="abort";for(f in{success:1,error:1,complete:1})w[f](m[f]);if(k=G(Rc,m,c,w)){w.readyState=1,j&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,k.send(s,d)}catch(x){if(!(2>u))throw x;d(-1,x)}}else d(-1,"No Transport");return w}return w.abort()},getJSON:function(a,b,c){return kb.get(a,b,c,"json")},getScript:function(a,c){return kb.get(a,b,c,"script")}}),kb.each(["get","post"],function(a,c){kb[c]=function(a,d,e,f){return kb.isFunction(d)&&(f=f||e,e=d,d=b),kb.ajax({url:a,type:c,dataType:f,data:d,success:e})}}),kb.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return kb.globalEval(a),a}}}),kb.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),kb.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=Y.head||kb("head")[0]||Y.documentElement;return{send:function(b,e){c=Y.createElement("script"),c.async=!0,a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,b){(b||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,b||e(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(b,!0)}}}});var Uc=[],Vc=/(=)\?(?=&|$)|\?\?/;kb.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Uc.pop()||kb.expando+"_"+Gc++;return this[a]=!0,a}}),kb.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.jsonp!==!1&&(Vc.test(c.url)?"url":"string"==typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vc.test(c.data)&&"data");return i||"jsonp"===c.dataTypes[0]?(f=c.jsonpCallback=kb.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,i?c[i]=c[i].replace(Vc,"$1"+f):c.jsonp!==!1&&(c.url+=(Hc.test(c.url)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||kb.error(f+" was not called"),h[0]},c.dataTypes[0]="json",g=a[f],a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,Uc.push(f)),h&&kb.isFunction(g)&&g(h[0]),h=g=b}),"script"):void 0});var Wc,Xc,Yc=0,Zc=a.ActiveXObject&&function(){var a;for(a in Wc)Wc[a](b,!0)};kb.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&K()||L()}:K,Xc=kb.ajaxSettings.xhr(),kb.support.cors=!!Xc&&"withCredentials"in Xc,Xc=kb.support.ajax=!!Xc,Xc&&kb.ajaxTransport(function(c){if(!c.crossDomain||kb.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l;try{if(d&&(e||4===i.readyState))if(d=b,g&&(i.onreadystatechange=kb.noop,Zc&&delete Wc[g]),e)4!==i.readyState&&i.abort();else{l={},h=i.status,j=i.getAllResponseHeaders(),"string"==typeof i.responseText&&(l.text=i.responseText);try{k=i.statusText}catch(m){k=""}h||!c.isLocal||c.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(n){e||f(-1,n)}l&&f(h,k,l,j)},c.async?4===i.readyState?setTimeout(d):(g=++Yc,Zc&&(Wc||(Wc={},kb(a).unload(Zc)),Wc[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(b,!0)}}}});var $c,_c,ad=/^(?:toggle|show|hide)$/,bd=new RegExp("^(?:([+-])=|)("+lb+")([a-z%]*)$","i"),cd=/queueHooks$/,dd=[Q],ed={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bd.exec(b),f=e&&e[3]||(kb.cssNumber[a]?"":"px"),g=(kb.cssNumber[a]||"px"!==f&&+d)&&bd.exec(kb.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,kb.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};kb.Animation=kb.extend(O,{tweener:function(a,b){kb.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],ed[c]=ed[c]||[],ed[c].unshift(b)},prefilter:function(a,b){b?dd.unshift(a):dd.push(a)}}),kb.Tween=R,R.prototype={constructor:R,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(kb.cssNumber[c]?"":"px")},cur:function(){var a=R.propHooks[this.prop];return a&&a.get?a.get(this):R.propHooks._default.get(this)},run:function(a){var b,c=R.propHooks[this.prop];return this.pos=b=this.options.duration?kb.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=kb.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){kb.fx.step[a.prop]?kb.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[kb.cssProps[a.prop]]||kb.cssHooks[a.prop])?kb.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},kb.each(["toggle","show","hide"],function(a,b){var c=kb.fn[b];kb.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(S(b,!0),a,d,e)}}),kb.fn.extend({fadeTo:function(a,b,c,d){return this.filter(x).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=kb.isEmptyObject(a),f=kb.speed(b,c,d),g=function(){var b=O(this,kb.extend({},a),f);(e||kb._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=kb.timers,g=kb._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&cd.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem===this&&(null==a||f[c].queue===a)&&(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&kb.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=kb._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=kb.timers,g=d?d.length:0;for(c.finish=!0,kb.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),kb.each({slideDown:S("show"),slideUp:S("hide"),slideToggle:S("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){kb.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),kb.speed=function(a,b,c){var d=a&&"object"==typeof a?kb.extend({},a):{complete:c||!c&&b||kb.isFunction(a)&&a,duration:a,easing:c&&b||b&&!kb.isFunction(b)&&b};return d.duration=kb.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in kb.fx.speeds?kb.fx.speeds[d.duration]:kb.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){kb.isFunction(d.old)&&d.old.call(this),d.queue&&kb.dequeue(this,d.queue)},d},kb.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},kb.timers=[],kb.fx=R.prototype.init,kb.fx.tick=function(){var a,c=kb.timers,d=0;for($c=kb.now();d<c.length;d++)a=c[d],!a()&&c[d]===a&&c.splice(d--,1);c.length||kb.fx.stop(),$c=b},kb.fx.timer=function(a){a()&&kb.timers.push(a)&&kb.fx.start()},kb.fx.interval=13,kb.fx.start=function(){_c||(_c=setInterval(kb.fx.tick,kb.fx.interval))},kb.fx.stop=function(){clearInterval(_c),_c=null},kb.fx.speeds={slow:600,fast:200,_default:400},kb.fx.step={},kb.expr&&kb.expr.filters&&(kb.expr.filters.animated=function(a){return kb.grep(kb.timers,function(b){return a===b.elem}).length}),kb.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){kb.offset.setOffset(this,a,b)});var c,d,e={top:0,left:0},f=this[0],g=f&&f.ownerDocument;if(g)return c=g.documentElement,kb.contains(c,f)?(typeof f.getBoundingClientRect!==W&&(e=f.getBoundingClientRect()),d=T(g),{top:e.top+(d.pageYOffset||c.scrollTop)-(c.clientTop||0),left:e.left+(d.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):e},kb.offset={setOffset:function(a,b,c){var d=kb.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=kb(a),h=g.offset(),i=kb.css(a,"top"),j=kb.css(a,"left"),k=("absolute"===d||"fixed"===d)&&kb.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),kb.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},kb.fn.extend({position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===kb.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),kb.nodeName(a[0],"html")||(c=a.offset()),c.top+=kb.css(a[0],"borderTopWidth",!0),c.left+=kb.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-kb.css(d,"marginTop",!0),left:b.left-c.left-kb.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Z;a&&!kb.nodeName(a,"html")&&"static"===kb.css(a,"position");)a=a.offsetParent;return a||Z})}}),kb.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);kb.fn[a]=function(e){return kb.access(this,function(a,e,f){var g=T(a);return f===b?g?c in g?g[c]:g.document.documentElement[e]:a[e]:(g?g.scrollTo(d?kb(g).scrollLeft():f,d?f:kb(g).scrollTop()):a[e]=f,void 0)},a,e,arguments.length,null)}}),kb.each({Height:"height",Width:"width"},function(a,c){kb.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){kb.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return kb.access(this,function(c,d,e){var f;return kb.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?kb.css(c,d,h):kb.style(c,d,e,h)},c,g?e:b,g,null)}})}),kb.fn.size=function(){return this.length},kb.fn.andSelf=kb.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=kb:(a.jQuery=a.$=kb,"function"==typeof define&&define.amd&&define("jquery",[],function(){return kb}))}(window),function(){var a,b=this,c=b.Backbone,d=[],e=d.push,f=d.slice,g=d.splice;a="undefined"!=typeof exports?exports:b.Backbone={},a.VERSION="1.0.0";var h=b._;!h&&"undefined"!=typeof require&&(h=require("underscore")),a.$=b.jQuery||b.Zepto||b.ender||b.$,a.noConflict=function(){return b.Backbone=c,this},a.emulateHTTP=!1,a.emulateJSON=!1;var i=a.Events={on:function(a,b,c){if(!k(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,c){if(!k(this,"once",a,[b,c])||!b)return this;var d=this,e=h.once(function(){d.off(a,e),b.apply(this,arguments)});return e._callback=b,this.on(a,e,c)},off:function(a,b,c){var d,e,f,g,i,j,l,m;if(!this._events||!k(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;for(g=a?[a]:h.keys(this._events),i=0,j=g.length;j>i;i++)if(a=g[i],f=this._events[a]){if(this._events[a]=d=[],b||c)for(l=0,m=f.length;m>l;l++)e=f[l],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&d.push(e);d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=f.call(arguments,1);if(!k(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&l(c,b),d&&l(d,arguments),this},stopListening:function(a,b,c){var d=this._listeners;if(!d)return this;var e=!b&&!c;"object"==typeof b&&(c=this),a&&((d={})[a._listenerId]=a);for(var f in d)d[f].off(b,c,this),e&&delete this._listeners[f];return this}},j=/\s+/,k=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(j.test(c)){for(var f=c.split(j),g=0,h=f.length;h>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},l=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}},m={listenTo:"on",listenToOnce:"once"};h.each(m,function(a,b){i[b]=function(b,c,d){var e=this._listeners||(this._listeners={}),f=b._listenerId||(b._listenerId=h.uniqueId("l"));return e[f]=b,"object"==typeof c&&(d=this),b[a](c,d,this),this}}),i.bind=i.on,i.unbind=i.off,h.extend(a,i);var n=a.Model=function(a,b){var c,d=a||{};b||(b={}),this.cid=h.uniqueId("c"),this.attributes={},h.extend(this,h.pick(b,o)),b.parse&&(d=this.parse(d,b)||{}),(c=h.result(this,"defaults"))&&(d=h.defaults({},d,c)),this.set(d,b),this.changed={},this.initialize.apply(this,arguments)},o=["url","urlRoot","collection"];h.extend(n.prototype,i,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return h.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return h.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var d,e,f,g,i,j,k,l;if(null==a)return this;if("object"==typeof a?(e=a,c=b):(e={})[a]=b,c||(c={}),!this._validate(e,c))return!1;f=c.unset,i=c.silent,g=[],j=this._changing,this._changing=!0,j||(this._previousAttributes=h.clone(this.attributes),this.changed={}),l=this.attributes,k=this._previousAttributes,this.idAttribute in e&&(this.id=e[this.idAttribute]);for(d in e)b=e[d],h.isEqual(l[d],b)||g.push(d),h.isEqual(k[d],b)?delete this.changed[d]:this.changed[d]=b,f?delete l[d]:l[d]=b;if(!i){g.length&&(this._pending=!0);for(var m=0,n=g.length;n>m;m++)this.trigger("change:"+g[m],this,l[g[m]],c)}if(j)return this;if(!i)for(;this._pending;)this._pending=!1,this.trigger("change",this,c);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,h.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var c in this.attributes)b[c]=void 0;return this.set(b,h.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!h.isEmpty(this.changed):h.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?h.clone(this.changed):!1;var b,c=!1,d=this._changing?this._previousAttributes:this.attributes;for(var e in a)h.isEqual(d[e],b=a[e])||((c||(c={}))[e]=b);return c},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return h.clone(this._previousAttributes)},fetch:function(a){a=a?h.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;return a.success=function(d){return b.set(b.parse(d,a),a)?(c&&c(b,d,a),b.trigger("sync",b,d,a),void 0):!1},L(this,a),this.sync("read",this,a)},save:function(a,b,c){var d,e,f,g=this.attributes;if(null==a||"object"==typeof a?(d=a,c=b):(d={})[a]=b,!(!d||c&&c.wait||this.set(d,c)))return!1;if(c=h.extend({validate:!0},c),!this._validate(d,c))return!1;d&&c.wait&&(this.attributes=h.extend({},g,d)),void 0===c.parse&&(c.parse=!0);var i=this,j=c.success;return c.success=function(a){i.attributes=g;var b=i.parse(a,c);return c.wait&&(b=h.extend(d||{},b)),h.isObject(b)&&!i.set(b,c)?!1:(j&&j(i,a,c),i.trigger("sync",i,a,c),void 0)},L(this,c),e=this.isNew()?"create":c.patch?"patch":"update","patch"===e&&(c.attrs=d),f=this.sync(e,this,c),d&&c.wait&&(this.attributes=g),f},destroy:function(a){a=a?h.clone(a):{};var b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};if(a.success=function(e){(a.wait||b.isNew())&&d(),c&&c(b,e,a),b.isNew()||b.trigger("sync",b,e,a)},this.isNew())return a.success(),!1;L(this,a);var e=this.sync("delete",this,a);return a.wait||d(),e},url:function(){var a=h.result(this,"urlRoot")||h.result(this.collection,"url")||K();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(a){return this._validate({},h.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=h.extend({},this.attributes,a);var c=this.validationError=this.validate(a,b)||null;return c?(this.trigger("invalid",this,c,h.extend(b||{},{validationError:c})),!1):!0}});var p=["keys","values","pairs","invert","pick","omit"];h.each(p,function(a){n.prototype[a]=function(){var b=f.call(arguments);return b.unshift(this.attributes),h[a].apply(h,b)}});var q=a.Collection=function(a,b){b||(b={}),b.url&&(this.url=b.url),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,h.extend({silent:!0},b))},r={add:!0,remove:!0,merge:!0},s={add:!0,merge:!1,remove:!1};
h.extend(q.prototype,i,{model:n,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return a.sync.apply(this,arguments)},add:function(a,b){return this.set(a,h.defaults(b||{},s))},remove:function(a,b){a=h.isArray(a)?a.slice():[a],b||(b={});var c,d,e,f;for(c=0,d=a.length;d>c;c++)f=this.get(a[c]),f&&(delete this._byId[f.id],delete this._byId[f.cid],e=this.indexOf(f),this.models.splice(e,1),this.length--,b.silent||(b.index=e,f.trigger("remove",f,this,b)),this._removeReference(f));return this},set:function(a,b){b=h.defaults(b||{},r),b.parse&&(a=this.parse(a,b)),h.isArray(a)||(a=a?[a]:[]);var c,d,f,i,j,k=b.at,l=this.comparator&&null==k&&b.sort!==!1,m=h.isString(this.comparator)?this.comparator:null,n=[],o=[],p={};for(c=0,d=a.length;d>c;c++)(f=this._prepareModel(a[c],b))&&((i=this.get(f))?(b.remove&&(p[i.cid]=!0),b.merge&&(i.set(f.attributes,b),l&&!j&&i.hasChanged(m)&&(j=!0))):b.add&&(n.push(f),f.on("all",this._onModelEvent,this),this._byId[f.cid]=f,null!=f.id&&(this._byId[f.id]=f)));if(b.remove){for(c=0,d=this.length;d>c;++c)p[(f=this.models[c]).cid]||o.push(f);o.length&&this.remove(o,b)}if(n.length&&(l&&(j=!0),this.length+=n.length,null!=k?g.apply(this.models,[k,0].concat(n)):e.apply(this.models,n)),j&&this.sort({silent:!0}),b.silent)return this;for(c=0,d=n.length;d>c;c++)(f=n[c]).trigger("add",f,this,b);return j&&this.trigger("sort",this,b),this},reset:function(a,b){b||(b={});for(var c=0,d=this.models.length;d>c;c++)this._removeReference(this.models[c]);return b.previousModels=this.models,this._reset(),this.add(a,h.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),this},push:function(a,b){return a=this._prepareModel(a,b),this.add(a,h.extend({at:this.length},b)),a},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return a=this._prepareModel(a,b),this.add(a,h.extend({at:0},b)),a},shift:function(a){var b=this.at(0);return this.remove(b,a),b},slice:function(a,b){return this.models.slice(a,b)},get:function(a){return null==a?void 0:this._byId[null!=a.id?a.id:a.cid||a]},at:function(a){return this.models[a]},where:function(a,b){return h.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),h.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(h.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},sortedIndex:function(a,b,c){b||(b=this.comparator);var d=h.isFunction(b)?b:function(a){return a.get(b)};return h.sortedIndex(this.models,a,d,c)},pluck:function(a){return h.invoke(this.models,"get",a)},fetch:function(a){a=a?h.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=a.success,c=this;return a.success=function(d){var e=a.reset?"reset":"set";c[e](d,a),b&&b(c,d,a),c.trigger("sync",c,d,a)},L(this,a),this.sync("read",this,a)},create:function(a,b){if(b=b?h.clone(b):{},!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,d=b.success;return b.success=function(e){b.wait&&c.add(a,b),d&&d(a,e,b)},a.save(null,b),a},parse:function(a){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(a,b){if(a instanceof n)return a.collection||(a.collection=this),a;b||(b={}),b.collection=this;var c=new this.model(a,b);return c._validate(a,b)?c:(this.trigger("invalid",this,a,b),!1)},_removeReference:function(a){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});var t=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];h.each(t,function(a){q.prototype[a]=function(){var b=f.call(arguments);return b.unshift(this.models),h[a].apply(h,b)}});var u=["groupBy","countBy","sortBy"];h.each(u,function(a){q.prototype[a]=function(b,c){var d=h.isFunction(b)?b:function(a){return a.get(b)};return h[a](this.models,d,c)}});var v=a.View=function(a){this.cid=h.uniqueId("view"),this._configure(a||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];h.extend(v.prototype,i,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(b,c){return this.$el&&this.undelegateEvents(),this.$el=b instanceof a.$?b:a.$(b),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=h.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];if(h.isFunction(c)||(c=this[a[b]]),c){var d=b.match(w),e=d[1],f=d[2];c=h.bind(c,this),e+=".delegateEvents"+this.cid,""===f?this.$el.on(e,c):this.$el.on(e,f,c)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(a){this.options&&(a=h.extend({},h.result(this,"options"),a)),h.extend(this,h.pick(a,x)),this.options=a},_ensureElement:function(){if(this.el)this.setElement(h.result(this,"el"),!1);else{var b=h.extend({},h.result(this,"attributes"));this.id&&(b.id=h.result(this,"id")),this.className&&(b["class"]=h.result(this,"className"));var c=a.$("<"+h.result(this,"tagName")+">").attr(b);this.setElement(c,!1)}}}),a.sync=function(b,c,d){var e=y[b];h.defaults(d||(d={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});var f={type:e,dataType:"json"};if(d.url||(f.url=h.result(c,"url")||K()),null==d.data&&c&&("create"===b||"update"===b||"patch"===b)&&(f.contentType="application/json",f.data=JSON.stringify(d.attrs||c.toJSON(d))),d.emulateJSON&&(f.contentType="application/x-www-form-urlencoded",f.data=f.data?{model:f.data}:{}),d.emulateHTTP&&("PUT"===e||"DELETE"===e||"PATCH"===e)){f.type="POST",d.emulateJSON&&(f.data._method=e);var g=d.beforeSend;d.beforeSend=function(a){return a.setRequestHeader("X-HTTP-Method-Override",e),g?g.apply(this,arguments):void 0}}"GET"!==f.type&&!d.emulateJSON&&(f.processData=!1),"PATCH"===f.type&&window.ActiveXObject&&(!window.external||!window.external.msActiveXFilteringEnabled)&&(f.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var i=d.xhr=a.ajax(h.extend(f,d));return c.trigger("request",c,i,d),i};var y={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var z=a.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,B=/(\(\?)?:\w+/g,C=/\*\w+/g,D=/[\-{}\[\]+?.,\\\^$|#\s]/g;h.extend(z.prototype,i,{initialize:function(){},route:function(b,c,d){h.isRegExp(b)||(b=this._routeToRegExp(b)),h.isFunction(c)&&(d=c,c=""),d||(d=this[c]);var e=this;return a.history.route(b,function(f){var g=e._extractParameters(b,f);d&&d.apply(e,g),e.trigger.apply(e,["route:"+c].concat(g)),e.trigger("route",c,g),a.history.trigger("route",e,c,g)}),this},navigate:function(b,c){return a.history.navigate(b,c),this},_bindRoutes:function(){if(this.routes){this.routes=h.result(this,"routes");for(var a,b=h.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(D,"\\$&").replace(A,"(?:$1)?").replace(B,function(a,b){return b?a:"([^/]+)"}).replace(C,"(.*?)"),new RegExp("^"+a+"$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return h.map(c,function(a){return a?decodeURIComponent(a):null})}});var E=a.History=function(){this.handlers=[],h.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},F=/^[#\/]|\s+$/g,G=/^\/+|\/+$/g,H=/msie [\w.]+/,I=/\/$/;E.started=!1,h.extend(E.prototype,i,{interval:50,getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=this.location.pathname;var c=this.root.replace(I,"");a.indexOf(c)||(a=a.substr(c.length))}else a=this.getHash();return a.replace(F,"")},start:function(b){if(E.started)throw new Error("Backbone.history has already been started");E.started=!0,this.options=h.extend({},{root:"/"},this.options,b),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var c=this.getFragment(),d=document.documentMode,e=H.exec(navigator.userAgent.toLowerCase())&&(!d||7>=d);this.root=("/"+this.root+"/").replace(G,"/"),e&&this._wantsHashChange&&(this.iframe=a.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(c)),this._hasPushState?a.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!e?a.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=c;var f=this.location,g=f.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!g?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&g&&f.hash&&(this.fragment=this.getHash().replace(F,""),this.history.replaceState({},document.title,this.root+this.fragment+f.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){a.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),E.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();return a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe))),a===this.fragment?!1:(this.iframe&&this.navigate(a),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(a){var b=this.fragment=this.getFragment(a),c=h.any(this.handlers,function(a){return a.route.test(b)?(a.callback(b),!0):void 0});return c},navigate:function(a,b){if(!E.started)return!1;if(b&&b!==!0||(b={trigger:b}),a=this.getFragment(a||""),this.fragment!==a){this.fragment=a;var c=this.root+a;if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace))}b.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),a.history=new E;var J=function(a,b){var c,d=this;c=a&&h.has(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)},h.extend(c,d,b);var e=function(){this.constructor=c};return e.prototype=d.prototype,c.prototype=new e,a&&h.extend(c.prototype,a),c.__super__=d.prototype,c};n.extend=q.extend=z.extend=v.extend=E.extend=J;var K=function(){throw new Error('A "url" property or function must be specified')},L=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}}}.call(this),define("backbone",["underscore","jquery"],function(a){return function(){var b;return b||a.Backbone}}(this)),function(){var a=function(){var a={},b={},c=function(){return function(){}},d=function(a,d){var e={id:a,exports:{}};d(e.exports,c(),e);var f=b[a]=e.exports;return f},e=function(c){if(b.hasOwnProperty(c))return b[c];if(a.hasOwnProperty(c))return d(c,a[c]);throw new Error('Cannot find module "'+name+'"')};return e.register=function(b,c){a[b]=c},e}();a.register("chaplin/application",function(b,c,d){var e,f,g,h,i,j,k,l,m;m=a("underscore"),f=a("backbone"),l=a("chaplin/mediator"),h=a("chaplin/dispatcher"),j=a("chaplin/views/layout"),g=a("chaplin/composer"),k=a("chaplin/lib/router"),i=a("chaplin/lib/event_broker"),d.exports=e=function(){function a(a){null==a&&(a={}),this.initialize(a)}return a.extend=f.Model.extend,m.extend(a.prototype,i),a.prototype.title="",a.prototype.dispatcher=null,a.prototype.layout=null,a.prototype.router=null,a.prototype.composer=null,a.prototype.initialized=!1,a.prototype.initialize=function(a){if(null==a&&(a={}),this.initialized)throw new Error("Application#initialize: App was already initialized");return this.initRouter(a.routes,a),this.initDispatcher(a),this.initLayout(a),this.initComposer(a),this.initMediator(),this.startRouting(),this.initialized=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0},a.prototype.initDispatcher=function(a){return this.dispatcher=new h(a)},a.prototype.initLayout=function(a){var b;return null==a&&(a={}),null==(b=a.title)&&(a.title=this.title),this.layout=new j(a)},a.prototype.initComposer=function(a){return null==a&&(a={}),this.composer=new g(a)},a.prototype.initMediator=function(){return l.seal()},a.prototype.initRouter=function(a,b){return this.router=new k(b),"function"==typeof a?a(this.router.match):void 0},a.prototype.startRouting=function(){return this.router.startHistory()},a.prototype.disposed=!1,a.prototype.dispose=function(){var a,b,c,d,e;if(!this.disposed){for(a="function"==typeof Object.isFrozen?Object.isFrozen(this):void 0,c=["dispatcher","layout","router","composer"],d=0,e=c.length;e>d;d++)b=c[d],null!=this[b]&&(this[b].dispose(),a||delete this[b]);return this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0}},a}()}),a.register("chaplin/mediator",function(b,c,d){var e,f,g,h;e=a("backbone"),g=a("chaplin/lib/support"),h=a("chaplin/lib/utils"),f={},f.subscribe=e.Events.on,f.unsubscribe=e.Events.off,f.publish=e.Events.trigger,f._callbacks=null,h.readonly(f,"subscribe","unsubscribe","publish"),f.seal=function(){return g.propertyDescriptors&&Object.seal?Object.seal(f):void 0},h.readonly(f,"seal"),d.exports=f}),a.register("chaplin/dispatcher",function(b,c,d){var e,f,g,h,i;i=a("underscore"),e=a("backbone"),h=a("chaplin/lib/utils"),g=a("chaplin/lib/event_broker"),d.exports=f=function(){function a(){this.initialize.apply(this,arguments)}return a.extend=e.Model.extend,i.extend(a.prototype,g),a.prototype.previousRoute=null,a.prototype.currentController=null,a.prototype.currentRoute=null,a.prototype.currentParams=null,a.prototype.initialize=function(a){return null==a&&(a={}),this.settings=i.defaults(a,{controllerPath:"controllers/",controllerSuffix:"_controller"}),this.subscribeEvent("router:match",this.dispatch)},a.prototype.dispatch=function(a,b,c){var d,e,f=this;return b=b?i.clone(b):{},c=c?i.clone(c):{},c.changeURL!==!1&&(c.changeURL=!0),c.forceStartup!==!0&&(c.forceStartup=!1),c.forceStartup||(null!=(d=this.currentRoute)?d.controller:void 0)!==a.controller||(null!=(e=this.currentRoute)?e.action:void 0)!==a.action||!i.isEqual(this.currentParams,b)?this.loadController(a.controller,function(d){return f.controllerLoaded(a,b,c,d)}):void 0},a.prototype.loadController=function(a,b){var c,d;return c=a+this.settings.controllerSuffix,d=this.settings.controllerPath+c,("undefined"!=typeof define&&null!==define?define.amd:void 0)?require([d],b):b(require(d))},a.prototype.controllerLoaded=function(a,b,c,d){var e;return this.previousRoute=this.currentRoute,this.currentRoute=i.extend({},a,{previous:h.beget(this.previousRoute)}),e=new d(b,this.currentRoute,c),this.executeBeforeAction(e,this.currentRoute,b,c)},a.prototype.executeAction=function(a,b,c,d){return this.currentController&&(this.publishEvent("beforeControllerDispose",this.currentController),this.currentController.dispose(c,b,d)),this.currentController=a,this.currentParams=c,a[b.action](c,b,d),a.redirected?void 0:(this.adjustURL(b,c,d),this.publishEvent("dispatcher:dispatch",this.currentController,c,b,d))},a.prototype.executeBeforeAction=function(a,b,c,d){var e,f,g,h=this;if(e=a.beforeAction,f=function(){return a.redirected||h.currentRoute&&b!==h.currentRoute?(a.dispose(),void 0):h.executeAction(a,b,c,d)},!e)return f(),void 0;if("function"!=typeof e)throw new TypeError("Controller#beforeAction: function expected. Old object-like form is not supported.");return g=a.beforeAction(c,b,d),g&&g.then?g.then(f):f()},a.prototype.adjustURL=function(a,b,c){var d;if(null!=a.path)return d=a.path+(a.query?"?"+a.query:""),c.changeURL?this.publishEvent("!router:changeURL",d,c):void 0},a.prototype.disposed=!1,a.prototype.dispose=function(){return this.disposed?void 0:(this.unsubscribeAllEvents(),this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0)},a}()}),a.register("chaplin/composer",function(b,c,d){var e,f,g,h,i,j;j=a("underscore"),e=a("backbone"),i=a("chaplin/lib/utils"),g=a("chaplin/lib/composition"),h=a("chaplin/lib/event_broker"),d.exports=f=function(){function a(){this.initialize.apply(this,arguments)}return a.extend=e.Model.extend,j.extend(a.prototype,h),a.prototype.compositions=null,a.prototype.initialize=function(a){return null==a&&(a={}),this.compositions={},this.subscribeEvent("!composer:compose",this.compose),this.subscribeEvent("!composer:retrieve",this.retrieve),this.subscribeEvent("dispatcher:dispatch",this.cleanup)},a.prototype.compose=function(a,b,c){return"function"==typeof b?c||b.prototype.dispose?b.prototype instanceof g?this._compose(a,{composition:b,options:c}):this._compose(a,{options:c,compose:function(){var a,c;return this.item=new b(this.options),a=this.item.autoRender,c=void 0===a||!a,c&&"function"==typeof this.item.render?this.item.render():void 0}}):this._compose(a,{compose:b}):"function"==typeof c?this._compose(a,{compose:c,options:b}):this._compose(a,b)},a.prototype._compose=function(a,b){var c,d;if("function"!=typeof b.compose&&null==b.composition)throw new Error("Composer#compose was used incorrectly");return null!=b.composition?c=new b.composition(b.options):(c=new g(b.options),c.compose=b.compose,b.check&&(c.check=b.check)),d=this.compositions[a],d&&d.check(c.options)?d.stale(!1):(d&&d.dispose(),c.compose(c.options),c.stale(!1),this.compositions[a]=c),this.compositions[a]},a.prototype.retrieve=function(a,b){var c,d;return c=this.compositions[a],d=c&&!c.stale()?c.item:void 0,b(d)},a.prototype.cleanup=function(){var a,b,c;c=this.compositions;for(b in c)a=c[b],a.stale()?(a.dispose(),delete this.compositions[b]):a.stale(!0)},a.prototype.dispose=function(){var a,b,c;if(!this.disposed){this.unsubscribeAllEvents(),c=this.compositions;for(b in c)a=c[b],a.dispose();return delete this.compositions,this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0}},a}()}),a.register("chaplin/controllers/controller",function(b,c,d){var e,f,g,h,i={}.hasOwnProperty;h=a("underscore"),e=a("backbone"),g=a("chaplin/lib/event_broker"),d.exports=f=function(){function a(){this.initialize.apply(this,arguments)}return a.extend=e.Model.extend,h.extend(a.prototype,e.Events),h.extend(a.prototype,g),a.prototype.view=null,a.prototype.redirected=!1,a.prototype.initialize=function(){},a.prototype.beforeAction=function(){},a.prototype.adjustTitle=function(a){return this.publishEvent("!adjustTitle",a)},a.prototype.compose=function(a,b,c){var d;return 1===arguments.length?(d=null,this.publishEvent("!composer:retrieve",a,function(a){return d=a}),d):this.publishEvent("!composer:compose",a,b,c)},a.prototype.redirectTo=function(a,b){return this.redirected=!0,this.publishEvent("!router:route",a,b)},a.prototype.redirectToRoute=function(a,b,c){return this.redirected=!0,this.publishEvent("!router:routeByName",a,b,c)},a.prototype.disposed=!1,a.prototype.dispose=function(){var a,b;if(!this.disposed){for(b in this)i.call(this,b)&&(a=this[b],a&&"function"==typeof a.dispose&&(a.dispose(),delete this[b]));return this.unsubscribeAllEvents(),this.stopListening(),this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0}},a}()}),a.register("chaplin/models/collection",function(b,c,d){var e,f,g,h,i,j,k={}.hasOwnProperty,l=function(a,b){function c(){this.constructor=a}for(var d in b)k.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};j=a("underscore"),e=a("backbone"),g=a("chaplin/lib/event_broker"),h=a("chaplin/models/model"),i=a("chaplin/lib/utils"),d.exports=f=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return l(b,a),j.extend(b.prototype,g),b.prototype.model=h,b.prototype.serialize=function(){return this.map(i.serialize)},b.prototype.disposed=!1,b.prototype.dispose=function(){var a,b,c,d;if(!this.disposed){for(this.trigger("dispose",this),this.reset([],{silent:!0}),this.unsubscribeAllEvents(),this.stopListening(),this.off(),b=["model","models","_byId","_byCid","_callbacks"],c=0,d=b.length;d>c;c++)a=b[c],delete this[a];return this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0}},b}(e.Collection)}),a.register("chaplin/models/model",function(b,c,d){var e,f,g,h,i,j,k,l={}.hasOwnProperty,m=function(a,b){function c(){this.constructor=a}for(var d in b)l.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};k=a("underscore"),e=a("backbone"),j=a("chaplin/lib/utils"),f=a("chaplin/lib/event_broker"),h=function(a,b,c){var d,f,g,h,k,l,m,n;d=j.beget(b),null==c&&(c={}),c[a.cid]=!0;for(f in b)if(k=b[f],k instanceof e.Model)d[f]=i(k,a,c);else if(k instanceof e.Collection){for(h=[],n=k.models,l=0,m=n.length;m>l;l++)g=n[l],h.push(i(g,a,c));d[f]=h}return delete c[a.cid],d},i=function(a,b,c){var d;return a===b||k.has(c,a.cid)?null:(d="function"==typeof a.getAttributes?a.getAttributes():a.attributes,h(a,d,c))},d.exports=g=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return m(b,a),k.extend(b.prototype,f),b.prototype.getAttributes=function(){return this.attributes},b.prototype.serialize=function(){return h(this,this.getAttributes())},b.prototype.disposed=!1,b.prototype.dispose=function(){var a,b,c,d;if(!this.disposed){for(this.trigger("dispose",this),this.unsubscribeAllEvents(),this.stopListening(),this.off(),b=["collection","attributes","changed","_escapedAttributes","_previousAttributes","_silent","_pending","_callbacks"],c=0,d=b.length;d>c;c++)a=b[c],delete this[a];return this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0}},b}(e.Model)}),a.register("chaplin/views/layout",function(b,c,d){var e,f,g,h,i,j,k,l=function(a,b){return function(){return a.apply(b,arguments)}},m={}.hasOwnProperty,n=function(a,b){function c(){this.constructor=a}for(var d in b)m.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};k=a("underscore"),f=a("backbone"),j=a("chaplin/lib/utils"),g=a("chaplin/lib/event_broker"),i=a("chaplin/views/view"),e=f.$,d.exports=h=function(a){function b(a){null==a&&(a={}),this.openLink=l(this.openLink,this),this.globalRegions=[],this.title=a.title,a.regions&&(this.regions=a.regions),this.settings=k.defaults(a,{titleTemplate:k.template("<%= subtitle %> – <%= title %>"),openExternalToBlank:!1,routeLinks:"a, .go-to",skipRouting:".noscript",scrollTo:[0,0]}),b.__super__.constructor.apply(this,arguments),this.settings.routeLinks&&this.startLinkRouting()}return n(b,a),b.prototype.el="body",b.prototype.keepElement=!0,b.prototype.title="",b.prototype.globalRegions=null,b.prototype.listen={"beforeControllerDispose mediator":"scroll","!adjustTitle mediator":"adjustTitle","!region:show mediator":"showRegion","!region:register mediator":"registerRegionHandler","!region:unregister mediator":"unregisterRegionHandler"},b.prototype.scroll=function(){var a;return a=this.settings.scrollTo,a?window.scrollTo(a[0],a[1]):void 0},b.prototype.adjustTitle=function(a){var b;return null==a&&(a=""),b=this.settings.titleTemplate({title:this.title,subtitle:a}),setTimeout(function(){return document.title=b},50)},b.prototype.startLinkRouting=function(){var a;return a=this.settings.routeLinks,a?this.$el.on("click",a,this.openLink):void 0},b.prototype.stopLinkRouting=function(){var a;return a=this.settings.routeLinks,a?this.$el.off("click",a):void 0},b.prototype.isExternalLink=function(a){var b,c;return"_blank"===a.target||"external"===a.rel||"http:"!==(b=a.protocol)&&"https:"!==b&&"file:"!==b||(c=a.hostname)!==location.hostname&&""!==c},b.prototype.openLink=function(a){var b,c,d,f,g,h,i,k,l,m,n;if(!(j.modifierKeyPressed(a)||(c=a.currentTarget,b=e(c),g="A"===c.nodeName,f=b.attr("href")||b.data("href")||null,null===f||void 0===f||""===f||"#"===f.charAt(0)||(l=this.settings.skipRouting,m=typeof l,"function"===m&&!l(f,c)||"string"===m&&b.is(l)))))return(d=g&&this.isExternalLink(c))?(this.settings.openExternalToBlank&&(a.preventDefault(),window.open(c.href)),void 0):(g?(i=c.pathname,k=c.search.substring(1),"/"!==i.charAt(0)&&(i="/"+i)):(n=f.split("?"),i=n[0],k=n[1],null==k&&(k="")),h={query:k},this.publishEvent("!router:route",i,h),a.preventDefault(),void 0)},b.prototype.registerRegionHandler=function(a,b,c){return null!=b?this.registerGlobalRegion(a,b,c):this.registerGlobalRegions(a)},b.prototype.registerGlobalRegion=function(a,b,c){return this.unregisterGlobalRegion(a,b),this.globalRegions.unshift({instance:a,name:b,selector:c})},b.prototype.registerGlobalRegions=function(a){var b,c,d,e,f,g;for(g=j.getAllPropertyVersions(a,"regions"),e=0,f=g.length;f>e;e++){d=g[e];for(b in d)c=d[b],this.registerGlobalRegion(a,b,c)}},b.prototype.unregisterRegionHandler=function(a,b){return null!=b?this.unregisterGlobalRegion(a,b):this.unregisterGlobalRegions(a)},b.prototype.unregisterGlobalRegion=function(a,b){var c;return c=a.cid,this.globalRegions=k.filter(this.globalRegions,function(a){return a.instance.cid!==c||a.name!==b})},b.prototype.unregisterGlobalRegions=function(a){return this.globalRegions=k.filter(this.globalRegions,function(b){return b.instance.cid!==a.cid})},b.prototype.showRegion=function(a,b){var c;if(c=k.find(this.globalRegions,function(b){return b.name===a&&!b.instance.stale}),!c)throw new Error("No region registered under "+a);return b.container=""===c.selector?c.instance.$el:c.instance.$(c.selector)},b.prototype.dispose=function(){var a,c,d,e;if(!this.disposed){for(this.stopLinkRouting(),e=["globalRegions","title","route"],c=0,d=e.length;d>c;c++)a=e[c],delete this[a];return b.__super__.dispose.apply(this,arguments)}},b}(i)}),a.register("chaplin/views/view",function(b,c,d){var e,f,g,h,i,j,k={}.hasOwnProperty,l=function(a,b){function c(){this.constructor=a}for(var d in b)k.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};j=a("underscore"),f=a("backbone"),i=a("chaplin/lib/utils"),g=a("chaplin/lib/event_broker"),e=f.$,d.exports=h=function(a){function b(a){var c,d=this;a&&j.extend(this,j.pick(a,["autoAttach","autoRender","container","containerMethod","region","regions"])),c=this.render,this.render=function(){return d.disposed?!1:(c.apply(d,arguments),d.autoAttach&&d.attach.apply(d,arguments),d)},this.subviews=[],this.subviewsByName={},b.__super__.constructor.apply(this,arguments),this.delegateListeners(),this.model&&this.listenTo(this.model,"dispose",this.dispose),this.collection&&this.listenTo(this.collection,"dispose",function(a){return a&&a!==d.collection?void 0:d.dispose()}),null!=this.regions&&this.publishEvent("!region:register",this),this.autoRender&&this.render()}return l(b,a),j.extend(b.prototype,g),b.prototype.keepElement=!1,b.prototype.autoRender=!1,b.prototype.autoAttach=!0,b.prototype.container=null,b.prototype.containerMethod="append",b.prototype.regions=null,b.prototype.region=null,b.prototype.subviews=null,b.prototype.subviewsByName=null,b.prototype.stale=!1,b.prototype.delegate=function(a,b,c){var d,e,f,g,h,i=this;if("string"!=typeof a)throw new TypeError("View#delegate: first argument must be a string");if(2===arguments.length)f=b;else{if(3!==arguments.length)throw new TypeError("View#delegate: only two or three arguments are allowed");if(h=b,"string"!=typeof h)throw new TypeError("View#delegate: second argument must be a string");f=c}if("function"!=typeof f)throw new TypeError("View#delegate: handler argument must be function");return g=j.map(a.split(" "),function(a){return""+a+".delegate"+i.cid}),e=g.join(" "),d=j.bind(f,this),this.$el.on(e,h||null,d),d},b.prototype._delegateEvents=function(a){var b,c,d,e,f,g,h;for(e in a){if(h=a[e],d="function"==typeof h?h:this[h],!d)throw new Error("Method '"+d+"' does not exist");f=e.match(/^(\S+)\s*(.*)$/),c=""+f[1]+".delegateEvents"+this.cid,g=f[2],b=j.bind(d,this),this.$el.on(c,g||null,b)}},b.prototype.delegateEvents=function(a){var b,c,d,e;if(this.undelegateEvents(),a)return this._delegateEvents(a),void 0;if(this.events)for(e=i.getAllPropertyVersions(this,"events"),c=0,d=e.length;d>c;c++){if(b=e[c],"function"==typeof b)throw new TypeError("View#delegateEvents: functions are not supported");this._delegateEvents(b)}},b.prototype.undelegate=function(a,b,c){var d,e,f,g,h=this;if(a){if("string"!=typeof a)throw new TypeError("View#undelegate: first argument must be a string");if(2===arguments.length)"string"==typeof b?g=b:e=b;else if(3===arguments.length){if(g=b,"string"!=typeof g)throw new TypeError("View#undelegate: second argument must be a string");e=c}return f=j.map(a.split(" "),function(a){return""+a+".delegate"+h.cid}),d=f.join(" "),this.$el.off(d,g||null)}return this.$el.off(".delegate"+this.cid)},b.prototype.delegateListeners=function(){var a,b,c,d,e,f,g,h,j;if(this.listen)for(h=i.getAllPropertyVersions(this,"listen"),f=0,g=h.length;g>f;f++){e=h[f];for(b in e){if(c=e[b],"function"!=typeof c&&(c=this[c]),"function"!=typeof c)throw new Error("View#delegateListeners: "+(""+c+" must be function"));j=b.split(" "),a=j[0],d=j[1],this.delegateListener(a,d,c)}}},b.prototype.delegateListener=function(a,b,c){var d;"model"===b||"collection"===b?(d=this[b],d&&this.listenTo(d,a,c)):"mediator"===b?this.subscribeEvent(a,c):b||this.on(a,c,this)},b.prototype.registerRegion=function(a,b){return this.publishEvent("!region:register",this,a,b)},b.prototype.unregisterRegion=function(a){return this.publishEvent("!region:unregister",this,a)},b.prototype.unregisterAllRegions=function(){return this.publishEvent("!region:unregister",this)},b.prototype.subview=function(a,b){var c,d;return d=this.subviews,c=this.subviewsByName,a&&b?(this.removeSubview(a),d.push(b),c[a]=b,b):a?c[a]:void 0},b.prototype.removeSubview=function(a){var b,c,d,e,f,g,h;if(a){if(g=this.subviews,b=this.subviewsByName,"string"==typeof a)d=a,h=b[d];else{h=a;for(e in b)if(f=b[e],h===f){d=e;break}}if(d&&h&&h.dispose)return h.dispose(),c=j.indexOf(g,h),-1!==c&&g.splice(c,1),delete b[d]}},b.prototype.getTemplateData=function(){var a,b;return a=this.model?i.serialize(this.model):this.collection?{items:i.serialize(this.collection),length:this.collection.length}:{},b=this.model||this.collection,b&&"function"==typeof b.isSynced&&!("synced"in a)&&(a.synced=b.isSynced()),a},b.prototype.getTemplateFunction=function(){throw new Error("View#getTemplateFunction must be overridden")},b.prototype.render=function(){var a,b;return this.disposed?!1:(b=this.getTemplateFunction(),"function"==typeof b&&(a=b(this.getTemplateData()),this.$el.html(a)),this)},b.prototype.attach=function(){return null!=this.region&&this.publishEvent("!region:show",this.region,this),this.container?(e(this.container)[this.containerMethod](this.el),this.trigger("addedToDOM")):void 0},b.prototype.disposed=!1,b.prototype.dispose=function(){var a,b,c,d,e,f,g,h;
if(!this.disposed){for(this.unregisterAllRegions(),h=this.subviews,d=0,f=h.length;f>d;d++)c=h[d],c.dispose();for(this.unsubscribeAllEvents(),this.off(),this.keepElement?(this.undelegateEvents(),this.undelegate(),this.stopListening()):this.remove(),b=["el","$el","options","model","collection","subviews","subviewsByName","_callbacks"],e=0,g=b.length;g>e;e++)a=b[e],delete this[a];return this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0}},b}(f.View)}),a.register("chaplin/views/collection_view",function(b,c,d){var e,f,g,h,i,j=function(a,b){return function(){return a.apply(b,arguments)}},k={}.hasOwnProperty,l=function(a,b){function c(){this.constructor=a}for(var d in b)k.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};i=a("underscore"),f=a("backbone"),h=a("chaplin/views/view"),e=f.$,d.exports=g=function(a){function b(a){this.renderAllItems=j(this.renderAllItems,this),this.toggleFallback=j(this.toggleFallback,this),this.itemsReset=j(this.itemsReset,this),this.itemRemoved=j(this.itemRemoved,this),this.itemAdded=j(this.itemAdded,this),a&&i.extend(this,i.pick(a,["renderItems","itemView"])),this.visibleItems=[],b.__super__.constructor.apply(this,arguments)}return l(b,a),b.prototype.itemView=null,b.prototype.autoRender=!0,b.prototype.renderItems=!0,b.prototype.animationDuration=500,b.prototype.useCssAnimation=!1,b.prototype.animationStartClass="animated-item-view",b.prototype.animationEndClass="animated-item-view-end",b.prototype.listSelector=null,b.prototype.$list=null,b.prototype.fallbackSelector=null,b.prototype.$fallback=null,b.prototype.loadingSelector=null,b.prototype.$loading=null,b.prototype.itemSelector=void 0,b.prototype.filterer=null,b.prototype.filterCallback=function(a,b){return a.$el.stop(!0,!0).toggle(b)},b.prototype.visibleItems=null,b.prototype.initialize=function(a){return null==a&&(a={}),this.addCollectionListeners(),null!=a.filterer?this.filter(a.filterer):void 0},b.prototype.addCollectionListeners=function(){return this.listenTo(this.collection,"add",this.itemAdded),this.listenTo(this.collection,"remove",this.itemRemoved),this.listenTo(this.collection,"reset sort",this.itemsReset)},b.prototype.getTemplateData=function(){var a;return a={length:this.collection.length},"function"==typeof this.collection.isSynced&&(a.synced=this.collection.isSynced()),a},b.prototype.getTemplateFunction=function(){},b.prototype.render=function(){return b.__super__.render.apply(this,arguments),this.$list=this.listSelector?this.$(this.listSelector):this.$el,this.initFallback(),this.initLoadingIndicator(),this.renderItems?this.renderAllItems():void 0},b.prototype.itemAdded=function(a,b,c){return this.insertView(a,this.renderItem(a),c.at)},b.prototype.itemRemoved=function(a){return this.removeViewForItem(a)},b.prototype.itemsReset=function(){return this.renderAllItems()},b.prototype.initFallback=function(){return this.fallbackSelector?(this.$fallback=this.$(this.fallbackSelector),this.on("visibilityChange",this.toggleFallback),this.listenTo(this.collection,"syncStateChange",this.toggleFallback),this.toggleFallback()):void 0},b.prototype.toggleFallback=function(){var a;return a=0===this.visibleItems.length&&("function"==typeof this.collection.isSynced?this.collection.isSynced():!0),this.$fallback.toggle(a)},b.prototype.initLoadingIndicator=function(){return this.loadingSelector&&"function"==typeof this.collection.isSyncing?(this.$loading=this.$(this.loadingSelector),this.listenTo(this.collection,"syncStateChange",this.toggleLoadingIndicator),this.toggleLoadingIndicator()):void 0},b.prototype.toggleLoadingIndicator=function(){var a;return a=0===this.collection.length&&this.collection.isSyncing(),this.$loading.toggle(a)},b.prototype.getItemViews=function(){var a,b,c,d;if(a={},this.subviews.length>0){d=this.subviewsByName;for(b in d)c=d[b],"itemView:"===b.slice(0,9)&&(a[b.slice(9)]=c)}return a},b.prototype.filter=function(a,b){var c,d,e,f,g,h,j;if(this.filterer=a,b&&(this.filterCallback=b),null==b&&(b=this.filterCallback),!i.isEmpty(this.getItemViews()))for(j=this.collection.models,d=g=0,h=j.length;h>g;d=++g){if(e=j[d],c="function"==typeof a?a(e,d):!0,f=this.subview("itemView:"+e.cid),!f)throw new Error("CollectionView#filter: no view found for "+e.cid);this.filterCallback(f,c),this.updateVisibleItems(f.model,c,!1)}return this.trigger("visibilityChange",this.visibleItems)},b.prototype.renderAllItems=function(){var a,b,c,d,e,f,g,h,i,j,l;for(d=this.collection.models,this.visibleItems=[],e={},g=0,i=d.length;i>g;g++)c=d[g],f=this.subview("itemView:"+c.cid),f&&(e[c.cid]=f);l=this.getItemViews();for(a in l)k.call(l,a)&&(f=l[a],a in e||this.removeSubview("itemView:"+a));for(b=h=0,j=d.length;j>h;b=++h)c=d[b],f=this.subview("itemView:"+c.cid),f?this.insertView(c,f,b,!1):this.insertView(c,this.renderItem(c),b);return 0===d.length?this.trigger("visibilityChange",this.visibleItems):void 0},b.prototype.renderItem=function(a){var b;return b=this.subview("itemView:"+a.cid),b||(b=this.initItemView(a),this.subview("itemView:"+a.cid,b)),b.render(),b},b.prototype.initItemView=function(a){if(this.itemView)return new this.itemView({model:a,autoRender:!1});throw new Error("The CollectionView#itemView property must be defined or the initItemView() must be overridden.")},b.prototype.insertView=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q=this;return null==d&&(d=!0),0===this.animationDuration&&(d=!1),"number"!=typeof c&&(c=this.collection.indexOf(a)),k="function"==typeof this.filterer?this.filterer(a,c):!0,p=b.el,h=b.$el,k&&d&&(this.useCssAnimation?h.addClass(this.animationStartClass):h.css("opacity",0)),this.filterer&&this.filterCallback(b,k),n=this.collection.length,l=c>0&&n>c,m=function(a){return 0===a||c===a},e=this.$list,l||this.itemSelector?(i=e.children(this.itemSelector),j=i.length,i.get(c)!==p&&(m(j)?e.append(p):0===c?(f=i.eq(c),f.before(p)):(g=i.eq(c-1),g.after(p)))):(o=m(n)?"append":"prepend",e[o](p)),b.trigger("addedToParent"),this.updateVisibleItems(a,k),k&&d&&(this.useCssAnimation?setTimeout(function(){return h.addClass(q.animationEndClass)},0):h.animate({opacity:1},this.animationDuration)),b},b.prototype.removeViewForItem=function(a){return this.updateVisibleItems(a,!1),this.removeSubview("itemView:"+a.cid)},b.prototype.updateVisibleItems=function(a,b,c){var d,e,f;return null==c&&(c=!0),e=!1,f=i.indexOf(this.visibleItems,a),d=-1!==f,b&&!d?(this.visibleItems.push(a),e=!0):!b&&d&&(this.visibleItems.splice(f,1),e=!0),e&&c&&this.trigger("visibilityChange",this.visibleItems),e},b.prototype.dispose=function(){var a,c,d,e;if(!this.disposed){for(c=["$list","$fallback","$loading","visibleItems"],d=0,e=c.length;e>d;d++)a=c[d],delete this[a];return b.__super__.dispose.apply(this,arguments)}},b}(h)}),a.register("chaplin/lib/route",function(b,c,d){var e,f,g,h,i,j=function(a,b){return function(){return a.apply(b,arguments)}},k={}.hasOwnProperty;i=a("underscore"),e=a("backbone"),g=a("chaplin/lib/event_broker"),f=a("chaplin/controllers/controller"),d.exports=h=function(){function a(a,b,c,d){var e;if(this.pattern=a,this.controller=b,this.action=c,this.handler=j(this.handler,this),this.addParamName=j(this.addParamName,this),i.isRegExp(this.pattern))throw new Error("Route: RegExps are not supported.        Use strings with :names and `constraints` option of route");if(this.options=d?i.clone(d):{},null!=this.options.name&&(this.name=this.options.name),this.name&&-1!==this.name.indexOf("#"))throw new Error('Route: "#" cannot be used in name');if(null==(e=this.name)&&(this.name=this.controller+"#"+this.action),this.paramNames=[],i.has(f.prototype,this.action))throw new Error("Route: You should not use existing controller properties as action names");this.createRegExp(),"function"==typeof Object.freeze&&Object.freeze(this)}var b;return a.extend=e.Model.extend,i.extend(a.prototype,g),b=/[-[\]{}()+?.,\\^$|#\s]/g,a.prototype.matches=function(a){var b,c,d,e,f;if("string"==typeof a)return a===this.name;for(f=["name","action","controller"],d=0,e=f.length;e>d;d++)if(b=f[d],c=a[b],c&&c!==this[b])return!1;return!0},a.prototype.reverse=function(a){var b,c,d,e,f,g,h;if(d=this.pattern,i.isArray(a)){if(a.length<this.paramNames.length)return!1;b=0,d=d.replace(/[:*][^\/\?]+/g,function(){var c;return c=a[b],b+=1,c})}else for(h=this.paramNames,f=0,g=h.length;g>f;f++){if(c=h[f],e=a[c],void 0===e)return!1;d=d.replace(RegExp("[:*]"+c,"g"),e)}return this.test(d)?d:!1},a.prototype.createRegExp=function(){var a;return a=this.pattern.replace(b,"\\$&").replace(/(?::|\*)(\w+)/g,this.addParamName),this.regExp=RegExp("^"+a+"(?=\\?|$)")},a.prototype.addParamName=function(a,b){return this.paramNames.push(b),":"===a.charAt(0)?"([^/?]+)":"(.*?)"},a.prototype.test=function(a){var b,c,d,e,f;if(d=this.regExp.test(a),!d)return!1;if(c=this.options.constraints){f=this.extractParams(a);for(e in c)if(k.call(c,e)&&(b=c[e],!b.test(f[e])))return!1}return!0},a.prototype.handler=function(a,b){var c,d,e,f;return b=b?i.clone(b):{},d=null!=(f=b.query)?f:this.getCurrentQuery(),c=this.buildParams(a,d),e={path:a,action:this.action,controller:this.controller,name:this.name,query:d},delete b.query,this.publishEvent("router:match",e,c,b)},a.prototype.getCurrentQuery=function(){return location.search.substring(1)},a.prototype.buildParams=function(a,b){return i.extend({},this.extractQueryParams(b),this.extractParams(a),this.options.params)},a.prototype.extractParams=function(a){var b,c,d,e,f,g,h,i;for(f={},d=this.regExp.exec(a),i=d.slice(1),b=g=0,h=i.length;h>g;b=++g)c=i[b],e=this.paramNames.length?this.paramNames[b]:b,f[e]=c;return f},a.prototype.extractQueryParams=function(a){var b,c,d,e,f,g,h,i,j;if(f={},!a)return f;for(e=a.split("&"),h=0,i=e.length;i>h;h++)d=e[h],d.length&&(j=d.split("="),c=j[0],g=j[1],c.length&&(c=decodeURIComponent(c),g=decodeURIComponent(g),b=f[c],b?b.push?b.push(g):f[c]=[b,g]:f[c]=g));return f},a}()}),a.register("chaplin/lib/router",function(b,c,d){var e,f,g,h,i,j,k=function(a,b){return function(){return a.apply(b,arguments)}};j=a("underscore"),e=a("backbone"),f=a("chaplin/lib/event_broker"),g=a("chaplin/lib/route"),i=a("chaplin/lib/utils"),d.exports=h=function(){function a(a){this.options=null!=a?a:{},this.route=k(this.route,this),this.match=k(this.match,this),j.defaults(this.options,{pushState:!0,root:"/"}),this.removeRoot=new RegExp("^"+i.escapeRegExp(this.options.root)+"(#)?"),this.subscribeEvent("!router:route",this.routeHandler),this.subscribeEvent("!router:routeByName",this.routeByNameHandler),this.subscribeEvent("!router:reverse",this.reverseHandler),this.subscribeEvent("!router:changeURL",this.changeURLHandler),this.createHistory()}return a.extend=e.Model.extend,j.extend(a.prototype,f),a.prototype.createHistory=function(){return e.history||(e.history=new e.History)},a.prototype.startHistory=function(){return e.history.start(this.options)},a.prototype.stopHistory=function(){return e.History.started?e.history.stop():void 0},a.prototype.match=function(a,b,c){var d,f,h,i;if(null==c&&(c={}),2===arguments.length&&"object"==typeof b){if(c=b,f=c.controller,d=c.action,!f||!d)throw new Error("Router#match must receive either target or options.controller & options.action")}else{if(f=c.controller,d=c.action,f||d)throw new Error("Router#match cannot use both target and options.controller / options.action");i=b.split("#"),f=i[0],d=i[1]}return h=new g(a,f,d,c),e.history.handlers.push({route:h,callback:h.handler}),h},a.prototype.route=function(a,b){var c,d,f,g;for(b=b?j.clone(b):{},j.defaults(b,{changeURL:!0}),a=a.replace(this.removeRoot,""),g=e.history.handlers,d=0,f=g.length;f>d;d++)if(c=g[d],c.route.test(a))return c.callback(a,b),!0;throw new Error("Router#route: request was not routed")},a.prototype.reverse=function(a,b){var c,d,f,g,h,i,j;if(g=this.options.root,null!=b&&"object"!=typeof b)throw new TypeError("Router#reverse: params must be an array or an object");for(d=e.history.handlers,i=0,j=d.length;j>i;i++)if(c=d[i],c.route.matches(a)&&(f=c.route.reverse(b),f!==!1))return h=g?g+f:f;throw new Error("Router#reverse: invalid route specified")},a.prototype.routeHandler=function(a,b){return"function"==typeof b&&(b={}),this.route(a,b)},a.prototype.routeByNameHandler=function(a,b,c){var d;return 3===arguments.length&&"function"==typeof c&&(c={}),d=this.reverse(a,b),this.route(d,c)},a.prototype.reverseHandler=function(a,b,c){return c(this.reverse(a,b))},a.prototype.changeURL=function(a,b){var c;return null==b&&(b={}),c={trigger:b.trigger===!0,replace:b.replace===!0},e.history.navigate(a,c)},a.prototype.changeURLHandler=function(a,b){return this.changeURL(a,b)},a.prototype.disposed=!1,a.prototype.dispose=function(){return this.disposed?void 0:(this.stopHistory(),delete e.history,this.unsubscribeAllEvents(),this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0)},a}()}),a.register("chaplin/lib/delayer",function(a,b,c){var d;d={setTimeout:function(a,b,c){var d,e,f,g=this;return null==(f=this.timeouts)&&(this.timeouts={}),this.clearTimeout(a),e=function(){return delete g.timeouts[a],c()},d=setTimeout(e,b),this.timeouts[a]=d,d},clearTimeout:function(a){this.timeouts&&null!=this.timeouts[a]&&(clearTimeout(this.timeouts[a]),delete this.timeouts[a])},clearAllTimeouts:function(){var a,b,c;if(this.timeouts){c=this.timeouts;for(b in c)a=c[b],this.clearTimeout(b)}},setInterval:function(a,b,c){var d,e;return this.clearInterval(a),null==(e=this.intervals)&&(this.intervals={}),d=setInterval(c,b),this.intervals[a]=d,d},clearInterval:function(a){this.intervals&&this.intervals[a]&&(clearInterval(this.intervals[a]),delete this.intervals[a])},clearAllIntervals:function(){var a,b,c;if(this.intervals){c=this.intervals;for(b in c)a=c[b],this.clearInterval(b)}},clearDelayed:function(){this.clearAllTimeouts(),this.clearAllIntervals()}},"function"==typeof Object.freeze&&Object.freeze(d),c.exports=d}),a.register("chaplin/lib/event_broker",function(b,c,d){var e,f,g=[].slice;f=a("chaplin/mediator"),e={subscribeEvent:function(a,b){if("string"!=typeof a)throw new TypeError("EventBroker#subscribeEvent: type argument must be a string");if("function"!=typeof b)throw new TypeError("EventBroker#subscribeEvent: handler argument must be a function");return f.unsubscribe(a,b,this),f.subscribe(a,b,this)},unsubscribeEvent:function(a,b){if("string"!=typeof a)throw new TypeError("EventBroker#unsubscribeEvent: type argument must be a string");if("function"!=typeof b)throw new TypeError("EventBroker#unsubscribeEvent: handler argument must be a function");return f.unsubscribe(a,b)},unsubscribeAllEvents:function(){return f.unsubscribe(null,null,this)},publishEvent:function(){var a,b;if(b=arguments[0],a=2<=arguments.length?g.call(arguments,1):[],"string"!=typeof b)throw new TypeError("EventBroker#publishEvent: type argument must be a string");return f.publish.apply(f,[b].concat(g.call(a)))}},"function"==typeof Object.freeze&&Object.freeze(e),d.exports=e}),a.register("chaplin/lib/support",function(a,b,c){var d;d={propertyDescriptors:function(){var a;if("function"!=typeof Object.defineProperty||"function"!=typeof Object.defineProperties)return!1;try{return a={},Object.defineProperty(a,"foo",{value:"bar"}),"bar"===a.foo}catch(b){return!1}}()},c.exports=d}),a.register("chaplin/lib/composition",function(b,c,d){var e,f,g,h,i={}.hasOwnProperty;h=a("underscore"),e=a("backbone"),g=a("chaplin/lib/event_broker"),d.exports=f=function(){function a(a){null!=a&&(this.options=h.clone(a)),this.item=this,this.initialize(this.options)}return a.extend=e.Model.extend,h.extend(a.prototype,e.Events),h.extend(a.prototype,g),a.prototype.item=null,a.prototype.options=null,a.prototype._stale=!1,a.prototype.initialize=function(){},a.prototype.compose=function(){},a.prototype.check=function(a){return h.isEqual(this.options,a)},a.prototype.stale=function(a){var b,c;if(null==a)return this._stale;this._stale=a;for(c in this)b=this[c],b&&b!==this&&h.has(b,"stale")&&(b.stale=a)},a.prototype.disposed=!1,a.prototype.dispose=function(){var a,b,c,d,e;if(!this.disposed){for(b in this)i.call(this,b)&&(a=this[b],a&&"function"==typeof a.dispose&&a!==this&&(a.dispose(),delete this[b]));for(this.unsubscribeAllEvents(),this.stopListening(),c=["redirected"],d=0,e=c.length;e>d;d++)b=c[d],delete this[b];return this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0}},a}()}),a.register("chaplin/lib/sync_machine",function(a,b,c){var d,e,f,g,h,i,j,k,l,m;for(h="unsynced",f="syncing",e="synced",d="syncStateChange",g={_syncState:h,_previousSyncState:null,syncState:function(){return this._syncState},isUnsynced:function(){return this._syncState===h},isSynced:function(){return this._syncState===e},isSyncing:function(){return this._syncState===f},unsync:function(){var a;((a=this._syncState)===f||a===e)&&(this._previousSync=this._syncState,this._syncState=h,this.trigger(this._syncState,this,this._syncState),this.trigger(d,this,this._syncState))},beginSync:function(){var a;((a=this._syncState)===h||a===e)&&(this._previousSync=this._syncState,this._syncState=f,this.trigger(this._syncState,this,this._syncState),this.trigger(d,this,this._syncState))},finishSync:function(){this._syncState===f&&(this._previousSync=this._syncState,this._syncState=e,this.trigger(this._syncState,this,this._syncState),this.trigger(d,this,this._syncState))},abortSync:function(){this._syncState===f&&(this._syncState=this._previousSync,this._previousSync=this._syncState,this.trigger(this._syncState,this,this._syncState),this.trigger(d,this,this._syncState))}},m=[h,f,e,d],j=function(a){return g[a]=function(b,c){return null==c&&(c=this),this.on(a,b,c),this._syncState===a?b.call(c):void 0}},k=0,l=m.length;l>k;k++)i=m[k],j(i);"function"==typeof Object.freeze&&Object.freeze(g),c.exports=g}),a.register("chaplin/lib/utils",function(b,c,d){var e,f,g,h=[].slice,i=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};g=a("underscore"),e=a("chaplin/lib/support"),f={beget:function(){var a;return"function"==typeof Object.create?Object.create:(a=function(){},function(b){return a.prototype=b,new a})}(),serialize:function(a){if("function"==typeof a.serialize)return a.serialize();if("function"==typeof a.toJSON)return a.toJSON();throw new TypeError("utils.serialize: Unknown data was passed")},readonly:function(){var a;return e.propertyDescriptors?(a={writable:!1,enumerable:!0,configurable:!1},function(){var b,c,d,e,f;for(b=arguments[0],d=2<=arguments.length?h.call(arguments,1):[],e=0,f=d.length;f>e;e++)c=d[e],a.value=b[c],Object.defineProperty(b,c,a);return!0}):function(){return!1}}(),getPrototypeChain:function(a){var b,c;for(b=[a.constructor.prototype];a=null!=(c=a.constructor)?c.__super__:void 0;)b.push(a);return b},getAllPropertyVersions:function(a,b){var c,d,e,g,h,j;for(d=[],j=f.getPrototypeChain(a),g=0,h=j.length;h>g;g++)c=j[g],e=c[b],e&&i.call(d,e)<0&&d.push(e);return d.reverse()},upcase:function(a){return a.charAt(0).toUpperCase()+a.substring(1)},escapeRegExp:function(a){return String(a||"").replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},modifierKeyPressed:function(a){return a.shiftKey||a.altKey||a.ctrlKey||a.metaKey}},"function"==typeof Object.seal&&Object.seal(f),d.exports=f}),a.register("chaplin/lib/helpers",function(b,c,d){var e,f;f=a("chaplin/mediator"),e={reverse:function(a,b){var c;return c=null,f.publish("!router:reverse",a,b,function(a){return c=a}),c}},d.exports=e}),a.register("chaplin",function(b,c,d){d.exports={Application:a("chaplin/application"),mediator:a("chaplin/mediator"),Dispatcher:a("chaplin/dispatcher"),Controller:a("chaplin/controllers/controller"),Composer:a("chaplin/composer"),Composition:a("chaplin/lib/composition"),Collection:a("chaplin/models/collection"),Model:a("chaplin/models/model"),Layout:a("chaplin/views/layout"),View:a("chaplin/views/view"),CollectionView:a("chaplin/views/collection_view"),Route:a("chaplin/lib/route"),Router:a("chaplin/lib/router"),Delayer:a("chaplin/lib/delayer"),EventBroker:a("chaplin/lib/event_broker"),helpers:a("chaplin/lib/helpers"),support:a("chaplin/lib/support"),SyncMachine:a("chaplin/lib/sync_machine"),utils:a("chaplin/lib/utils")}});var b=function(b,c){a.register("backbone",function(a,c,d){d.exports=b}),a.register("underscore",function(a,b,d){d.exports=c})};if("function"==typeof define&&define.amd)define("chaplin",["backbone","underscore"],function(c,d){return b(c,d),a("chaplin")});else if("object"==typeof module&&module&&module.exports)b(require("backbone"),require("underscore")),module.exports=a("chaplin");else{if("function"!=typeof require)throw new Error("Chaplin requires Common.js or AMD modules");b(window.Backbone,window._),window.Chaplin=a("chaplin")}}(),function(){define("lib/session",[],function(){return{}})}.call(this);var Handlebars={};if(function(a,b){a.VERSION="1.0.0",a.COMPILER_REVISION=4,a.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},a.helpers={},a.partials={};var c=Object.prototype.toString,d="[object Function]",e="[object Object]";a.registerHelper=function(b,d,f){if(c.call(b)===e){if(f||d)throw new a.Exception("Arg not supported with multiple helpers");a.Utils.extend(this.helpers,b)}else f&&(d.not=f),this.helpers[b]=d},a.registerPartial=function(b,d){c.call(b)===e?a.Utils.extend(this.partials,b):this.partials[b]=d},a.registerHelper("helperMissing",function(a){if(2===arguments.length)return b;throw new Error("Missing helper: '"+a+"'")}),a.registerHelper("blockHelperMissing",function(b,e){var f=e.inverse||function(){},g=e.fn,h=c.call(b);return h===d&&(b=b.call(this)),b===!0?g(this):b===!1||null==b?f(this):"[object Array]"===h?b.length>0?a.helpers.each(b,e):f(this):g(b)}),a.K=function(){},a.createFrame=Object.create||function(b){a.K.prototype=b;var c=new a.K;return a.K.prototype=null,c},a.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(b,c){if(a.logger.level<=b){var d=a.logger.methodMap[b];"undefined"!=typeof console&&console[d]&&console[d].call(console,c)}}},a.log=function(b,c){a.logger.log(b,c)},a.registerHelper("each",function(b,e){var f,g=e.fn,h=e.inverse,i=0,j="",k=c.call(b);if(k===d&&(b=b.call(this)),e.data&&(f=a.createFrame(e.data)),b&&"object"==typeof b)if(b instanceof Array)for(var l=b.length;l>i;i++)f&&(f.index=i),j+=g(b[i],{data:f});else for(var m in b)b.hasOwnProperty(m)&&(f&&(f.key=m),j+=g(b[m],{data:f}),i++);return 0===i&&(j=h(this)),j}),a.registerHelper("if",function(b,e){var f=c.call(b);return f===d&&(b=b.call(this)),!b||a.Utils.isEmpty(b)?e.inverse(this):e.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn})}),a.registerHelper("with",function(b,e){var f=c.call(b);return f===d&&(b=b.call(this)),a.Utils.isEmpty(b)?void 0:e.fn(b)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)});var f=function(){function a(){this.yy={}}var b={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,params:27,hash:28,dataName:29,param:30,STRING:31,INTEGER:32,BOOLEAN:33,hashSegments:34,hashSegment:35,ID:36,EQUALS:37,DATA:38,pathSegments:39,SEP:40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",31:"STRING",32:"INTEGER",33:"BOOLEAN",36:"ID",37:"EQUALS",38:"DATA",40:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[27,2],[27,1],[30,1],[30,1],[30,1],[30,1],[30,1],[28,1],[34,2],[34,1],[35,3],[35,3],[35,3],[35,3],[35,3],[26,1],[26,1],[26,1],[29,2],[21,1],[39,3],[39,1]],performAction:function(a,b,c,d,e,f){var g=f.length-1;switch(e){case 1:return f[g-1];case 2:this.$=new d.ProgramNode([],f[g]);break;case 3:this.$=new d.ProgramNode(f[g-2],f[g]);break;case 4:this.$=new d.ProgramNode(f[g-1],[]);break;case 5:this.$=new d.ProgramNode(f[g]);break;case 6:this.$=new d.ProgramNode([],[]);break;case 7:this.$=new d.ProgramNode([]);break;case 8:this.$=[f[g]];break;case 9:f[g-1].push(f[g]),this.$=f[g-1];break;case 10:this.$=new d.BlockNode(f[g-2],f[g-1].inverse,f[g-1],f[g]);break;case 11:this.$=new d.BlockNode(f[g-2],f[g-1],f[g-1].inverse,f[g]);break;case 12:this.$=f[g];break;case 13:this.$=f[g];break;case 14:this.$=new d.ContentNode(f[g]);break;case 15:this.$=new d.CommentNode(f[g]);break;case 16:this.$=new d.MustacheNode(f[g-1][0],f[g-1][1]);break;case 17:this.$=new d.MustacheNode(f[g-1][0],f[g-1][1]);break;case 18:this.$=f[g-1];break;case 19:this.$=new d.MustacheNode(f[g-1][0],f[g-1][1],"&"===f[g-2][2]);break;case 20:this.$=new d.MustacheNode(f[g-1][0],f[g-1][1],!0);break;case 21:this.$=new d.PartialNode(f[g-1]);break;case 22:this.$=new d.PartialNode(f[g-2],f[g-1]);break;case 23:break;case 24:this.$=[[f[g-2]].concat(f[g-1]),f[g]];break;case 25:this.$=[[f[g-1]].concat(f[g]),null];break;case 26:this.$=[[f[g-1]],f[g]];break;case 27:this.$=[[f[g]],null];break;case 28:this.$=[[f[g]],null];break;case 29:f[g-1].push(f[g]),this.$=f[g-1];break;case 30:this.$=[f[g]];break;case 31:this.$=f[g];break;case 32:this.$=new d.StringNode(f[g]);break;case 33:this.$=new d.IntegerNode(f[g]);break;case 34:this.$=new d.BooleanNode(f[g]);break;case 35:this.$=f[g];break;case 36:this.$=new d.HashNode(f[g]);break;case 37:f[g-1].push(f[g]),this.$=f[g-1];break;case 38:this.$=[f[g]];break;case 39:this.$=[f[g-2],f[g]];break;case 40:this.$=[f[g-2],new d.StringNode(f[g])];break;case 41:this.$=[f[g-2],new d.IntegerNode(f[g])];break;case 42:this.$=[f[g-2],new d.BooleanNode(f[g])];break;case 43:this.$=[f[g-2],f[g]];break;case 44:this.$=new d.PartialNameNode(f[g]);break;case 45:this.$=new d.PartialNameNode(new d.StringNode(f[g]));break;case 46:this.$=new d.PartialNameNode(new d.IntegerNode(f[g]));break;case 47:this.$=new d.DataNode(f[g]);break;case 48:this.$=new d.IdNode(f[g]);break;case 49:f[g-2].push({part:f[g],separator:f[g-1]}),this.$=f[g-2];break;case 50:this.$=[{part:f[g]}]}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],25:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],25:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],25:[1,16]},{17:23,18:[1,22],21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],25:[2,8]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{4:30,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{17:31,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:32,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:33,21:24,29:25,36:[1,28],38:[1,27],39:26},{21:35,26:34,31:[1,36],32:[1,37],36:[1,28],39:26},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],25:[1,16]},{17:23,21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,4],7:38,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],25:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{18:[1,39]},{18:[2,27],21:44,24:[2,27],27:40,28:41,29:48,30:42,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,28],24:[2,28]},{18:[2,48],24:[2,48],31:[2,48],32:[2,48],33:[2,48],36:[2,48],38:[2,48],40:[1,51]},{21:52,36:[1,28],39:26},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],38:[2,50],40:[2,50]},{10:53,20:[1,54]},{10:55,20:[1,54]},{18:[1,56]},{18:[1,57]},{24:[1,58]},{18:[1,59],21:60,36:[1,28],39:26},{18:[2,44],36:[2,44]},{18:[2,45],36:[2,45]},{18:[2,46],36:[2,46]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],25:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{18:[2,25],21:44,24:[2,25],28:61,29:48,30:62,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,26],24:[2,26]},{18:[2,30],24:[2,30],31:[2,30],32:[2,30],33:[2,30],36:[2,30],38:[2,30]},{18:[2,36],24:[2,36],35:63,36:[1,64]},{18:[2,31],24:[2,31],31:[2,31],32:[2,31],33:[2,31],36:[2,31],38:[2,31]},{18:[2,32],24:[2,32],31:[2,32],32:[2,32],33:[2,32],36:[2,32],38:[2,32]},{18:[2,33],24:[2,33],31:[2,33],32:[2,33],33:[2,33],36:[2,33],38:[2,33]},{18:[2,34],24:[2,34],31:[2,34],32:[2,34],33:[2,34],36:[2,34],38:[2,34]},{18:[2,35],24:[2,35],31:[2,35],32:[2,35],33:[2,35],36:[2,35],38:[2,35]},{18:[2,38],24:[2,38],36:[2,38]},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],37:[1,65],38:[2,50],40:[2,50]},{36:[1,66]},{18:[2,47],24:[2,47],31:[2,47],32:[2,47],33:[2,47],36:[2,47],38:[2,47]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{21:67,36:[1,28],39:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,68]},{18:[2,24],24:[2,24]},{18:[2,29],24:[2,29],31:[2,29],32:[2,29],33:[2,29],36:[2,29],38:[2,29]},{18:[2,37],24:[2,37],36:[2,37]},{37:[1,65]},{21:69,29:73,31:[1,70],32:[1,71],33:[1,72],36:[1,28],38:[1,27],39:26},{18:[2,49],24:[2,49],31:[2,49],32:[2,49],33:[2,49],36:[2,49],38:[2,49],40:[2,49]},{18:[1,74]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{18:[2,39],24:[2,39],36:[2,39]},{18:[2,40],24:[2,40],36:[2,40]},{18:[2,41],24:[2,41],36:[2,41]},{18:[2,42],24:[2,42],36:[2,42]},{18:[2,43],24:[2,43],36:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]}],defaultActions:{17:[2,1]},parseError:function(a){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:((null===n||"undefined"==typeof n)&&(n=b()),q=g[p]&&g[p][n]),"undefined"==typeof q||!q.length||!q[0]){var x="";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push("'"+this.terminals_[s]+"'");x=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})
}}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),"undefined"!=typeof r)return r;t&&(d=d.slice(0,2*-1*t),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},c=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\r\n?|\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){switch(c){case 0:return b.yytext="\\",14;case 1:if("\\"!==b.yytext.slice(-1)&&this.begin("mu"),"\\"===b.yytext.slice(-1)&&(b.yytext=b.yytext.substr(0,b.yyleng-1),this.begin("emu")),b.yytext)return 14;break;case 2:return 14;case 3:return"\\"!==b.yytext.slice(-1)&&this.popState(),"\\"===b.yytext.slice(-1)&&(b.yytext=b.yytext.substr(0,b.yyleng-1)),14;case 4:return b.yytext=b.yytext.substr(0,b.yyleng-4),this.popState(),15;case 5:return 25;case 6:return 16;case 7:return 20;case 8:return 19;case 9:return 19;case 10:return 23;case 11:return 22;case 12:this.popState(),this.begin("com");break;case 13:return b.yytext=b.yytext.substr(3,b.yyleng-5),this.popState(),15;case 14:return 22;case 15:return 37;case 16:return 36;case 17:return 36;case 18:return 40;case 19:break;case 20:return this.popState(),24;case 21:return this.popState(),18;case 22:return b.yytext=b.yytext.substr(1,b.yyleng-2).replace(/\\"/g,'"'),31;case 23:return b.yytext=b.yytext.substr(1,b.yyleng-2).replace(/\\'/g,"'"),31;case 24:return 38;case 25:return 33;case 26:return 33;case 27:return 32;case 28:return 36;case 29:return b.yytext=b.yytext.substr(1,b.yyleng-2),36;case 30:return"INVALID";case 31:return 5}},a.rules=[/^(?:\\\\(?=(\{\{)))/,/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[}\/ ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],inclusive:!1},emu:{rules:[3],inclusive:!1},com:{rules:[4],inclusive:!1},INITIAL:{rules:[0,1,2,31],inclusive:!0}},a}();return b.lexer=c,a.prototype=b,b.Parser=a,new a}();a.Parser=f,a.parse=function(b){return b.constructor===a.AST.ProgramNode?b:(a.Parser.yy=a.AST,a.Parser.parse(b))},a.AST={},a.AST.ProgramNode=function(b,c){this.type="program",this.statements=b,c&&(this.inverse=new a.AST.ProgramNode(c))},a.AST.MustacheNode=function(a,b,c){this.type="mustache",this.escaped=!c,this.hash=b;var d=this.id=a[0],e=this.params=a.slice(1),f=this.eligibleHelper=d.isSimple;this.isHelper=f&&(e.length||b)},a.AST.PartialNode=function(a,b){this.type="partial",this.partialName=a,this.context=b},a.AST.BlockNode=function(b,c,d,e){var f=function(b,c){if(b.original!==c.original)throw new a.Exception(b.original+" doesn't match "+c.original)};f(b.id,e),this.type="block",this.mustache=b,this.program=c,this.inverse=d,this.inverse&&!this.program&&(this.isInverse=!0)},a.AST.ContentNode=function(a){this.type="content",this.string=a},a.AST.HashNode=function(a){this.type="hash",this.pairs=a},a.AST.IdNode=function(b){this.type="ID";for(var c="",d=[],e=0,f=0,g=b.length;g>f;f++){var h=b[f].part;if(c+=(b[f].separator||"")+h,".."===h||"."===h||"this"===h){if(d.length>0)throw new a.Exception("Invalid path: "+c);".."===h?e++:this.isScoped=!0}else d.push(h)}this.original=c,this.parts=d,this.string=d.join("."),this.depth=e,this.isSimple=1===b.length&&!this.isScoped&&0===e,this.stringModeValue=this.string},a.AST.PartialNameNode=function(a){this.type="PARTIAL_NAME",this.name=a.original},a.AST.DataNode=function(a){this.type="DATA",this.id=a},a.AST.StringNode=function(a){this.type="STRING",this.original=this.string=this.stringModeValue=a},a.AST.IntegerNode=function(a){this.type="INTEGER",this.original=this.integer=a,this.stringModeValue=Number(a)},a.AST.BooleanNode=function(a){this.type="BOOLEAN",this.bool=a,this.stringModeValue="true"===a},a.AST.CommentNode=function(a){this.type="comment",this.comment=a};var g=["description","fileName","lineNumber","message","name","number","stack"];a.Exception=function(){for(var a=Error.prototype.constructor.apply(this,arguments),b=0;b<g.length;b++)this[g[b]]=a[g[b]]},a.Exception.prototype=new Error,a.SafeString=function(a){this.string=a},a.SafeString.prototype.toString=function(){return this.string.toString()};var h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,j=/[&<>"'`]/,k=function(a){return h[a]||"&amp;"};a.Utils={extend:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])},escapeExpression:function(b){return b instanceof a.SafeString?b.toString():null==b||b===!1?"":(b=b.toString(),j.test(b)?b.replace(i,k):b)},isEmpty:function(a){return a||0===a?"[object Array]"===c.call(a)&&0===a.length?!0:!1:!0}};var l=a.Compiler=function(){},m=a.JavaScriptCompiler=function(){};l.prototype={compiler:l,disassemble:function(){for(var a,b,c,d=this.opcodes,e=[],f=0,g=d.length;g>f;f++)if(a=d[f],"DECLARE"===a.opcode)e.push("DECLARE "+a.name+"="+a.value);else{b=[];for(var h=0;h<a.args.length;h++)c=a.args[h],"string"==typeof c&&(c='"'+c.replace("\n","\\n")+'"'),b.push(c);e.push(a.opcode+" "+b.join(" "))}return e.join("\n")},equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;b>c;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||d.args.length!==e.args.length)return!1;for(var f=0;f<d.args.length;f++)if(d.args[f]!==e.args[f])return!1}if(b=this.children.length,a.children.length!==b)return!1;for(c=0;b>c;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.children=[],this.depths={list:[]},this.options=b;var c=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},c)for(var d in c)this.options.knownHelpers[d]=c[d];return this.program(a)},accept:function(a){return this[a.type](a)},program:function(a){var b,c=a.statements;this.opcodes=[];for(var d=0,e=c.length;e>d;d++)b=c[d],this[b.type](b);return this.isSimple=1===e,this.depths.list=this.depths.list.sort(function(a,b){return a-b}),this},compileProgram:function(a){var b,c=(new this.compiler).compile(a,this.options),d=this.guid++;this.usePartial=this.usePartial||c.usePartial,this.children[d]=c;for(var e=0,f=c.depths.list.length;f>e;e++)b=c.depths.list[e],2>b||this.addDepth(b-1);return d},block:function(a){var b=a.mustache,c=a.program,d=a.inverse;c&&(c=this.compileProgram(c)),d&&(d=this.compileProgram(d));var e=this.classifyMustache(b);"helper"===e?this.helperMustache(b,c,d):"simple"===e?(this.simpleMustache(b),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(b,c,d),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(a){var b,c,d=a.pairs;this.opcode("pushHash");for(var e=0,f=d.length;f>e;e++)b=d[e],c=b[1],this.options.stringParams?(c.depth&&this.addDepth(c.depth),this.opcode("getContext",c.depth||0),this.opcode("pushStringParam",c.stringModeValue,c.type)):this.accept(c),this.opcode("assignToHash",b[0]);this.opcode("popHash")},partial:function(a){var b=a.partialName;this.usePartial=!0,a.context?this.ID(a.context):this.opcode("push","depth0"),this.opcode("invokePartial",b.name),this.opcode("append")},content:function(a){this.opcode("appendContent",a.string)},mustache:function(a){var b=this.options,c=this.classifyMustache(a);"simple"===c?this.simpleMustache(a):"helper"===c?this.helperMustache(a):this.ambiguousMustache(a),a.escaped&&!b.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(a,b,c){var d=a.id,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("invokeAmbiguous",e,f)},simpleMustache:function(a){var b=a.id;"DATA"===b.type?this.DATA(b):b.parts.length?this.ID(b):(this.addDepth(b.depth),this.opcode("getContext",b.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.id.parts[0];if(this.options.knownHelpers[e])this.opcode("invokeKnownHelper",d.length,e);else{if(this.options.knownHelpersOnly)throw new Error("You specified knownHelpersOnly, but used the unknown helper "+e);this.opcode("invokeHelper",d.length,e)}},ID:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0];b?this.opcode("lookupOnContext",a.parts[0]):this.opcode("pushContext");for(var c=1,d=a.parts.length;d>c;c++)this.opcode("lookup",a.parts[c])},DATA:function(b){if(this.options.data=!0,b.id.isScoped||b.id.depth)throw new a.Exception("Scoped data references are not supported: "+b.original);this.opcode("lookupData");for(var c=b.id.parts,d=0,e=c.length;e>d;d++)this.opcode("lookup",c[d])},STRING:function(a){this.opcode("pushString",a.string)},INTEGER:function(a){this.opcode("pushLiteral",a.integer)},BOOLEAN:function(a){this.opcode("pushLiteral",a.bool)},comment:function(){},opcode:function(a){this.opcodes.push({opcode:a,args:[].slice.call(arguments,1)})},declare:function(a,b){this.opcodes.push({opcode:"DECLARE",name:a,value:b})},addDepth:function(a){if(isNaN(a))throw new Error("EWOT");0!==a&&(this.depths[a]||(this.depths[a]=!0,this.depths.list.push(a)))},classifyMustache:function(a){var b=a.isHelper,c=a.eligibleHelper,d=this.options;if(c&&!b){var e=a.id.parts[0];d.knownHelpers[e]?b=!0:d.knownHelpersOnly&&(c=!1)}return b?"helper":c?"ambiguous":"simple"},pushParams:function(a){for(var b,c=a.length;c--;)b=a[c],this.options.stringParams?(b.depth&&this.addDepth(b.depth),this.opcode("getContext",b.depth||0),this.opcode("pushStringParam",b.stringModeValue,b.type)):this[b.type](b)},setupMustacheParams:function(a){var b=a.params;return this.pushParams(b),a.hash?this.hash(a.hash):this.opcode("emptyHash"),b},setupFullMustacheParams:function(a,b,c){var d=a.params;return this.pushParams(d),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.hash(a.hash):this.opcode("emptyHash"),d}};var n=function(a){this.value=a};m.prototype={nameLookup:function(a,b){return/^[0-9]+$/.test(b)?a+"["+b+"]":m.isValidJavaScriptVariableName(b)?a+"."+b:a+"['"+b+"']"},appendToBuffer:function(a){return this.environment.isSimple?"return "+a+";":{appendToBuffer:!0,content:a,toString:function(){return"buffer += "+a+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(b,c,d,e){this.environment=b,this.options=c||{},a.log(a.logger.DEBUG,this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!d,this.context=d||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.inlineStack=[],this.compileChildren(b,c);var f,g=b.opcodes;for(this.i=0,r=g.length;this.i<r;this.i++)f=g[this.i],"DECLARE"===f.opcode?this[f.name]=f.value:this[f.opcode].apply(this,f.args);return this.createFunctionContext(e)},nextOpcode:function(){var a=this.environment.opcodes;return a[this.i+1]},eat:function(){this.i=this.i+1},preamble:function(){var a=[];if(this.isChild)a.push("");else{var b=this.namespace,c="helpers = this.merge(helpers, "+b+".helpers);";this.environment.usePartial&&(c=c+" partials = this.merge(partials, "+b+".partials);"),this.options.data&&(c+=" data = data || {};"),a.push(c)}this.environment.isSimple?a.push(""):a.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=a},createFunctionContext:function(b){var c=this.stackVars.concat(this.registers.list);if(c.length>0&&(this.source[1]=this.source[1]+", "+c.join(", ")),!this.isChild)for(var d in this.context.aliases)this.context.aliases.hasOwnProperty(d)&&(this.source[1]=this.source[1]+", "+d+"="+this.context.aliases[d]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");for(var e=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],f=0,g=this.environment.depths.list.length;g>f;f++)e.push("depth"+this.environment.depths.list[f]);var h=this.mergeSource();if(!this.isChild){var i=a.COMPILER_REVISION,j=a.REVISION_CHANGES[i];h="this.compilerInfo = ["+i+",'"+j+"'];\n"+h}if(b)return e.push(h),Function.apply(this,e);var k="function "+(this.name||"")+"("+e.join(",")+") {\n  "+h+"}";return a.log(a.logger.DEBUG,k+"\n\n"),k},mergeSource:function(){for(var a,c="",d=0,e=this.source.length;e>d;d++){var f=this.source[d];f.appendToBuffer?a=a?a+"\n    + "+f.content:f.content:(a&&(c+="buffer += "+a+";\n  ",a=b),c+=f+"\n  ")}return c},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a),this.replaceStack(function(b){return a.splice(1,0,b),"blockHelperMissing.call("+a.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a);var b=this.topStack();a.splice(1,0,b),a[a.length-1]="options",this.source.push("if (!"+this.lastHelper+") { "+b+" = blockHelperMissing.call("+a.join(", ")+"); }")},appendContent:function(a){this.source.push(this.appendToBuffer(this.quotedString(a)))},append:function(){this.flushInline();var a=this.popStack();this.source.push("if("+a+" || "+a+" === 0) { "+this.appendToBuffer(a)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(a){this.lastContext!==a&&(this.lastContext=a)},lookupOnContext:function(a){this.push(this.nameLookup("depth"+this.lastContext,a,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(a){return"typeof "+a+" === functionType ? "+a+".apply(depth0) : "+a})},lookup:function(a){this.replaceStack(function(b){return b+" == null || "+b+" === false ? "+b+" : "+this.nameLookup(b,a,"context")})},lookupData:function(){this.push("data")},pushStringParam:function(a,b){this.pushStackLiteral("depth"+this.lastContext),this.pushString(b),"string"==typeof a?this.pushString(a):this.pushStackLiteral(a)},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var a=this.hash;this.hash=b,this.options.stringParams&&(this.register("hashContexts","{"+a.contexts.join(",")+"}"),this.register("hashTypes","{"+a.types.join(",")+"}")),this.push("{\n    "+a.values.join(",\n    ")+"\n  }")},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},push:function(a){return this.inlineStack.push(a),a},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},invokeHelper:function(a,b){this.context.aliases.helperMissing="helpers.helperMissing";var c=this.lastHelper=this.setupHelper(a,b,!0),d=this.nameLookup("depth"+this.lastContext,b,"context");this.push(c.name+" || "+d),this.replaceStack(function(a){return a+" ? "+a+".call("+c.callParams+") : helperMissing.call("+c.helperMissingParams+")"})},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(c.name+".call("+c.callParams+")")},invokeAmbiguous:function(a,b){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var c=this.setupHelper(0,a,b),d=this.lastHelper=this.nameLookup("helpers",a,"helper"),e=this.nameLookup("depth"+this.lastContext,a,"context"),f=this.nextStack();this.source.push("if ("+f+" = "+d+") { "+f+" = "+f+".call("+c.callParams+"); }"),this.source.push("else { "+f+" = "+e+"; "+f+" = typeof "+f+" === functionType ? "+f+".apply(depth0) : "+f+"; }")},invokePartial:function(a){var b=[this.nameLookup("partials",a,"partial"),"'"+a+"'",this.popStack(),"helpers","partials"];this.options.data&&b.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+b.join(", ")+")")},assignToHash:function(a){var b,c,d=this.popStack();this.options.stringParams&&(c=this.popStack(),b=this.popStack());var e=this.hash;b&&e.contexts.push("'"+a+"': "+b),c&&e.types.push("'"+a+"': "+c),e.values.push("'"+a+"': ("+d+")")},compiler:m,compileChildren:function(a,b){for(var c,d,e=a.children,f=0,g=e.length;g>f;f++){c=e[f],d=new this.compiler;var h=this.matchExistingProgram(c);null==h?(this.context.programs.push(""),h=this.context.programs.length,c.index=h,c.name="program"+h,this.context.programs[h]=d.compile(c,b,this.context),this.context.environments[h]=c):(c.index=h,c.name="program"+h)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;c>b;b++){var d=this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){if(this.context.aliases.self="this",null==a)return"self.noop";for(var b,c=this.environment.children[a],d=c.depths.list,e=[c.index,c.name,"data"],f=0,g=d.length;g>f;f++)b=d[f],1===b?e.push("depth0"):e.push("depth"+(b-1));return(0===d.length?"self.program(":"self.programWithDepth(")+e.join(", ")+")"},register:function(a,b){this.useRegister(a),this.source.push(a+" = "+b+";")},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){return this.push(new n(a))},pushStack:function(a){this.flushInline();var b=this.incrStack();return a&&this.source.push(b+" = "+a+";"),this.compileStack.push(b),b},replaceStack:function(a){var b,c="",d=this.isInline();if(d){var e=this.popStack(!0);if(e instanceof n)b=e.value;else{var f=this.stackSlot?this.topStackName():this.incrStack();c="("+this.push(f)+" = "+e+"),",b=this.topStack()}}else b=this.topStack();var g=a.call(this,b);return d?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+c+g+")")):(/^stack/.test(b)||(b=this.nextStack()),this.source.push(b+" = ("+c+g+");")),b},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;if(a.length){this.inlineStack=[];for(var b=0,c=a.length;c>b;b++){var d=a[b];d instanceof n?this.compileStack.push(d):this.pushStack(d)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),c=(b?this.inlineStack:this.compileStack).pop();return!a&&c instanceof n?c.value:(b||this.stackSlot--,c)},topStack:function(a){var b=this.isInline()?this.inlineStack:this.compileStack,c=b[b.length-1];return!a&&c instanceof n?c.value:c},quotedString:function(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(a,b,c){var d=[];this.setupParams(a,d,c);var e=this.nameLookup("helpers",b,"helper");return{params:d,name:e,callParams:["depth0"].concat(d).join(", "),helperMissingParams:c&&["depth0",this.quotedString(b)].concat(d).join(", ")}},setupParams:function(a,b,c){var d,e,f,g=[],h=[],i=[];g.push("hash:"+this.popStack()),e=this.popStack(),f=this.popStack(),(f||e)&&(f||(this.context.aliases.self="this",f="self.noop"),e||(this.context.aliases.self="this",e="self.noop"),g.push("inverse:"+e),g.push("fn:"+f));for(var j=0;a>j;j++)d=this.popStack(),b.push(d),this.options.stringParams&&(i.push(this.popStack()),h.push(this.popStack()));return this.options.stringParams&&(g.push("contexts:["+h.join(",")+"]"),g.push("types:["+i.join(",")+"]"),g.push("hashContexts:hashContexts"),g.push("hashTypes:hashTypes")),this.options.data&&g.push("data:data"),g="{"+g.join(",")+"}",c?(this.register("options",g),b.push("options")):b.push(g),b.join(", ")}};for(var o="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),p=m.RESERVED_WORDS={},q=0,r=o.length;r>q;q++)p[o[q]]=!0;m.isValidJavaScriptVariableName=function(a){return!m.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(a)?!0:!1},a.precompile=function(b,c){if(null==b||"string"!=typeof b&&b.constructor!==a.AST.ProgramNode)throw new a.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+b);c=c||{},"data"in c||(c.data=!0);var d=a.parse(b),e=(new l).compile(d,c);return(new m).compile(e,c)},a.compile=function(c,d){function e(){var e=a.parse(c),f=(new l).compile(e,d),g=(new m).compile(f,d,b,!0);return a.template(g)}if(null==c||"string"!=typeof c&&c.constructor!==a.AST.ProgramNode)throw new a.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+c);d=d||{},"data"in d||(d.data=!0);var f;return function(a,b){return f||(f=e()),f.call(this,a,b)}},a.VM={template:function(b){var c={escapeExpression:a.Utils.escapeExpression,invokePartial:a.VM.invokePartial,programs:[],program:function(b,c,d){var e=this.programs[b];return d?e=a.VM.program(b,c,d):e||(e=this.programs[b]=a.VM.program(b,c)),e},merge:function(b,c){var d=b||c;return b&&c&&(d={},a.Utils.extend(d,c),a.Utils.extend(d,b)),d},programWithDepth:a.VM.programWithDepth,noop:a.VM.noop,compilerInfo:null};return function(d,e){e=e||{};var f=b.call(c,a,d,e.helpers,e.partials,e.data),g=c.compilerInfo||[],h=g[0]||1,i=a.COMPILER_REVISION;if(h!==i){if(i>h){var j=a.REVISION_CHANGES[i],k=a.REVISION_CHANGES[h];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+j+") or downgrade your runtime to an older version ("+k+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+g[1]+")."}return f}},programWithDepth:function(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e},program:function(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d},noop:function(){return""},invokePartial:function(c,d,e,f,g,h){var i={helpers:f,partials:g,data:h};if(c===b)throw new a.Exception("The partial "+d+" could not be found");if(c instanceof Function)return c(e,i);if(!a.compile)throw new a.Exception("The partial "+d+" could not be compiled when running in runtime-only mode");return g[d]=a.compile(c,{data:h!==b}),g[d](e,i)}},a.template=a.VM.template}(Handlebars),define("handlebars",function(a){return function(){var b;return b||a.Handlebars}}(this)),define("templates",["handlebars"],function(a){return this.JST=this.JST||{},this.JST["discover/link"]=a.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+="\n      ",d=c["with"].call(a,a.tweet,{hash:{},inverse:s.noop,fn:s.program(2,g,b),data:b}),(d||0===d)&&(e+=d),e+="\n    "}function g(a,b){var d,e,f="";return f+='\n        <div class="user">\n          <a href="http://twitter.com/',(d=c.username)?d=d.call(a,{hash:{},data:b}):(d=a.username,d=typeof d===p?d.apply(a):d),f+=q(d)+'" target="_blank"><img src="',(d=c.avatar)?d=d.call(a,{hash:{},data:b}):(d=a.avatar,d=typeof d===p?d.apply(a):d),f+=q(d)+'" alt="@',(d=c.username)?d=d.call(a,{hash:{},data:b}):(d=a.username,d=typeof d===p?d.apply(a):d),f+=q(d)+'" class="avatar-img"> <b>',(d=c.username)?d=d.call(a,{hash:{},data:b}):(d=a.username,d=typeof d===p?d.apply(a):d),f+=q(d)+'</b></a>\n        </div>\n\n        <div class="note">',e={hash:{},data:b},f+=q((d=c.highlightUrlInTweet||a.highlightUrlInTweet,d?d.call(a,a.text,e):r.call(a,"highlightUrlInTweet",a.text,e)))+"</div>\n      "}function h(a,b){var d,e="";return e+="\n          <span><b>",(d=c.retweets)?d=d.call(a,{hash:{},data:b}):(d=a.retweets,d=typeof d===p?d.apply(a):d),e+=q(d)+"</b> retweets</span>\n          "}function i(a,b){var d,e="";return e+='\n          <a href="/link/',(d=c.md5)?d=d.call(a,{hash:{},data:b}):(d=a.md5,d=typeof d===p?d.apply(a):d),e+=q(d)+'"><span><b>',(d=c.num_saves)?d=d.call(a,{hash:{},data:b}):(d=a.num_saves,d=typeof d===p?d.apply(a):d),e+=q(d)+"</b> saves</span></a>\n        "}function j(a,b){var d,e,f="";return f+='\n        <time datetime="',e={hash:{},data:b},f+=q((d=c.formatMachineDate0||a.formatMachineDate0,d?d.call(a,a.save_at,e):r.call(a,"formatMachineDate0",a.save_at,e)))+'" class="date" title="',e={hash:{},data:b},f+=q((d=c.formatDate0Full||a.formatDate0Full,d?d.call(a,a.save_at,e):r.call(a,"formatDate0Full",a.save_at,e)))+'">',e={hash:{},data:b},f+=q((d=c.formatDate0Relative||a.formatDate0Relative,d?d.call(a,a.save_at,e):r.call(a,"formatDate0Relative",a.save_at,e)))+"</time>\n        "}function k(a,b){var d,e,f="";return f+='\n        <time datetime="',e={hash:{},data:b},f+=q((d=c.formatMachineDate||a.formatMachineDate,d?d.call(a,a.time_created,e):r.call(a,"formatMachineDate",a.time_created,e)))+'" class="date" title="',e={hash:{},data:b},f+=q((d=c.formatDate0Full||a.formatDate0Full,d?d.call(a,a.save_at,e):r.call(a,"formatDate0Full",a.save_at,e)))+'">',e={hash:{},data:b},f+=q((d=c.formatDateRelative||a.formatDateRelative,d?d.call(a,a.time_created,e):r.call(a,"formatDateRelative",a.time_created,e)))+"</time>\n      "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var l,m,n,o="",p="function",q=this.escapeExpression,r=c.helperMissing,s=this;return o+='<div class="item item-rich">\n  <div class="item-rich-wrapper">\n    ',l=c["if"].call(b,b.tweet,{hash:{},inverse:s.noop,fn:s.program(1,f,e),data:e}),(l||0===l)&&(o+=l),o+='\n\n    <div class="title-wrapper">\n      <a href="',(l=c.url)?l=l.call(b,{hash:{},data:e}):(l=b.url,l=typeof l===p?l.apply(b):l),o+=q(l)+'" class="title" target="_blank">',n={hash:{},data:e},o+=q((l=c.or||b.or,l?l.call(b,b.title,b.url,n):r.call(b,"or",b.title,b.url,n)))+'</a>\n    </div>\n\n    <div class="meta">\n      <span class="link-rank">\n        ',m=c["if"].call(b,b.retweets,{hash:{},inverse:s.program(6,i,e),fn:s.program(4,h,e),data:e}),(m||0===m)&&(o+=m),o+='\n      </span>\n    </div>\n\n    <div class="meta meta-secondary">\n      <div class="actions">\n        <a href="#" class="action-link bookmark-btn">Add Link</a>\n      </div>\n\n      ',m=c["if"].call(b,b.save_at,{hash:{},inverse:s.program(10,k,e),fn:s.program(8,j,e),data:e}),(m||0===m)&&(o+=m),o+="\n    </div>\n  </div>\n</div>\n<!-- .item -->\n"}),this.JST["discover/list"]=a.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="link-list"></div>\n'}),this.JST["discover/page"]=a.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<div class="hero-unit">\n  <h2>Discover</h2>\n  Start discovering the world around you.\n</div>\n<div class="wizard"></div>\n<div class="links"></div>\n',(f=c.loadMore)?f=f.call(b,{hash:{},data:e}):(f=b.loadMore,f=typeof f===h?f.apply(b):f),g+=i(f)+"\n"}),this.JST["discover/tags"]=a.template(function(a,b,c,d,e){function f(a,b){var d,e="";
return e+='\n  <li><a href="/tag/',(d=c.name)?d=d.call(a,{hash:{},data:b}):(d=a.name,d=typeof d===j?d.apply(a):d),e+=k(d)+'">',(d=c.name)?d=d.call(a,{hash:{},data:b}):(d=a.name,d=typeof d===j?d.apply(a):d),e+=k(d)+"</a>\n  ",d=c["if"].call(a,a.bookmark_count,{hash:{},inverse:l.noop,fn:l.program(2,g,b),data:b}),(d||0===d)&&(e+=d),e+="\n  </li>\n"}function g(a,b){var d,e="";return e+='\n    <small class="text-muted" title="',(d=c.bookmark_count)?d=d.call(a,{hash:{},data:b}):(d=a.bookmark_count,d=typeof d===j?d.apply(a):d),e+=k(d)+' links this week">',(d=c.bookmark_count)?d=d.call(a,{hash:{},data:b}):(d=a.bookmark_count,d=typeof d===j?d.apply(a):d),e+=k(d)+"</small>\n  "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i="",j="function",k=this.escapeExpression,l=this;return i+='<ul class="list-inline">\n  <li><b>Your frequent tags on Delicious</b></li>\n',h=c.each.call(b,b.items,{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+="\n</ul>\n"}),this.JST["discover/wizard"]=a.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="item">\n  <p>Connect Delicious to your Twitter account and we will build a personalized newsfeed based on your interests. Delicious analyzes your Twitter network to find the most popular links for you.</p>\n\n  <p>\n    <button class="text-btn text-btn-primary thirdparty-login thirdparty-login-twitter">\n      <i class="d-icon-twitter"></i> Connect to Twitter\n    </button>\n  </p>\n</div>\n'}),this.JST["home/index"]=a.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="landing-wrapper">\n  <header class="landing landing-nav cf">\n    <h1 class="pull-left">\n      <a href="/">\n        <div class="logo">\n          <i class="s1"></i>\n          <i class="s2"></i>\n          <i class="s3"></i>\n          <i class="s4"></i>\n        </div>\n        Delicious\n      </a>\n    </h1>\n\n    <div class="pull-right">\n      <a href="#signup" class="text-btn">Join <span class="mobile-hide">Delicious</span></a>\n      <a href="#login" class="text-btn">Sign in</a>\n    </div>\n  </header>\n</div>\n\n<div class="landing-wrapper blue">\n  <div class="landing-welcome">\n    <div class="parallax-wrapper">\n      <ul id="parallax" class="parallax"\n           data-friction-x="0.1"\n           data-friction-y="0.1"\n           data-scalar-x="15"\n           data-scalar-y="12">\n        <!-- <div style="width: 100px; height: 100px; background: red;" data-depth="0.30"></div> -->\n        <li class="layer" data-depth="1.30"><div class="layer-item"></div></li>\n        <li class="layer" data-depth="0.30"><div class="layer-item"></div></li>\n        <li class="layer" data-depth="0.62"><div class="layer-item"></div></li>\n        <li class="layer" data-depth="0.25"><div class="layer-item"></div></li>\n        <li class="layer" data-depth="0.71"><div class="layer-item"></div></li>\n        <li class="layer" data-depth="1.14"><div class="layer-item"></div></li>\n        <li class="layer" data-depth="0.36"><div class="layer-item"></div></li>\n        <li class="layer" data-depth="0.43"><div class="layer-item"></div></li>\n        <li class="layer" data-depth="0.21"><div class="layer-item"></div></li>\n        <li class="layer" data-depth="0.68"><div class="layer-item"></div></li>\n        <li class="layer" data-depth="1.05"><div class="layer-item"></div></li>\n        <li class="layer" data-depth="0.39"><div class="layer-item"></div></li>\n        <li class="layer" data-depth="0.44"><div class="layer-item"></div></li>\n        <li class="layer" data-depth="0.12"><div class="layer-item"></div></li>\n        <li class="layer" data-depth="0.55"><div class="layer-item"></div></li>\n        <li class="layer" data-depth="0.05">\n          <div class="landing-hero-wrapper">\n            <div class="landing-hero-wrapper-inner">\n              <h2>Never lose a link again.</h2>\n              <p>\n                Delicious is a free and easy tool to save, organize, and discover interesting links on the web.\n                &mdash; <a class="join" href="#signup">Sign up for Delicious</a>\n              </p>\n            </div>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n\n<div class="landing-wrapper">\n  <div class="landing landing-footer">\n    <ul class="pull-left">\n      <li><a href="http://avos.com/">&copy; AVOS <span class="mobile-hide">Systems, Inc.</span></a></li>\n      <li class="mobile-hide"><a href="/terms">Terms</a></li>\n      <li class="mobile-hide"><a href="/privacy">Privacy</a></li>\n    </ul>\n    <ul class="pull-right">\n      <li><a href="/apps">Apps</a></li>\n      <li class="mobile-hide"><a href="/help">Help</a></li>\n      <li class="mobile-hide"><a href="/tools">Tools</a></li>\n      <li><a href="http://blog.delicious.com/">Blog</a></li>\n      <li><a href="http://twitter.com/delicious" class="d-icon-twitter twitter"></a></li>\n      <li><a href="http://facebook.com/delicious" class="d-icon-facebook facebook"></a></li>\n    </ul>\n  </div>\n</div>\n'}),this.JST.html=a.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="link-nav">\n  <ul class="actions">\n    <li data-page="about"><a href="/about">About</a></li>\n    <li data-page="help"><a href="/help">Help</a></li>\n    <li data-page="apps"><a href="/apps">Apps</a></li>\n    <li data-page="tools"><a href="/tools">Tools</a></li>\n    <li data-page="shortcuts"><a href="/shortcuts">Shortcuts</a></li>\n    <li data-page="rss"><a href="/rss">RSS</a></li>\n    <li data-page="developers"><a href="/developers">Developers</a></li>\n    <li data-page="terms"><a href="/terms">Terms</a></li>\n    <li data-page="privacy"><a href="/privacy">Privacy</a></li>\n    <li data-page="copyright"><a href="/copyright">Copyright</a></li>\n  </ul>\n</div>\n\n<div class="static-html-wrapper"></div>\n'}),this.JST["links/link"]=a.template(function(a,b,c,d,e){function f(){return" private"}function g(a,b){var d,e,f="";return f+='\n    <div class="note">',e={hash:{},data:b},f+=E((d=c.decode||a.decode,d?d.call(a,a.note,e):D.call(a,"decode",a.note,e)))+"</div>\n  "}function h(a,b){var d,e="";return e+="\n      ",d=c["if"].call(a,a.save_rank,{hash:{},inverse:G.program(8,j,b),fn:G.program(6,i,b),data:b}),(d||0===d)&&(e+=d),e+="\n        "}function i(a,b){var d,e,f,g="";return g+="\n        ",(d=c.owner)?d=d.call(a,{hash:{},data:b}):(d=a.owner,d=typeof d===F?d.apply(a):d),g+=E(d)+" is the ",f={hash:{},data:b},g+=E((d=c.ordinal||a.ordinal,d?d.call(a,a.save_rank,f):D.call(a,"ordinal",a.save_rank,f)))+" of ",(e=c.num_saves)?e=e.call(a,{hash:{},data:b}):(e=a.num_saves,e=typeof e===F?e.apply(a):e),g+=E(e)+" to save this link"}function j(a,b){var d,e,f,g="";return(d=c.num_saves)?d=d.call(a,{hash:{},data:b}):(d=a.num_saves,d=typeof d===F?d.apply(a):d),g+=E(d)+" ",f={hash:{compare:"1"},inverse:G.program(11,l,b),fn:G.program(9,k,b),data:b},d=c.if_gt||a.if_gt,e=d?d.call(a,a.num_saves,f):D.call(a,"if_gt",a.num_saves,f),(e||0===e)&&(g+=e),g+=" saved this link\n        "}function k(){return"people"}function l(){return"person"}function m(a,b){var d,e,f,g="";return g+="\n        ",(d=c.num_saves)?d=d.call(a,{hash:{},data:b}):(d=a.num_saves,d=typeof d===F?d.apply(a):d),g+=E(d)+" ",f={hash:{compare:"1"},inverse:G.program(11,l,b),fn:G.program(9,k,b),data:b},d=c.if_gt||a.if_gt,e=d?d.call(a,a.num_saves,f):D.call(a,"if_gt",a.num_saves,f),(e||0===e)&&(g+=e),g+=" saved this link\n      "}function n(a,b){var d,e="";return e+="<span ",d=c["if"].call(a,a.save_rank,{hash:{},inverse:G.noop,fn:G.program(16,o,b),data:b}),(d||0===d)&&(e+=d),e+=">",(d=c.save_rank)?d=d.call(a,{hash:{},data:b}):(d=a.save_rank,d=typeof d===F?d.apply(a):d),e+=E(d)+"</span>"}function o(){return'class="has-personal"'}function p(a,b){var d,e="";return e+="\n      ",d=c["with"].call(a,a.first_saver,{hash:{},inverse:G.noop,fn:G.program(19,q,b),data:b}),(d||0===d)&&(e+=d),e+="\n    "}function q(a,b){var d,e="";return e+='\n      <div class="link-rank-early-bird">\n        <a href="/',(d=c.username)?d=d.call(a,{hash:{},data:b}):(d=a.username,d=typeof d===F?d.apply(a):d),e+=E(d)+'" class="early-bird" title="<b>',(d=c.username)?d=d.call(a,{hash:{},data:b}):(d=a.username,d=typeof d===F?d.apply(a):d),e+=E(d)+'</b> was the first user to save this link."><img src="',(d=c.avatar_url)?d=d.call(a,{hash:{},data:b}):(d=a.avatar_url,d=typeof d===F?d.apply(a):d),e+=E(d)+'" class="avatar-img"></a>\n      </div>\n      '}function r(a,b,d){var e,f="";return f+='\n      <ul class="tags">\n        ',e=c.each.call(a,a.tags,{hash:{},inverse:G.noop,fn:G.programWithDepth(22,s,b,a,d),data:b}),(e||0===e)&&(f+=e),f+="\n      </ul>\n    "}function s(a,b,d,e){var f,g="";return g+="\n          ",f=c["if"].call(a,e.by_user,{hash:{},inverse:G.program(26,v,b),fn:G.programWithDepth(23,t,b,d),data:b}),(f||0===f)&&(g+=f),g+="\n        "}function t(a,b,d){var e,f="";return f+='\n          <li class="dropdown">\n            <a href="#" class="dropdown-toggle" data-toggle="dropdown">'+E(typeof a===F?a.apply(a):a)+'</a>\n            <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel" data-tag="'+E(typeof a===F?a.apply(a):a)+'">\n              ',e=c["if"].call(a,d.filtering,{hash:{},inverse:G.noop,fn:G.program(24,u,b),data:b}),(e||0===e)&&(f+=e),f+='\n              <li><a href="/'+E((e=d.owner,typeof e===F?e.apply(a):e))+"/"+E(typeof a===F?a.apply(a):a)+'" class="tag-by-people"\n              data-tag="'+E(typeof a===F?a.apply(a):a)+'">Filter by #<b>'+E(typeof a===F?a.apply(a):a)+'</b></a></li>\n              <li><a href="/tag/'+E(typeof a===F?a.apply(a):a)+'" class="tag-by-global">#<b>'+E(typeof a===F?a.apply(a):a)+"</b> on Delicious</a></li>\n            </ul>\n          </li>\n          "}function u(a){var b="";return b+='\n                <li><a href="#" class="tag-for-filter" data-tag="'+E(typeof a===F?a.apply(a):a)+'">Add #<b>'+E(typeof a===F?a.apply(a):a)+"</b> to filter</a></li>\n              "}function v(a){var b="";return b+='\n          <li><a href="/tag/'+E(typeof a===F?a.apply(a):a)+'">'+E(typeof a===F?a.apply(a):a)+"</a></li>\n          "}function w(){return'\n        <a href="#" class="action-link bookmark-btn">Add Link</a>\n      '}function x(){return'\n        <a href="#link-tags" class="action-link mobile-tags-toggle">Tags</a>\n      '}function y(){return'\n        <a href="#edit" class="action-link edit">Edit</a>\n        <a href="#delete" class="action-link delete">Delete</a>\n      '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var z,A,B,C="",D=c.helperMissing,E=this.escapeExpression,F="function",G=this;return C+='<div class="item',z=c["if"].call(b,b["private"],{hash:{},inverse:G.noop,fn:G.program(1,f,e),data:e}),(z||0===z)&&(C+=z),C+='"  data-md5="',(z=c.md5)?z=z.call(b,{hash:{},data:e}):(z=b.md5,z=typeof z===F?z.apply(b):z),C+=E(z)+'">\n  <div class="title-wrapper">\n    <a href="',(z=c.url)?z=z.call(b,{hash:{},data:e}):(z=b.url,z=typeof z===F?z.apply(b):z),C+=E(z)+'" class="title" target="_blank">',B={hash:{},data:e},C+=E((z=c.or||b.or,z?z.call(b,b.title,b.url,B):D.call(b,"or",b.title,b.url,B)))+'</a>\n    <span class="domain">',(A=c.domain)?A=A.call(b,{hash:{},data:e}):(A=b.domain,A=typeof A===F?A.apply(b):A),C+=E(A)+"</span>\n  </div>\n\n  ",A=c["if"].call(b,b.note,{hash:{},inverse:G.noop,fn:G.program(3,g,e),data:e}),(A||0===A)&&(C+=A),C+='\n\n  <div class="meta">\n    <a href="/link/',(A=c.md5)?A=A.call(b,{hash:{},data:e}):(A=b.md5,A=typeof A===F?A.apply(b):A),C+=E(A)+'" class="link-rank"\n    title="\n    ',A=c["if"].call(b,b.by_user,{hash:{},inverse:G.program(13,m,e),fn:G.program(5,h,e),data:e}),(A||0===A)&&(C+=A),C+='">\n      ',A=c["if"].call(b,b.save_rank,{hash:{},inverse:G.noop,fn:G.program(15,n,e),data:e}),(A||0===A)&&(C+=A),C+="<span>",(A=c.num_saves)?A=A.call(b,{hash:{},data:e}):(A=b.num_saves,A=typeof A===F?A.apply(b):A),C+=E(A)+"</span>\n    </a>\n\n    ",A=c.unless.call(b,b.by_user,{hash:{},inverse:G.noop,fn:G.program(18,p,e),data:e}),(A||0===A)&&(C+=A),C+="\n\n    ",A=c["if"].call(b,b.tags,{hash:{},inverse:G.noop,fn:G.programWithDepth(21,r,e,b),data:e}),(A||0===A)&&(C+=A),C+='\n  </div>\n\n  <div class="meta meta-secondary">\n    <div class="actions">\n      ',A=c.unless.call(b,b.editable,{hash:{},inverse:G.noop,fn:G.program(28,w,e),data:e}),(A||0===A)&&(C+=A),C+="\n      ",A=c["if"].call(b,b.tags,{hash:{},inverse:G.noop,fn:G.program(30,x,e),data:e}),(A||0===A)&&(C+=A),C+='\n      <div class="share-btn">\n        <div class="dropdown">\n          <a href="#" data-toggle="dropdown" class="action-link dropdown-toggle">Share</a>\n          <ul class="dropdown-menu">\n            <li><a href="https://twitter.com/intent/tweet?text=',(A=c.title)?A=A.call(b,{hash:{},data:e}):(A=b.title,A=typeof A===F?A.apply(b):A),C+=E(A)+"&amp;url=",B={hash:{},data:e},C+=E((z=c.URLEncode||b.URLEncode,z?z.call(b,b.url,B):D.call(b,"URLEncode",b.url,B)))+'&amp;via=delicious" class="share-social">Twitter</a></li>\n            <li><a href="http://www.facebook.com/share.php?u=',B={hash:{},data:e},C+=E((z=c.URLEncode||b.URLEncode,z?z.call(b,b.url,B):D.call(b,"URLEncode",b.url,B)))+'" class="share-social">Facebook</a></li>\n            <li><a href="https://plus.google.com/share?url=',B={hash:{},data:e},C+=E((z=c.URLEncode||b.URLEncode,z?z.call(b,b.url,B):D.call(b,"URLEncode",b.url,B)))+'" class="share-social">Google+</a></li>\n            <li><a href="http://getpocket.com/edit.php?url=',B={hash:{},data:e},C+=E((z=c.URLEncode||b.URLEncode,z?z.call(b,b.url,B):D.call(b,"URLEncode",b.url,B)))+"&amp;title=",B={hash:{},data:e},C+=E((z=c.URLEncode||b.URLEncode,z?z.call(b,b.title,B):D.call(b,"URLEncode",b.title,B)))+'" class="share-social">Pocket</a></li>\n            <li><a href="http://www.instapaper.com/edit?url=',B={hash:{},data:e},C+=E((z=c.URLEncode||b.URLEncode,z?z.call(b,b.url,B):D.call(b,"URLEncode",b.url,B)))+"&amp;title=",B={hash:{},data:e},C+=E((z=c.URLEncode||b.URLEncode,z?z.call(b,b.title,B):D.call(b,"URLEncode",b.title,B)))+'" class="share-social">Instapaper</a></li>\n            <li><a href="mailto:?subject=',B={hash:{},data:e},C+=E((z=c.URLEncode||b.URLEncode,z?z.call(b,b.title,B):D.call(b,"URLEncode",b.title,B)))+"&amp;body=",B={hash:{},data:e},C+=E((z=c.URLEncode||b.URLEncode,z?z.call(b,b.url,B):D.call(b,"URLEncode",b.url,B)))+'" class="share-social">Email</a></li>\n          </ul>\n        </div>\n      </div>\n      ',A=c["if"].call(b,b.editable,{hash:{},inverse:G.noop,fn:G.program(32,y,e),data:e}),(A||0===A)&&(C+=A),C+='\n    </div>\n\n    <time datetime="',B={hash:{},data:e},C+=E((z=c.formatMachineDate||b.formatMachineDate,z?z.call(b,b.time_created,B):D.call(b,"formatMachineDate",b.time_created,B)))+'" class="date" title="',B={hash:{},data:e},C+=E((z=c.formatDateFull||b.formatDateFull,z?z.call(b,b.time_created,B):D.call(b,"formatDateFull",b.time_created,B)))+'">',B={hash:{},data:e},C+=E((z=c.formatDate||b.formatDate,z?z.call(b,b.time_created,B):D.call(b,"formatDate",b.time_created,B)))+'</time>\n  </div>\n\n  <div class="bulk-edit-indicator">\n    <span class="d-icon-checkmark"></span>\n  </div>\n</div>\n<!-- .item -->\n'}),this.JST["links/list"]=a.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="link-list"></div>\n<div class="item load-more-link"><a href="#loadmore">Click to load more</a></div>\n'}),this.JST["links/note"]=a.template(function(a,b,c,d,e){function f(){return":"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h="",i="function",j=this.escapeExpression,k=this;return h+='<a href="/',(g=c.username)?g=g.call(b,{hash:{},data:e}):(g=b.username,g=typeof g===i?g.apply(b):g),h+=j(g)+'" data-toggle="tooltip" title="<b>',(g=c.full_name)?g=g.call(b,{hash:{},data:e}):(g=b.full_name,g=typeof g===i?g.apply(b):g),h+=j(g)+"</b>",g=c["if"].call(b,b.note,{hash:{},inverse:k.noop,fn:k.program(1,f,e),data:e}),(g||0===g)&&(h+=g),h+=" ",(g=c.note)?g=g.call(b,{hash:{},data:e}):(g=b.note,g=typeof g===i?g.apply(b):g),h+=j(g)+'">\n  <img src="',(g=c.avatar_url)?g=g.call(b,{hash:{},data:e}):(g=b.avatar_url,g=typeof g===i?g.apply(b):g),h+=j(g)+'" class="avatar-img">\n</a>\n'}),this.JST["links/notes"]=a.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<div class="note-list"></div>\n',(f=c.loadMore)?f=f.call(b,{hash:{},data:e}):(f=b.loadMore,f=typeof f===h?f.apply(b):f),g+=i(f)+"\n"}),this.JST["links/page"]=a.template(function(a,b,c,d,e){function f(){return'<div class="user-info"></div>'}function g(){return'<div class="tag-info"></div>'}function h(a,b){var d,e="";return e+='\n      <div class="info">\n        <h2 class="name">\n          Results of <span>',(d=c.q)?d=d.call(a,{hash:{},data:b}):(d=a.q,d=typeof d===t?d.apply(a):d),e+=u(d)+"</span>\n        </h2>\n      </div>\n    "}function i(a,b){var d,e="";return e+='\n      <ul class="actions user-actions">\n        <li class="action-link-wrapper action-tags-wrapper">\n          <a href="#tags">Tags</a>\n          <div class="tags-edit-dropdown dropdown">\n            <a href="#" data-toggle="dropdown">\n              <i class="d-icon-settings"></i>\n            </a>\n            <ul class="dropdown-menu">\n              <li><a href="#" class="sort-by-alphabet">Sort by alphabet</a></li>\n              <li><a href="#" class="sort-by-count">Sort by count</a></li>\n              ',d=c["if"].call(a,a.editable,{hash:{},inverse:v.noop,fn:v.program(8,j,b),data:b}),(d||0===d)&&(e+=d),e+='\n            </ul>\n          </div>\n        </li>\n\n        <li class="action-link-wrapper action-tagbundles-wrapper">\n          <a href="#tagbundles">Tag Bundles</a>\n          ',d=c["if"].call(a,a.editable,{hash:{},inverse:v.noop,fn:v.program(10,k,b),data:b}),(d||0===d)&&(e+=d),e+='\n        </li>\n        <li>\n          <ul class="action-group filter-action-group">\n            <li class="dropdown">\n              <a class="dropdown-toggle" data-toggle="dropdown" data-target="#" href="#">\n                Extra Filters\n              </a>\n              <ul class="dropdown-menu">\n                <li class="action-link-wrapper action-tagbundles-wrapper">\n                  <a href="#" class="ftag ftag-notag">Untagged</a>\n                </li>\n                ',d=c["if"].call(a,a.editable,{hash:{},inverse:v.noop,fn:v.program(12,l,b),data:b}),(d||0===d)&&(e+=d),e+='\n              </ul>\n            </li>\n          </ul>\n        </li>\n      </ul>\n\n      \n\n      <ul class="actions">\n        ',d=c["if"].call(a,a.editable,{hash:{},inverse:v.noop,fn:v.program(14,m,b),data:b}),(d||0===d)&&(e+=d),e+="\n      </ul>\n    "}function j(){return'\n                <li><a class="edit-tag" href="#">Edit tags&hellip;</a></li>\n              '}function k(){return'\n            <div class="tags-edit-dropdown dropdown">\n              <a href="#" data-toggle="dropdown">\n                <i class="d-icon-settings"></i>\n              </a>\n              <ul class="dropdown-menu">\n                <li><a href="#edit-tag-bundle">Create new bundle</a></li>\n              </ul>\n            </div>\n          '}function l(){return'\n                <li class="action-link-wrapper action-tagbundles-wrapper">\n                  <a href="#" class="ftag ftag-public">Public links</a>\n                </li>\n                <li class="action-link-wrapper action-tagbundles-wrapper">\n                  <a href="#" class="ftag ftag-private">Private links</a>\n                </li>\n                '}function m(){return'\n          <li>\n            <ul class="action-group bulk-edit-action-group">\n              <li class="dropdown">\n                <a class="dropdown-toggle" data-toggle="dropdown" data-target="#" href="#">\n                  <span class="bulk-edit-selection-count">0</span> Selected <i class="caret"></i>\n                </a>\n                <ul class="dropdown-menu">\n                  <li><a href="#" class="bulk-edit-action-public">Make Public</a></li>\n                  <li><a href="#" class="bulk-edit-action-private">Make Private</a></li>\n                  <li><a href="#" class="bulk-edit-action-remove">Delete Links</a></li>\n                  <li><a href="#" class="bulk-edit-action-add-tag">Add Tags</a></li>\n                  <li><a href="#" class="bulk-edit-action-remove-tag">Remove Tag</a></li>\n                  <li class="divider" role="presentation"></li>\n                  <li><a href="#" class="bulk-edit-action-select-all">Select Visible</a></li>\n                  <li><a href="#" class="bulk-edit-action-select-none">Clear Selection</a></li>\n                </ul>\n              </li>\n            </ul>\n          </li>\n          <li class="pull-right">\n            <a href="#" class="bulk-edit" data-toggle="button">Edit</a>\n          </li>\n        '}function n(a,b){var d,e="";return e+='\n      <ul class="actions">\n        <li><a href="/tag/',(d=c.name)?d=d.call(a,{hash:{},data:b}):(d=a.name,d=typeof d===t?d.apply(a):d),e+=u(d)+'/popular" data-tab="hot">Popular</a></li>\n        <li><a href="/tag/',(d=c.name)?d=d.call(a,{hash:{},data:b}):(d=a.name,d=typeof d===t?d.apply(a):d),e+=u(d)+'/recent" data-tab="recent">Recent</a></li>\n        <li><a href="/tag/',(d=c.name)?d=d.call(a,{hash:{},data:b}):(d=a.name,d=typeof d===t?d.apply(a):d),e+=u(d)+'/alltime" data-tab="alltime">All Time</a></li>\n      </ul>\n    '}function o(a,b){var d,e,f="";return f+='\n      <ul class="actions">\n        <li><a href="/search/',(d=c.q)?d=d.call(a,{hash:{},data:b}):(d=a.q,d=typeof d===t?d.apply(a):d),f+=u(d)+'/everyone" data-tab="everyone">Everyone</a></li>\n        ',e={hash:{},inverse:v.noop,fn:v.program(19,p,b),data:b},(d=c.ifLoggedIn)?d=d.call(a,e):(d=a.ifLoggedIn,d=typeof d===t?d.apply(a):d),c.ifLoggedIn||(d=w.call(a,d,e)),(d||0===d)&&(f+=d),f+="\n      </ul>\n    "}function p(a,b){var d,e="";return e+='\n          <li><a href="/search/',(d=c.q)?d=d.call(a,{hash:{},data:b}):(d=a.q,d=typeof d===t?d.apply(a):d),e+=u(d)+'/network" data-tab="network">Network</a></li>\n          <li><a href="/search/',(d=c.q)?d=d.call(a,{hash:{},data:b}):(d=a.q,d=typeof d===t?d.apply(a):d),e+=u(d)+'/mine" data-tab="you">My Links</a></li>\n        '}function q(){return'\n    <div class="tagcloud-wrapper">\n      <ul class="tagcloud"></ul>\n    </div>\n\n    <div class="tagbundles-wrapper">\n      <ul class="tagbundles"></ul>\n    </div>\n\n    <div class="filter">\n      Current Filter:\n      <span class="filter-cards"></span>\n    </div>\n\n    <div class="relatedtags-wrapper">\n      <ul class="relatedtags"></ul>\n    </div>\n  '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var r,s="",t="function",u=this.escapeExpression,v=this,w=c.blockHelperMissing;return s+='<div class="item bulk-edit-status">\n  You&rsquo;re bulk editing your links.\n</div>\n\n<div class="link-nav-fixed-wrapper">\n  <div class="hero-unit">\n    ',r=c["if"].call(b,b.is_user,{hash:{},inverse:v.noop,fn:v.program(1,f,e),data:e}),(r||0===r)&&(s+=r),s+="\n\n    ",r=c["if"].call(b,b.is_tag,{hash:{},inverse:v.noop,fn:v.program(3,g,e),data:e}),(r||0===r)&&(s+=r),s+="\n\n    ",r=c["if"].call(b,b.is_search,{hash:{},inverse:v.noop,fn:v.program(5,h,e),data:e}),(r||0===r)&&(s+=r),s+='\n  </div>\n\n  <div class="link-nav">\n    ',r=c["if"].call(b,b.is_user,{hash:{},inverse:v.noop,fn:v.program(7,i,e),data:e}),(r||0===r)&&(s+=r),s+=" \n\n    ",r=c["if"].call(b,b.is_tag,{hash:{},inverse:v.noop,fn:v.program(16,n,e),data:e}),(r||0===r)&&(s+=r),s+="\n\n    ",r=c["if"].call(b,b.is_search,{hash:{},inverse:v.noop,fn:v.program(18,o,e),data:e}),(r||0===r)&&(s+=r),s+="\n  </div>\n\n  ",r=c["if"].call(b,b.is_user,{hash:{},inverse:v.noop,fn:v.program(21,q,e),data:e}),(r||0===r)&&(s+=r),s+='\n</div>\n<!-- .link-nav-fixed-wrapper -->\n\n<div class="links"></div>\n',(r=c.loadMore)?r=r.call(b,{hash:{},data:e}):(r=b.loadMore,r=typeof r===t?r.apply(b):r),s+=u(r)+"\n"}),this.JST["links/related_tags"]=a.template(function(a,b,c,d,e){function f(){return"\n    Related tags:\n  "}function g(){return"\n    Tags in bundle:\n  "}function h(a,b,d){var e,f="";return f+='\n  <li><a href="#" data-tag="',(e=c.name)?e=e.call(a,{hash:{},data:b}):(e=a.name,e=typeof e===m?e.apply(a):e),f+=n(e)+'"\n    ',e=c.unless.call(a,d.is_bundle,{hash:{},inverse:o.program(8,j,b),fn:o.program(6,i,b),data:b}),(e||0===e)&&(f+=e),f+=">",(e=c.name)?e=e.call(a,{hash:{},data:b}):(e=a.name,e=typeof e===m?e.apply(a):e),f+=n(e)+"</a></li>\n"}function i(){return'\n      class="filter-tag"\n      '}function j(){return'\n      class="show-tag"\n    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var k,l="",m="function",n=this.escapeExpression,o=this;return l+="<li>\n  ",k=c.unless.call(b,b.is_bundle,{hash:{},inverse:o.program(3,g,e),fn:o.program(1,f,e),data:e}),(k||0===k)&&(l+=k),l+="\n</li>\n",k=c.each.call(b,b.items,{hash:{},inverse:o.noop,fn:o.programWithDepth(5,h,e,b),data:e}),(k||0===k)&&(l+=k),l+="\n"}),this.JST["links/single"]=a.template(function(a,b,c,d,e){function f(){return'\n<div class="single-link"></div>\n<div class="item notes"></div>\n'}function g(){return'\n<div class="no-link-found">Delicious is processing this link, please try again later.</div>\n'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i="",j=this;return h=c["if"].call(b,b.url,{hash:{},inverse:j.program(3,g,e),fn:j.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+="\n"}),this.JST["links/single/link"]=a.template(function(a,b,c,d,e){function f(){var a="";return a}function g(){return"s"}function h(a,b){var d,e="";return e+='\n      <ul class="tags"> ',d=c.each.call(a,a.tags,{hash:{},inverse:t.noop,fn:t.program(6,i,b),data:b}),(d||0===d)&&(e+=d),e+="</ul>\n    "}function i(a){var b="";return b+='<li><a href="/tag/'+s(typeof a===r?a.apply(a):a)+'">'+s(typeof a===r?a.apply(a):a)+"</a></li> "}function j(){return'\n        <a href="#" class="bookmark-btn">Add Link</a>\n      '}function k(){return'\n        <a href="#link-tags" class="mobile-tags-toggle">Tags</a>\n      '}function l(a,b){var d,e,f="";return f+='\n  <div class="item item-status">\n    You saved this link on ',e={hash:{},data:b},f+=s((d=c.formatDateString||a.formatDateString,d?d.call(a,(d=a.recommended,null==d||d===!1?d:d.previously_saved_time),e):u.call(a,"formatDateString",(d=a.recommended,null==d||d===!1?d:d.previously_saved_time),e)))+'.\n    <a href="#" class="bookmark-btn">Edit</a>\n  </div>\n'}function m(a,b,d){var e,f,g="";return g+='\n  <div class="item early-bird-wrapper">\n    First saved by\n    <a href="/',(e=c.username)?e=e.call(a,{hash:{},data:b}):(e=a.username,e=typeof e===r?e.apply(a):e),g+=s(e)+'" class="early-bird"><img src="',(e=c.avatar_url)?e=e.call(a,{hash:{},data:b}):(e=a.avatar_url,e=typeof e===r?e.apply(a):e),g+=s(e)+'" class="avatar-img">',(e=c.full_name)?e=e.call(a,{hash:{},data:b}):(e=a.full_name,e=typeof e===r?e.apply(a):e),g+=s(e)+"</a>\n    on ",f={hash:{},data:b},g+=s((e=c.formatDateString||d.formatDateString,e?e.call(a,d.first_saver_date,f):u.call(a,"formatDateString",d.first_saver_date,f)))+".\n  </div>\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var n,o,p,q="",r="function",s=this.escapeExpression,t=this,u=c.helperMissing;return q+='<div class="item item-details">\n  <h2 class="title">\n    <a href="',(n=c.url)?n=n.call(b,{hash:{},data:e}):(n=b.url,n=typeof n===r?n.apply(b):n),q+=s(n)+'" target="_blank">',p={hash:{},data:e},q+=s((n=c.or||b.or,n?n.call(b,b.title,b.url,p):u.call(b,"or",b.title,b.url,p)))+'</a> <span class="domain">',(o=c.domain)?o=o.call(b,{hash:{},data:e}):(o=b.domain,o=typeof o===r?o.apply(b):o),q+=s(o)+'</a>\n  </h2>\n\n  <div class="meta">\n    <span class="link-rank">\n      <span><b>',(o=c.num_saves)?o=o.call(b,{hash:{},data:e}):(o=b.num_saves,o=typeof o===r?o.apply(b):o),q+=s(o)+"</b>\n      Save",p={hash:{compare:1},inverse:t.program(3,g,e),fn:t.program(1,f,e),data:e},n=c.if_eq||b.if_eq,o=n?n.call(b,b.num_saves,p):u.call(b,"if_eq",b.num_saves,p),(o||0===o)&&(q+=o),q+="</span>\n    </span>\n\n    ",o=c["if"].call(b,b.tags,{hash:{},inverse:t.noop,fn:t.program(5,h,e),data:e}),(o||0===o)&&(q+=o),q+='\n  </div>\n\n  <div class="meta meta-secondary">\n    <div class="actions">\n      ',o=c.unless.call(b,(n=b.recommended,null==n||n===!1?n:n.previously_saved),{hash:{},inverse:t.noop,fn:t.program(8,j,e),data:e}),(o||0===o)&&(q+=o),q+="\n      ",o=c["if"].call(b,b.tags,{hash:{},inverse:t.noop,fn:t.program(10,k,e),data:e}),(o||0===o)&&(q+=o),q+='\n    </div>\n    <div class="actions share-btn">\n      <div class="tags-edit-dropdown dropdown">\n        <a href="#" data-toggle="dropdown" class="dropdown-toggle">Share</a>\n        <ul class="dropdown-menu">\n          <li><a href="https://twitter.com/intent/tweet?text=',(o=c.title)?o=o.call(b,{hash:{},data:e}):(o=b.title,o=typeof o===r?o.apply(b):o),q+=s(o)+"&amp;url=",p={hash:{},data:e},q+=s((n=c.URLEncode||b.URLEncode,n?n.call(b,b.url,p):u.call(b,"URLEncode",b.url,p)))+'&amp;via=delicious" class="share-social">Twitter</a></li>\n          <li><a href="http://www.facebook.com/share.php?u=',p={hash:{},data:e},q+=s((n=c.URLEncode||b.URLEncode,n?n.call(b,b.url,p):u.call(b,"URLEncode",b.url,p)))+'" class="share-social">Facebook</a></li>\n          <li><a href="https://plus.google.com/share?url=',p={hash:{},data:e},q+=s((n=c.URLEncode||b.URLEncode,n?n.call(b,b.url,p):u.call(b,"URLEncode",b.url,p)))+'" class="share-social">Google+</a></li>\n          <li><a href="http://getpocket.com/edit.php?url=',p={hash:{},data:e},q+=s((n=c.URLEncode||b.URLEncode,n?n.call(b,b.url,p):u.call(b,"URLEncode",b.url,p)))+"&amp;title=",p={hash:{},data:e},q+=s((n=c.URLEncode||b.URLEncode,n?n.call(b,b.title,p):u.call(b,"URLEncode",b.title,p)))+'" class="share-social">Pocket</a></li>\n          <li><a href="http://www.instapaper.com/edit?url=',p={hash:{},data:e},q+=s((n=c.URLEncode||b.URLEncode,n?n.call(b,b.url,p):u.call(b,"URLEncode",b.url,p)))+"&amp;title=",p={hash:{},data:e},q+=s((n=c.URLEncode||b.URLEncode,n?n.call(b,b.title,p):u.call(b,"URLEncode",b.title,p)))+'" class="share-social">Instapaper</a></li>\n          <li><a href="mailto:?subject=',p={hash:{},data:e},q+=s((n=c.URLEncode||b.URLEncode,n?n.call(b,b.title,p):u.call(b,"URLEncode",b.title,p)))+"&amp;body=",p={hash:{},data:e},q+=s((n=c.URLEncode||b.URLEncode,n?n.call(b,b.url,p):u.call(b,"URLEncode",b.url,p)))+'" class="share-social">Email</a></li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class="item link-description cf">\n  <img src="'+s((n=b.chosen_image,n=null==n||n===!1?n:n.image_url,typeof n===r?n.apply(b):n))+'" class="pull-right">\n  ',p={hash:{},data:e},q+=s((n=c.shortSnippet||b.shortSnippet,n?n.call(b,b.snippet,1300,p):u.call(b,"shortSnippet",b.snippet,1300,p)))+"\n</div>\n\n",o=c["if"].call(b,(n=b.recommended,null==n||n===!1?n:n.previously_saved),{hash:{},inverse:t.noop,fn:t.program(12,l,e),data:e}),(o||0===o)&&(q+=o),q+="\n\n",o=c["with"].call(b,b.first_saver,{hash:{},inverse:t.noop,fn:t.programWithDepth(14,m,e,b),data:e}),(o||0===o)&&(q+=o),q+="\n"}),this.JST["links/tag"]=a.template(function(a,b,c,d,e){function f(){return"link"}function g(){return"links"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i,j,k="",l="function",m=this.escapeExpression,n=this,o=c.helperMissing;return k+='<div class="info">\n  <h2 class="name">\n    Links for #<span>',(h=c.name)?h=h.call(b,{hash:{},data:e}):(h=b.name,h=typeof h===l?h.apply(b):h),k+=m(h)+'</span>\n  </h2>\n  <div class="user-stats">\n    <span><b>',(h=c.bookmark_count)?h=h.call(b,{hash:{},data:e}):(h=b.bookmark_count,h=typeof h===l?h.apply(b):h),k+=m(h)+"</b>\n    ",j={hash:{compare:"1"},inverse:n.program(3,g,e),fn:n.program(1,f,e),data:e},h=c.if_eq||b.if_eq,i=h?h.call(b,b.bookmark_count,j):o.call(b,"if_eq",b.bookmark_count,j),(i||0===i)&&(k+=i),k+=' this week</span>\n  </div>\n\n  <canvas id="links_stats" class="link-graph"></canvas>\n</div>\n'
}),this.JST["links/tagbundles"]=a.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+="\n  ",d=c.each.call(a,a.items,{hash:{},inverse:n.noop,fn:n.programWithDepth(2,g,b,a),data:b}),(d||0===d)&&(e+=d),e+="\n  "}function g(a,b,d){var e,f="";return f+='\n    <li>\n      <a href="#" data-bundle="',(e=c.name)?e=e.call(a,{hash:{},data:b}):(e=a.name,e=typeof e===l?e.apply(a):e),f+=m(e)+'">',(e=c.name)?e=e.call(a,{hash:{},data:b}):(e=a.name,e=typeof e===l?e.apply(a):e),f+=m(e)+"</a>\n      ",e=c["if"].call(a,d.editable,{hash:{},inverse:n.noop,fn:n.program(3,h,b),data:b}),(e||0===e)&&(f+=e),f+="\n    </li>\n  "}function h(a,b){var d,e="";return e+='\n      <a href="#edit" class="edit" data-bundle="',(d=c.name)?d=d.call(a,{hash:{},data:b}):(d=a.name,d=typeof d===l?d.apply(a):d),e+=m(d)+'"><i class="d-icon-pencil"></i></a>\n      '}function i(){return"\n  No tag bundles.\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var j,k="",l="function",m=this.escapeExpression,n=this;return j=c["if"].call(b,b.items,{hash:{},inverse:n.program(5,i,e),fn:n.program(1,f,e),data:e}),(j||0===j)&&(k+=j),k+="\n"}),this.JST["links/tagcloud"]=a.template(function(a,b,c,d,e){function f(a,b){var d,e,f,h="";return h+="\n  ",f={hash:{},data:b},h+=l((d=c.tagcloud||a.tagcloud,d?d.call(a,a,f):m.call(a,"tagcloud",a,f)))+"\n  ",e=c["if"].call(a,a.has_more,{hash:{},inverse:n.noop,fn:n.program(2,g,b),data:b}),(e||0===e)&&(h+=e),h+="\n  "}function g(a,b){var d,e="";return e+='\n    <div>\n      <a href="#" class="text-btn show-all-tags" data-toggle="tooltip" title="<b>WARNING</b>: This may slow down your browser">Show All ',(d=c.length)?d=d.call(a,{hash:{},data:b}):(d=a.length,d=typeof d===k?d.apply(a):d),e+=l(d)+" Tags</a>\n    </div>\n  "}function h(){return"\n  No tags.\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var i,j="",k="function",l=this.escapeExpression,m=c.helperMissing,n=this;return i=c["if"].call(b,b.items,{hash:{},inverse:n.program(4,h,e),fn:n.program(1,f,e),data:e}),(i||0===i)&&(j+=i),j+="\n"}),this.JST["links/user"]=a.template(function(a,b,c,d,e){function f(){var a="";return a+="\n      \n    "}function g(a,b){var d,e="";return e+="\n      ",d=c["if"].call(a,a.am_following_them,{hash:{},inverse:B.program(6,i,b),fn:B.program(4,h,b),data:b}),(d||0===d)&&(e+=d),e+="\n    "}function h(a,b){var d,e="";return e+='\n        <a href="#unfollow" class="follow-toggle follow-toggle-following" data-user="',(d=c.username)?d=d.call(a,{hash:{},data:b}):(d=a.username,d=typeof d===z?d.apply(a):d),e+=A(d)+'">\n          <span class="following-text">Following</span>\n          <span class="unfollow-text">Unfollow</span>\n        </a>\n      '}function i(a,b){var d,e="";return e+='\n        <a href="#follow" class="follow-toggle follow-toggle-not-following" data-user="',(d=c.username)?d=d.call(a,{hash:{},data:b}):(d=a.username,d=typeof d===z?d.apply(a):d),e+=A(d)+'">\n          <span class="follow-text">Follow</span>\n        </a>\n      '}function j(a,b){var d,e="";return e+="\n      ",(d=c.profile_bio)?d=d.call(a,{hash:{},data:b}):(d=a.profile_bio,d=typeof d===z?d.apply(a):d),e+=A(d)+"\n    "}function k(a,b){var d,e,f="";return f+="\n      ",e={hash:{},inverse:B.noop,fn:B.program(11,l,b),data:b},(d=c.ifMe)?d=d.call(a,e):(d=a.ifMe,d=typeof d===z?d.apply(a):d),c.ifMe||(d=C.call(a,d,e)),(d||0===d)&&(f+=d),f+="\n    "}function l(){return'\n        Tell the Delicious community about yourself on your <a href="/settings">profile settings page</a>.\n      '}function m(a,b){var d,e,f="";return f+='\n      <a href="',(d=c.profile_url)?d=d.call(a,{hash:{},data:b}):(d=a.profile_url,d=typeof d===z?d.apply(a):d),f+=A(d)+'" target="_blank">',e={hash:{},data:b},f+=A((d=c.profileUrlBeautify||a.profileUrlBeautify,d?d.call(a,a.profile_url,e):D.call(a,"profileUrlBeautify",a.profile_url,e)))+"</a>\n    "}function n(a,b){var d,e,f,g="";return g+="\n        ",f={hash:{compare:1},inverse:B.program(18,p,b),fn:B.program(16,o,b),data:b},d=c.if_eq||a.if_eq,e=d?d.call(a,a.bookmark_count,f):D.call(a,"if_eq",a.bookmark_count,f),(e||0===e)&&(g+=e),g+="\n      "}function o(){return"\n          link\n        "}function p(){return"\n          links\n        "}function q(a,b){var d,e,f,g="";return g+="\n        ",f={hash:{compare:1},inverse:B.program(23,s,b),fn:B.program(21,r,b),data:b},d=c.if_eq||a.if_eq,e=d?d.call(a,a.public_bookmark_count,f):D.call(a,"if_eq",a.public_bookmark_count,f),(e||0===e)&&(g+=e),g+="\n      "}function r(){return"\n          public link\n        "}function s(){return"\n          public links\n        "}function t(){return"\n        follower\n      "}function u(){return"\n        followers\n      "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var v,w,x,y="",z="function",A=this.escapeExpression,B=this,C=c.blockHelperMissing,D=c.helperMissing;return y+='<img src="',(v=c.avatar_url)?v=v.call(b,{hash:{},data:e}):(v=b.avatar_url,v=typeof v===z?v.apply(b):v),y+=A(v)+'" class="avatar-img">\n<div class="info">\n  <h2 class="name">\n    <span>',x={hash:{},data:e},y+=A((v=c.or||b.or,v?v.call(b,b.full_name,b.display_name,x):D.call(b,"or",b.full_name,b.display_name,x)))+"</span>\n\n    ",x={hash:{},inverse:B.program(3,g,e),fn:B.program(1,f,e),data:e},(w=c.ifMe)?w=w.call(b,x):(w=b.ifMe,w=typeof w===z?w.apply(b):w),c.ifMe||(w=C.call(b,w,x)),(w||0===w)&&(y+=w),y+='\n  </h2>\n\n  <div class="bio">\n    ',w=c["if"].call(b,b.profile_bio,{hash:{},inverse:B.program(10,k,e),fn:B.program(8,j,e),data:e}),(w||0===w)&&(y+=w),y+='\n  </div>\n\n\n  <div class="site">\n    ',w=c["if"].call(b,b.profile_url,{hash:{},inverse:B.noop,fn:B.program(13,m,e),data:e}),(w||0===w)&&(y+=w),y+='\n  </div>\n\n\n  <div class="user-stats">\n    <a href="/',(w=c.username)?w=w.call(b,{hash:{},data:e}):(w=b.username,w=typeof w===z?w.apply(b):w),y+=A(w)+'">\n    <span>\n      <b>',x={hash:{},data:e},y+=A((v=c.or||b.or,v?v.call(b,b.bookmark_count,b.public_bookmark_count,x):D.call(b,"or",b.bookmark_count,b.public_bookmark_count,x)))+"</b>\n      ",x={hash:{},inverse:B.program(20,q,e),fn:B.program(15,n,e),data:e},(w=c.ifMe)?w=w.call(b,x):(w=b.ifMe,w=typeof w===z?w.apply(b):w),c.ifMe||(w=C.call(b,w,x)),(w||0===w)&&(y+=w),y+='\n    </span>\n    </a>\n    <a href="/',(w=c.username)?w=w.call(b,{hash:{},data:e}):(w=b.username,w=typeof w===z?w.apply(b):w),y+=A(w)+'/following">\n    <span>\n      <b>',x={hash:{},data:e},y+=A((v=c.or||b.or,v?v.call(b,b.following_count,0,x):D.call(b,"or",b.following_count,0,x)))+'</b>\n      following\n    </span>\n    </a>\n    <a href="/',(w=c.username)?w=w.call(b,{hash:{},data:e}):(w=b.username,w=typeof w===z?w.apply(b):w),y+=A(w)+'/followers">\n    <span>\n      <b>',x={hash:{},data:e},y+=A((v=c.or||b.or,v?v.call(b,b.follower_count,0,x):D.call(b,"or",b.follower_count,0,x)))+"</b>\n      ",x={hash:{compare:1},inverse:B.program(27,u,e),fn:B.program(25,t,e),data:e},v=c.if_eq||b.if_eq,w=v?v.call(b,b.follower_count,x):D.call(b,"if_eq",b.follower_count,x),(w||0===w)&&(y+=w),y+='\n    </span>\n    </a>\n  </div>\n\n  <div class="joined mobile-hide">Joined on ',x={hash:{},data:e},y+=A((v=c.formatDateString||b.formatDateString,v?v.call(b,b.time_created,x):D.call(b,"formatDateString",b.time_created,x)))+'</div>\n  <canvas id="links_stats" class="link-graph"></canvas>\n</div>\n'}),this.JST["links/welcome"]=a.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="item">\n  <p>Add links from anywhere on the web by installing our bookmarklet. Just drag the blue &ldquo;Add to Delicious&rdquo; button from below to your bookmarks bar (or favorites bar for Internet Explorer).</p>\n\n  <p class="install-bookmarklet"></p>\n  <script>\n    $(".install-bookmarklet").load("/html/tools.html #bookmarklet-box")\n  </script>\n  <p>Start by <a href="#link">adding your first link</a></p>\n</div>\n'}),this.JST["modals/add_link"]=a.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-body">\n      <form>\n        <input type="url" name="url" id="url-input" class="form-control" autofocus required spellcheck="false">\n        <label for="url-input">Add a new Link</label>\n      </form>\n    </div>\n    <div class="modal-footer">\n      <div class="pull-left">\n        <a href="/tools" target="_blank">Bookmarklet</a> &middot;\n        <a href="/apps" target="_blank">Apps</a>\n      </div>\n      <div class="pull-right">\n        <button class="text-btn" data-dismiss="modal" aria-hidden="true">Cancel</button>\n        <button class="text-btn text-btn-primary">Add link</button>\n      </div>\n    </div>\n  </div>\n</div>\n'}),this.JST["modals/add_tag"]=a.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-body">\n      Add tags to these links:\n      <div class="tags-input-container"></div>\n    </div>\n    <div class="modal-footer">\n      <div class="pull-right">\n        <button class="text-btn" data-dismiss="modal" aria-hidden="true">Cancel</button>\n        <button class="text-btn text-btn-primary">Add Tags</button>\n      </div>\n    </div>\n  </div>\n</div>\n'}),this.JST["modals/compose_link"]=a.template(function(a,b,c,d,e){function f(){return'\n      <div class="item item-welcome">\n        <div class="logo-with-heading">\n          <div class="logo">\n            <i class="s1"></i>\n            <i class="s2"></i>\n            <i class="s3"></i>\n            <i class="s4"></i>\n          </div>\n          <a href="http://delicious.com/" class="logo-text">Delicious</a>\n          <a href="#compose-login" class="pull-right"><small>Already registered?</small></a>\n        </div>\n\n        <p><b>Delicious</b> is the leading bookmarking service to save, organize, and discover interesting links on the web.\n        <a href="http://delicious.com/" target="_top">Learn more</a>.</p>\n        <p>Start to build your personal knowledge base by saving the first link:</p>\n      </div>\n    '}function g(a,b){var d,e,f="";return f+='\n      <div class="item item-status">\n        You saved this link on ',e={hash:{},data:b},f+=A((d=c.formatDateString||a.formatDateString,d?d.call(a,(d=a.recommended,null==d||d===!1?d:d.previously_saved_time),e):z.call(a,"formatDateString",(d=a.recommended,null==d||d===!1?d:d.previously_saved_time),e)))+".\n      </div>\n    "}function h(a,b){var d,e="";return e+='\n            <input type="url" id="inputLinkUrl" name="url" value="',(d=c.url)?d=d.call(a,{hash:{},data:b}):(d=a.url,d=typeof d===B?d.apply(a):d),e+=A(d)+'" class="form-control" spellcheck="false">\n            <label for="inputLinkUrl">URL</label>\n            '}function i(a,b){var d,e="";return e+='\n            <input type="hidden" name="url" value="',(d=c.url)?d=d.call(a,{hash:{},data:b}):(d=a.url,d=typeof d===B?d.apply(a):d),e+=A(d)+'">\n          '}function j(a,b){var d,e,f="";return f+='\n            <div class="tag-suggestion">\n              <div class="tag-suggestion-items">\n                ',e=c.each.call(a,(d=a.recommended,null==d||d===!1?d:d.suggested_tags),{hash:{},inverse:C.noop,fn:C.program(10,k,b),data:b}),(e||0===e)&&(f+=e),f+='\n              </div>\n              <span class="subtitle">Suggested Tags\n                <i class="inline-help"\n                  data-html="true"\n                  data-content="Suggested tags are generated based on your tag cloud and the Delicious community, click the tag above to select."\n                  data-placement="bottom"\n                  data-trigger="hover"\n                  data-container=".inline-help-pop">\n                  ?\n                </i>\n              </span>\n            </div>\n          '}function k(a){var b="";return b+='\n                  <span class="tag-suggestion-item" data-tag="'+A(typeof a===B?a.apply(a):a)+'">'+A(typeof a===B?a.apply(a):a)+"</span>\n                "}function l(){return"on"}function m(){return"private"}function n(){return"publicly visible"}function o(){return"checked"}function p(){return'\n              <i class="d-icon-locked"></i> <span>Private</span>\n            '}function q(){return'\n              <i class="d-icon-locked d-icon-unlocked"></i> <span>Public</span>\n            '}function r(a,b){var d,e="";return e+="\n            ",d=c.unless.call(a,a.time_created,{hash:{},inverse:C.noop,fn:C.program(25,s,b),data:b}),(d||0===d)&&(e+=d),e+="\n            "}function s(a,b){var d,e="";return e+='\n              <label class="checkbox inline checkbox-action checkbox-social checkbox-social-twitter ',d=c["if"].call(a,a.twitter_checked,{hash:{},inverse:C.noop,fn:C.program(12,l,b),data:b}),(d||0===d)&&(e+=d),e+=" ",d=c.unless.call(a,a.twitter,{hash:{},inverse:C.noop,fn:C.program(26,t,b),data:b}),(d||0===d)&&(e+=d),e+='"\n                data-service="twitter"\n                data-toggle="tooltip"\n                title="Share this link to Twitter"\n                >\n                <input type="checkbox" name="share-twitter" ',d=c["if"].call(a,a.twitter_checked,{hash:{},inverse:C.noop,fn:C.program(18,o,b),data:b}),(d||0===d)&&(e+=d),e+='>\n                  <i class="d-icon-twitter"></i> <span class="mobile-hide">Twitter</span>\n              </label>\n              <label class="checkbox inline checkbox-action checkbox-social checkbox-social-facebook ',d=c["if"].call(a,a.facebook_checked,{hash:{},inverse:C.noop,fn:C.program(12,l,b),data:b}),(d||0===d)&&(e+=d),e+=" ",d=c.unless.call(a,a.facebook,{hash:{},inverse:C.noop,fn:C.program(26,t,b),data:b}),(d||0===d)&&(e+=d),e+='"\n                data-service="facebook"\n                data-toggle="tooltip"\n                title="Share this link to Facebook"\n                >\n                <input type="checkbox" name="share-facebook" ',d=c["if"].call(a,a.facebook_checked,{hash:{},inverse:C.noop,fn:C.program(18,o,b),data:b}),(d||0===d)&&(e+=d),e+='>\n                  <i class="d-icon-facebook"></i> <span class="mobile-hide">Facebook</span>\n              </label>\n              '}function t(){return"unavailable"}function u(){return'\n          <button class="text-btn text-btn-danger">Delete</button>\n        '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var v,w,x,y="",z=c.helperMissing,A=this.escapeExpression,B="function",C=this;return y+='<div class="modal-dialog" id="compose-modal">\n  <div class="modal-content">\n    ',v=c["if"].call(b,b.anonymous,{hash:{},inverse:C.noop,fn:C.program(1,f,e),data:e}),(v||0===v)&&(y+=v),y+="\n    ",w=c["if"].call(b,(v=b.recommended,null==v||v===!1?v:v.previously_saved),{hash:{},inverse:C.noop,fn:C.program(3,g,e),data:e}),(w||0===w)&&(y+=w),y+='\n    <div class="modal-body">\n      <div class="inline-help-pop"></div>\n      <form>\n        <fieldset>\n          ',w=c["if"].call(b,b.url_edit,{hash:{},inverse:C.program(7,i,e),fn:C.program(5,h,e),data:e}),(w||0===w)&&(y+=w),y+='\n          <input type="hidden" name="replace" value="',(w=c.replace)?w=w.call(b,{hash:{},data:e}):(w=b.replace,w=typeof w===B?w.apply(b):w),y+=A(w)+'">\n\n          <input class="form-control" type="text" id="inputLinkTitle" name="title" value="',x={hash:{},data:e},y+=A((v=c.or||b.or,v?v.call(b,b.title,(v=b.recommended,null==v||v===!1?v:v.suggested_title),x):z.call(b,"or",b.title,(v=b.recommended,null==v||v===!1?v:v.suggested_title),x)))+'" autofocus>\n          <label for="inputLinkTitle">Title</label>\n\n          <div class="tags-input-container"></div>\n          <label for="tags">Tags\n            <i class="inline-help"\n              data-html="true"\n              data-content="Tags are an important part of organizing on Delicious. Using tags that are smart and simple benifits both you and the community. <ul><li>Lowercase tags are recommended: <code>webdev</code> instead of <code>WebDev</code></li><li>Spaces are allowed but not recommended: <code>machine-learning</code> instead of <code>Machine Learning</code></li><li>Reuse your tags and the tags of the community as much as possible.</li><li>Use ! at the start of a tag if it\'s unrelated to the link content: <code>!unread</code>, <code>!savedforlater</code>, etc.</li></ul>"\n              data-placement="bottom"\n              data-trigger="hover"\n              data-container=".inline-help-pop">\n              ?\n            </i>\n            <span class="pull-right">Separated by comma</span>\n          </label>\n\n          ',w=c["if"].call(b,(v=b.recommended,null==v||v===!1?v:v.suggested_tags),{hash:{},inverse:C.noop,fn:C.program(9,j,e),data:e}),(w||0===w)&&(y+=w),y+='\n\n          <textarea class="form-control autoresize" rows="1" id="textareaLinkComment" name="note" maxlength="1000">',(w=c.note)?w=w.call(b,{hash:{},data:e}):(w=b.note,w=typeof w===B?w.apply(b):w),y+=A(w)+'</textarea>\n          <label for="textareaLinkComment" class="subtitle">Comment <span class="comment_chars_remaining pull-right">1000</span></label>\n\n          <label class="checkbox inline checkbox-action checkbox-privacy ',w=c.unless.call(b,b["private"],{hash:{},inverse:C.noop,fn:C.program(12,l,e),data:e}),(w||0===w)&&(y+=w),y+='"\n            data-toggle="tooltip"\n            title="This link is ',w=c["if"].call(b,b["private"],{hash:{},inverse:C.program(16,n,e),fn:C.program(14,m,e),data:e}),(w||0===w)&&(y+=w),y+='"\n            >\n            <input type="checkbox" name="private" ',w=c["if"].call(b,b["private"],{hash:{},inverse:C.noop,fn:C.program(18,o,e),data:e}),(w||0===w)&&(y+=w),y+=">\n            ",w=c["if"].call(b,b["private"],{hash:{},inverse:C.program(22,q,e),fn:C.program(20,p,e),data:e}),(w||0===w)&&(y+=w),y+="\n          </label>\n          ",w=c.unless.call(b,b.anonymous,{hash:{},inverse:C.noop,fn:C.program(24,r,e),data:e}),(w||0===w)&&(y+=w),y+='\n          <input type="submit" style="position: absolute; visibility: hidden; width: 0; height: 0;">\n        </fieldset>\n      </form>\n    </div>\n    <div class="modal-footer">\n      <div class="pull-left">\n        ',w=c["if"].call(b,(v=b.recommended,null==v||v===!1?v:v.previously_saved),{hash:{},inverse:C.noop,fn:C.program(28,u,e),data:e}),(w||0===w)&&(y+=w),y+='\n      </div>\n      <div class="pull-right">\n        <button class="text-btn" data-dismiss="modal" aria-hidden="true">Cancel</button>\n        <button class="text-btn text-btn-primary">Save link</button>\n      </div>\n    </div>\n  </div>\n</div>\n'}),this.JST["modals/create"]=a.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<div class="modal-dialog modal-dialog-signup modal-dialog-narrow">\n  <form id="create-account-form">\n    <div class="modal-content">\n      <div class="modal-body">\n\n        <div class="form-group">\n          <input type="text" name="display-name" id="display-name" value="',(f=c.name)?f=f.call(b,{hash:{},data:e}):(f=b.name,f=typeof f===h?f.apply(b):f),g+=i(f)+'" class="form-control" required autofocus maxlength="20">\n          <label for="display-name">Full name</label>\n        </div>\n\n        <div class="form-group">\n          <input type="email" name="email" id="email" required class="form-control" spellcheck="false" value="',(f=c.email)?f=f.call(b,{hash:{},data:e}):(f=b.email,f=typeof f===h?f.apply(b):f),g+=i(f)+'">\n          <label for="email">Email</label>\n        </div>\n\n        <div class="form-group">\n          <input type="text" name="username" id="username" required class="form-control" maxlength="15" spellcheck="false">\n          <label for="username">Username</label>\n        </div>\n\n        <div class="form-group">\n          <input type="password" name="password" id="password" required class="form-control" pattern=".{8,}">\n          <label for="password">Password (8 characters or more, no spaces)</label>\n        </div>\n\n        \n\n        <div class="terms">\n          By clicking the button, you agree to the <a href="/terms" target="_blank">Terms & Conditions</a>.\n        </div>\n        <div class="error text-danger"></div>\n\n      </div>\n      <div class="modal-footer">\n        <span class="help-inline text-danger"></span>\n        <div class="pull-right">\n          <button type="submit" class="text-btn text-btn-primary join-button">Sign Up for Delicious</button>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>\n'}),this.JST["modals/forgot_password"]=a.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="modal-dialog modal-dialog-forgot-password modal-dialog-narrow">\n  <div class="modal-content">\n    <div class="modal-body">\n      <form id="forgot-password-form" class="forgot-password-form">\n        <fieldset>\n          <input class="form-control" type="text" name="username" id="username" class="username" required spellcheck="false">\n          <label for="username" class="label-username">Username</label>\n\n          <input type="submit" class="hidden">\n        </fieldset>\n      </form>\n\n      <div class="send-success hidden">\n        <div>\n          <p><strong>Great! There’s only one more step.</strong> <br>You will receive an email from us shortly. Simply click the link to set a new password.</p>\n        </div>\n      </div>\n    </div>\n    <div class="modal-footer">\n      <span class="help-inline text-danger error-msg"></span>\n      <div class="pull-right">\n        <button class="text-btn text-btn-primary submit-button">Submit</button>\n      </div>\n    </div>\n  </div>\n</div>\n'}),this.JST["modals/help"]=a.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-header hidden">\n        <h2>Shortcuts</h2>\n    </div>\n    <div class="modal-body help-modal-body">\n    </div>\n    <div class="modal-footer">\n      <div class="pull-right">\n        <button class="text-btn" data-dismiss="modal" aria-hidden="true">Close</button>\n      </div>\n    </div>\n\n  </div>\n</div>\n<script>\n  $(".help-modal-body").load("/html/shortcuts.html #shortcut-lists")\n</script>\n'}),this.JST["modals/login"]=a.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="modal-dialog modal-dialog-signin modal-dialog-narrow">\n  <div class="modal-content">\n    <!-- <div class="modal-header">\n      <h3>Sign in</h3>\n    </div> -->\n    <div class="modal-body">\n      <div>\n        <button class="text-btn text-btn-primary thirdparty-login thirdparty-login-twitter" data-service="twitter" title="Sign in with Twitter">\n          <i class="d-icon-twitter"></i> Twitter\n        </button>\n\n        <button class="text-btn text-btn-primary thirdparty-login thirdparty-login-facebook" data-service="facebook" title="Sign in with Facebook">\n          <i class="d-icon-facebook"></i> Facebook\n        </button>\n\n        <button class="text-btn text-btn-primary thirdparty-login thirdparty-login-google" data-service="google" title="Sign in with Google+">\n          <i class="d-icon-google"></i> Google\n        </button>\n      </div>\n\n      <hr>\n\n      <form id="login-form" class="login-form">\n        <fieldset>\n          <input class="form-control" type="text" name="username" id="username" class="username" autofocus spellcheck="false">\n          <label for="username" class="label-username">Username</label>\n\n          <input class="form-control" type="password" name="password" id="password" class="password">\n          <label for="password" class="label-password">Password <a href="#forget-password" class="pull-right">Forgot password?</a></label>\n\n          <input type="submit" style="position: absolute; visibility: hidden; width: 0; height: 0;">\n        </fieldset>\n      </form>\n    </div>\n    <div class="modal-footer">\n      <span class="help-inline text-danger"></span>\n      <div class="pull-left">\n        <a href="#signup">Don&rsquo;t have an account?</a>\n      </div>\n      <div class="pull-right">\n        <button class="text-btn text-btn-primary login-button">Sign in</button>\n      </div>\n    </div>\n  </div>\n</div>\n'}),this.JST["modals/remove_tag"]=a.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+='\n        <ul class="tags remove-tag-list">\n        ',d=c.each.call(a,a,{hash:{},inverse:n.noop,fn:n.program(2,g,b),data:b}),(d||0===d)&&(e+=d),e+="\n        </ul>\n        "}function g(a){var b="";return b+='\n          <li><a href="#">'+m(typeof a===l?a.apply(a):a)+"</a></li>\n        "}function h(){return"\n        <p>There&rsquo;s no common tag in your selection.</p>\n      "}function i(){return'\n          <button class="text-btn text-btn-primary">Remove Selected Tags</button>\n        '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var j,k="",l="function",m=this.escapeExpression,n=this;return k+='<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-body">\n      ',j=c["if"].call(b,b,{hash:{},inverse:n.program(4,h,e),fn:n.program(1,f,e),data:e}),(j||0===j)&&(k+=j),k+='\n    </div>\n    <div class="modal-footer">\n      <div class="pull-right">\n        <button class="text-btn" data-dismiss="modal" aria-hidden="true">Cancel</button>\n        ',j=c["if"].call(b,b,{hash:{},inverse:n.noop,fn:n.program(6,i,e),data:e}),(j||0===j)&&(k+=j),k+="\n      </div>\n    </div>\n  </div>\n</div>\n"}),this.JST["modals/reset_password"]=a.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="modal-dialog modal-dialog-reset-password modal-dialog-narrow">\n  <div class="modal-content">\n    <div class="modal-body">\n      <form id="reset-password-form" class="reset-password-form">\n        <fieldset>\n          <input class="form-control" type="password" name="password" id="password" class="password" required>\n          <label for="username" class="label-password">Set your new password (8 characters or more, no spaces)</label>\n\n          <input type="submit" class="hidden">\n        </fieldset>\n      </form>\n\n      <div class="reset-success hidden">\n        <div>\n          <p>Your password was successfuly reset. You may now <a href="#login">login with your new password</a>.</p>\n        </div>\n      </div>\n    </div>\n    <div class="modal-footer">\n      <span class="help-inline text-danger error-msg"></span>\n      <div class="pull-right">\n        <button class="text-btn text-btn-primary submit-button">Submit</button>\n      </div>\n    </div>\n  </div>\n</div>\n'}),this.JST["modals/signup"]=a.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="modal-dialog modal-dialog-signup modal-dialog-narrow">\n  <div class="modal-content">\n    <div class="modal-body">\n      <div>\n        <div>Sign up with your&hellip;</div>\n        <button class="text-btn text-btn-primary thirdparty-login thirdparty-login-twitter" data-service="twitter">\n          <i class="d-icon-twitter"></i> Twitter\n        </button>\n\n        <button class="text-btn text-btn-primary thirdparty-login thirdparty-login-facebook" data-service="facebook">\n          <i class="d-icon-facebook"></i> Facebook\n        </button>\n\n        <button class="text-btn text-btn-primary thirdparty-login thirdparty-login-google" data-service="google">\n          <i class="d-icon-google"></i> Google+\n        </button>\n      </div>\n    </div>\n    <div class="modal-footer">\n      <div class="pull-left">\n        <a href="#" class="create-account"><b>Sign up with your email address</b></a>\n        <br>Already have a Delicious account? <a href="#" class="switch-signin">Sign in</a>\n      </div>\n    </div>\n  </div>\n</div>\n'}),this.JST["modals/tag_editor"]=a.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+="\n            <option>",(d=c.name)?d=d.call(a,{hash:{},data:b}):(d=a.name,d=typeof d===i?d.apply(a):d),e+=j(d)+"</option>\n          "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h="",i="function",j=this.escapeExpression,k=this;return h+='<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-body">\n      <div class="tag-editor">\n        Rename\n\n        <select class="form-control inline">\n          ',g=c.each.call(b,b,{hash:{},inverse:k.noop,fn:k.program(1,f,e),data:e}),(g||0===g)&&(h+=g),h+='\n        </select>\n\n        <br>to\n\n        <input class="form-control new-tag-name contenteditable inline" spellcheck="false">\n\n        <span class="text-success"></span>\n      </div>\n    </div>\n    <div class="modal-footer">\n      <div class="pull-left">\n        <button class="text-btn text-btn-danger delete-tag">Delete</button>\n      </div>\n      <div class="pull-right">\n        <button class="text-btn" data-dismiss="modal" aria-hidden="true">Cancel</button>\n        <button class="text-btn text-btn-primary rename-tag">Submit</button>\n      </div>\n    </div>\n  </div>\n</div>\n'}),this.JST["modals/tagbundle"]=a.template(function(a,b,c,d,e){function f(){return'\n          <button class="text-btn text-btn-danger">Delete</button>\n        '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h="",i="function",j=this.escapeExpression,k=this;return h+='<div class="modal-dialog modal-dialog-tagbundle">\n  <div class="modal-content">\n    <div class="modal-body">\n      <form>\n        <fieldset>\n          <input class="form-control" type="text" name="name" value="',(g=c.name)?g=g.call(b,{hash:{},data:e}):(g=b.name,g=typeof g===i?g.apply(b):g),h+=j(g)+'" id="bundle-name">\n          <label for="bundle-name" class="lable-bundle-name">Bundle Name</label>\n\n          <div class="tags-input-container"></div>\n          <input type="hidden" name="tags" value="',(g=c.tags)?g=g.call(b,{hash:{},data:e}):(g=b.tags,g=typeof g===i?g.apply(b):g),h+=j(g)+'" id="bundle-tags">\n          <label for="bundle-tags" class="lable-bundle-tags">Tags</label>\n        </fieldset>\n      </form>\n      <span class="text-danger"></span>\n    </div>\n    <div class="modal-footer">\n      <div class="pull-left">\n        ',g=c["if"].call(b,b.name,{hash:{},inverse:k.noop,fn:k.program(1,f,e),data:e}),(g||0===g)&&(h+=g),h+='\n      </div>\n      <div class="pull-right">\n        <button class="text-btn" data-dismiss="modal" aria-hidden="true">Cancel</button>\n        <button class="text-btn text-btn-primary">Save Bundle</button>\n      </div>\n    </div>\n  </div>\n</div>\n'}),this.JST["network/link"]=a.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+='\n      <div class="note">',(d=c.note)?d=d.call(a,{hash:{},data:b}):(d=a.note,d=typeof d===r?d.apply(a):d),e+=s(d)+"</div>\n    "}function g(a,b){var d,e,f,g="";return g+="<span ",d=c["if"].call(a,a.save_rank,{hash:{},inverse:t.noop,fn:t.program(4,h,b),data:b}),(d||0===d)&&(g+=d),g+=' title="',(d=c.owner)?d=d.call(a,{hash:{},data:b}):(d=a.owner,d=typeof d===r?d.apply(a):d),g+=s(d)+" was the ",f={hash:{},data:b},g+=s((d=c.ordinal||a.ordinal,d?d.call(a,a.save_rank,f):u.call(a,"ordinal",a.save_rank,f)))+' user to save to link">',(e=c.save_rank)?e=e.call(a,{hash:{},data:b}):(e=a.save_rank,e=typeof e===r?e.apply(a):e),g+=s(e)+"</span>"}function h(){return'class="has-personal"'}function i(){return"people"}function j(){return"person"}function k(a,b){var d,e="";return e+='\n        <ul class="tags"> ',d=c.each.call(a,a.tags,{hash:{},inverse:t.noop,fn:t.program(11,l,b),data:b}),(d||0===d)&&(e+=d),e+="</ul>\n      "}function l(a){var b="";return b+='<li><a href="/tag/'+s(typeof a===r?a.apply(a):a)+'">'+s(typeof a===r?a.apply(a):a)+"</a></li> "}function m(){return'\n          <a href="#link-tags" class="mobile-tags-toggle">Tags</a>\n        '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};
var n,o,p,q="",r="function",s=this.escapeExpression,t=this,u=c.helperMissing;return q+='<div class="item item-rich">\n  <div class="item-rich-wrapper">\n    <div class="user">\n      <a href="/'+s((n=b.saver,n=null==n||n===!1?n:n.username,typeof n===r?n.apply(b):n))+'"><img src="'+s((n=b.saver,n=null==n||n===!1?n:n.avatar_url,typeof n===r?n.apply(b):n))+'" class="avatar-img"> <b>'+s((n=b.saver,n=null==n||n===!1?n:n.full_name,typeof n===r?n.apply(b):n))+"</b></a>\n    </div>\n\n    ",o=c["if"].call(b,b.note,{hash:{},inverse:t.noop,fn:t.program(1,f,e),data:e}),(o||0===o)&&(q+=o),q+='\n\n    <div class="title-wrapper">\n      <a href="',(o=c.url)?o=o.call(b,{hash:{},data:e}):(o=b.url,o=typeof o===r?o.apply(b):o),q+=s(o)+'" class="title" target="_blank">',p={hash:{},data:e},q+=s((n=c.or||b.or,n?n.call(b,b.title,b.url,p):u.call(b,"or",b.title,b.url,p)))+'</a>\n      <span class="domain">',(o=c.domain)?o=o.call(b,{hash:{},data:e}):(o=b.domain,o=typeof o===r?o.apply(b):o),q+=s(o)+'</span>\n    </div>\n\n    <div class="meta">\n      <a href="/link/',(o=c.md5)?o=o.call(b,{hash:{},data:e}):(o=b.md5,o=typeof o===r?o.apply(b):o),q+=s(o)+'" class="link-rank">\n        ',o=c["if"].call(b,b.save_rank,{hash:{},inverse:t.noop,fn:t.program(3,g,e),data:e}),(o||0===o)&&(q+=o),q+='<span title="',(o=c.num_saves)?o=o.call(b,{hash:{},data:e}):(o=b.num_saves,o=typeof o===r?o.apply(b):o),q+=s(o)+" ",p={hash:{compare:"1"},inverse:t.program(8,j,e),fn:t.program(6,i,e),data:e},n=c.if_gt||b.if_gt,o=n?n.call(b,b.num_saves,p):u.call(b,"if_gt",b.num_saves,p),(o||0===o)&&(q+=o),q+=' saved this link">',(o=c.num_saves)?o=o.call(b,{hash:{},data:e}):(o=b.num_saves,o=typeof o===r?o.apply(b):o),q+=s(o)+"</span>\n      </a>\n\n      ",o=c["if"].call(b,b.tags,{hash:{},inverse:t.noop,fn:t.program(10,k,e),data:e}),(o||0===o)&&(q+=o),q+='\n    </div>\n\n    <div class="meta meta-secondary">\n      <div class="actions">\n        ',o=c["if"].call(b,b.tags,{hash:{},inverse:t.noop,fn:t.program(13,m,e),data:e}),(o||0===o)&&(q+=o),q+='\n        <a href="#" class="action-link bookmark-btn">Add Link</a>\n      </div>\n\n      <time datetime="',p={hash:{},data:e},q+=s((n=c.formatMachineDate||b.formatMachineDate,n?n.call(b,b.time_created,p):u.call(b,"formatMachineDate",b.time_created,p)))+'" class="date" title="',p={hash:{},data:e},q+=s((n=c.formatDateFull||b.formatDateFull,n?n.call(b,b.time_created,p):u.call(b,"formatDateFull",b.time_created,p)))+'">',p={hash:{},data:e},q+=s((n=c.formatDateRelative||b.formatDateRelative,n?n.call(b,b.time_created,p):u.call(b,"formatDateRelative",b.time_created,p)))+"</time>\n    </div>\n  </div>\n</div>\n<!-- .item -->\n"}),this.JST["network/list"]=a.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="link-list"></div>\n'}),this.JST["network/page"]=a.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<div class="hero-unit">\n  <h2>My Network</h2>\n  Delicious is more fun with friends. <a href="/settings/friends">Find my friends</a>.\n</div>\n\n<div class="links"></div>\n',(f=c.loadMore)?f=f.call(b,{hash:{},data:e}):(f=b.loadMore,f=typeof f===h?f.apply(b):f),g+=i(f)+"\n"}),this.JST.not_found=a.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="not-found">\n  <div class="hero-unit">\n    <div class="info">\n      <h2>404 Not Found</h2>\n      <div>\n        The page you are looking for could not be found.\n        <a href="/">back to home</a>\n      </div>\n    </div>\n  </div>\n\n  <div class="item">\n    <p>We&rsquo;re sorry, we can&rsquo;t find the link you&rsquo;ve entered! This is usually because you clicked a broken link or mistyped the URL. If you think this is a mistake on our part, try refreshing the page or <a href="mailto:support@delicious.com">send us some feedback</a>.</p>\n  </div>\n</div>\n'}),this.JST.notification=a.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function";return g+='<div class="alert">\n  <button type="button" class="close" data-dismiss="alert">&times;</button>\n  ',(f=c.message)?f=f.call(b,{hash:{},data:e}):(f=b.message,f=typeof f===h?f.apply(b):f),(f||0===f)&&(g+=f),g+="\n</div>\n"}),this.JST.sidebar=a.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+="\n        ",e={hash:{},data:b},f+=p((d=c.or||a.or,d?d.call(a,a.full_name,a.display_name,e):o.call(a,"or",a.full_name,a.display_name,e)))+"\n      "}function g(){return"\n        Delicious\n      "}function h(){return'\n      <a href="/logout" class="site-nav-sign-out pull-right">Sign out</a>\n    '}function i(){return'\n      <li class="nav-item-home"><a href="/"><span class=d-icon-home></span> My Links</a></li>\n      '}function j(){return'\n      <li class="nav-item-home"><a href="#login"><span class=d-icon-signin></span> Sign in</a></li>\n    '}function k(){return'\n      <li class="nav-item-settings"><a href="/settings"><span class=d-icon-settings></span> Settings</a></li>\n    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var l,m,n="",o=c.helperMissing,p=this.escapeExpression,q=this,r="function",s=c.blockHelperMissing;return n+='<aside class="site-nav" tabindex="1">\n  <!--[if lt IE 9]>\n    <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>\n  <![endif]-->\n\n\n  <div class="site-nav-profile">\n    <a href="/" class="site-nav-user-link">\n      <div class="logo site-nav-logo">\n        <i class="s1"></i>\n        <i class="s2"></i>\n        <i class="s3"></i>\n        <i class="s4"></i>\n      </div>\n      ',l=c["if"].call(b,b.username,{hash:{},inverse:q.program(3,g,e),fn:q.program(1,f,e),data:e}),(l||0===l)&&(n+=l),n+="\n    </a>\n    ",l=c["if"].call(b,b.username,{hash:{},inverse:q.noop,fn:q.program(5,h,e),data:e}),(l||0===l)&&(n+=l),n+='\n  </div>\n  <!-- .site-nav-profile -->\n\n  <div class="site-nav-search">\n    <form id="location-bar" data-icon="&#xe008;">\n      <input type="text" name="site-search" value="" id="site-search" placeholder="Search&hellip;" spellcheck="false">\n      <ul class="list-group search-bar-tip">\n        <li class="list-group-item help">Search Tips</li>\n        <li class="list-group-item help"><b>#tagname</b><br>Search a specific tag</li>\n        <li class="list-group-item help"><b>@username</b><br>Search a specific user</li>\n        <li class="list-group-item help"><b>keywords</b><br>Search specific keywords</li>\n        <li class="list-group-item help"><b>@username #tagname</b><br>Search tags for a specific user</li>\n        <li class="list-group-item help"><b>@username keywords</b><br>Search keywords for a specific user</li>\n        <li class="list-group-item help"><b>http://</b><br>Search a specific web page on Delicious</li>\n      </ul>\n    </form>\n  </div>\n  <!-- .site-nav-search -->\n\n  <ul class="site-nav-links">\n    ',m={hash:{},inverse:q.program(9,j,e),fn:q.program(7,i,e),data:e},(l=c.ifLoggedIn)?l=l.call(b,m):(l=b.ifLoggedIn,l=typeof l===r?l.apply(b):l),c.ifLoggedIn||(l=s.call(b,l,m)),(l||0===l)&&(n+=l),n+='\n\n    <li class="nav-item-network">\n      <a href="/network" class="login-check"><span class=d-icon-network></span> Network</a>\n    </li>\n    <li class="nav-item-discover">\n      <a href="/discover" class="login-check"><span class=d-icon-discover></span> Discover</a>\n    </li>\n    <li class="nav-item-add"><a href="#link"><span class=d-icon-add></span> Add Link</a></li>\n    ',m={hash:{},inverse:q.noop,fn:q.program(11,k,e),data:e},(l=c.ifLoggedIn)?l=l.call(b,m):(l=b.ifLoggedIn,l=typeof l===r?l.apply(b):l),c.ifLoggedIn||(l=s.call(b,l,m)),(l||0===l)&&(n+=l),n+='\n  </ul>\n  <!-- .site-nav-links -->\n\n  <div class="site-nav-footer">\n    <ul class="meta-links lowercase">\n      <li><a href="/help">Help</a></li>\n      <li><a href="/apps">Apps</a></li>\n      <li><a href="/tools">Tools</a></li>\n      <li><a href="http://blog.delicious.com">Blog</a></li>\n    </ul>\n    &copy; <a href="http://avos.com/">AVOS Systems, Inc.</a>\n  </div>\n  <!-- .site-nav-footer -->\n\n  <div class="site-nav-toggle">\n    <a href="#">\n      <span></span>\n      <span></span>\n      <span></span>\n    </a>\n  </div>\n  <!-- .site-nav-toggle -->\n</aside>\n<!-- .site-nav -->\n'}),this.JST["user/relations/user_relationship"]=a.template(function(a,b,c,d,e){function f(){return"following"}function g(a,b){var d,e,f,g="";return g+="follower",f={hash:{compare:1},inverse:m.noop,fn:m.program(4,h,b),data:b},d=c.if_gt||a.if_gt,e=d?d.call(a,a.follower_count,f):n.call(a,"if_gt",a.follower_count,f),(e||0===e)&&(g+=e),g}function h(){return"s"}function i(a,b){var d,e,f="";return f+="\n        <b>",e={hash:{},data:b},f+=o((d=c.or||a.or,d?d.call(a,a.following_count,0,e):n.call(a,"or",a.following_count,0,e)))+"</b> following\n      "}function j(a,b){var d,e,f,g="";return g+="\n        <b>",f={hash:{},data:b},g+=o((d=c.or||a.or,d?d.call(a,a.follower_count,0,f):n.call(a,"or",a.follower_count,0,f)))+"</b> follower",f={hash:{compare:1},inverse:m.noop,fn:m.program(4,h,b),data:b},d=c.if_gt||a.if_gt,e=d?d.call(a,a.follower_count,f):n.call(a,"if_gt",a.follower_count,f),(e||0===e)&&(g+=e),g+="\n      "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var k,l="",m=this,n=c.helperMissing,o=this.escapeExpression,p="function";return l+='<div class="hero-unit">\n  <div class="info">\n    <h2 class="name">\n      <span>',(k=c.full_name)?k=k.call(b,{hash:{},data:e}):(k=b.full_name,k=typeof k===p?k.apply(b):k),l+=o(k)+"</span>&rsquo;s ",k=c["if"].call(b,b.is_following,{hash:{},inverse:m.program(3,g,e),fn:m.program(1,f,e),data:e}),(k||0===k)&&(l+=k),l+="\n    </h2>\n    <div>\n      ",k=c["if"].call(b,b.is_following,{hash:{},inverse:m.program(8,j,e),fn:m.program(6,i,e),data:e}),(k||0===k)&&(l+=k),l+='\n      -\n      <a href="/',(k=c.username)?k=k.call(b,{hash:{},data:e}):(k=b.username,k=typeof k===p?k.apply(b):k),l+=o(k)+'">back to @',(k=c.username)?k=k.call(b,{hash:{},data:e}):(k=b.username,k=typeof k===p?k.apply(b):k),l+=o(k)+'</a>\n\n      <a class="pull-right" href="/settings/friends">Find more friends on Delicious</a>\n    </div>\n  </div>\n</div>\n\n<div class="people"></div>\n'}),this.JST["user/relations/user_relationships"]=a.template(function(a,b,c,d,e){function f(a,b){var d,e,f,j="";return j+='\n  <div class="item user-item">\n    <div class="user-item-wrapper cf',d=c["if"].call(a,a.profile_bio,{hash:{},inverse:r.noop,fn:r.program(2,g,b),data:b}),(d||0===d)&&(j+=d),j+='">\n      ',d=c["if"].call(a,a.is_me,{hash:{},inverse:r.program(6,i,b),fn:r.program(4,h,b),data:b}),(d||0===d)&&(j+=d),j+='\n\n      <a href="/',(d=c.username)?d=d.call(a,{hash:{},data:b}):(d=a.username,d=typeof d===p?d.apply(a):d),j+=q(d)+'" class="name">\n        <img src="',(d=c.avatar_url)?d=d.call(a,{hash:{},data:b}):(d=a.avatar_url,d=typeof d===p?d.apply(a):d),j+=q(d)+'" class="avatar-img">\n        <b>',(d=c.full_name)?d=d.call(a,{hash:{},data:b}):(d=a.full_name,d=typeof d===p?d.apply(a):d),j+=q(d)+'</b>\n        <span class="link-count">\n          <b>',f={hash:{},data:b},j+=q((d=c.or||a.or,d?d.call(a,a.public_bookmark_count,0,f):s.call(a,"or",a.public_bookmark_count,0,f)))+"</b> public link",f={hash:{compare:1},inverse:r.noop,fn:r.program(11,l,b),data:b},d=c.if_gt||a.if_gt,e=d?d.call(a,a.public_bookmark_count,f):s.call(a,"if_gt",a.public_bookmark_count,f),(e||0===e)&&(j+=e),j+="\n        </span>\n      </a>\n\n      ",e=c["if"].call(a,a.profile_bio,{hash:{},inverse:r.noop,fn:r.program(13,m,b),data:b}),(e||0===e)&&(j+=e),j+="\n    </div>\n  </div>\n"}function g(){return" has-bio"}function h(){return'\n        <a href="/settings" class="follow-toggle follow-toggle-me pull-right">\n          <span>Edit your profile</span>\n        </a>\n        '}function i(a,b){var d,e="";return e+="\n        ",d=c["if"].call(a,a.am_following_them,{hash:{},inverse:r.program(9,k,b),fn:r.program(7,j,b),data:b}),(d||0===d)&&(e+=d),e+="\n      "}function j(a,b){var d,e="";return e+='\n          <a href="#unfollow" class="follow-toggle follow-toggle-following pull-right" data-user="',(d=c.username)?d=d.call(a,{hash:{},data:b}):(d=a.username,d=typeof d===p?d.apply(a):d),e+=q(d)+'">\n            <span class="following-text">Following</span>\n            <span class="unfollow-text">Unfollow</span>\n          </a>\n          '}function k(a,b){var d,e="";return e+='\n          <a href="#follow" class="follow-toggle follow-toggle-not-following pull-right" data-user="',(d=c.username)?d=d.call(a,{hash:{},data:b}):(d=a.username,d=typeof d===p?d.apply(a):d),e+=q(d)+'">\n            <span class="follow-text">Follow</span>\n          </a>\n        '}function l(){return"s"}function m(a,b){var d,e="";return e+='\n        <p class="bio">\n          ',(d=c.profile_bio)?d=d.call(a,{hash:{},data:b}):(d=a.profile_bio,d=typeof d===p?d.apply(a):d),e+=q(d)+"\n        </p>\n      "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var n,o="",p="function",q=this.escapeExpression,r=this,s=c.helperMissing;return n=c.each.call(b,b,{hash:{},inverse:r.noop,fn:r.program(1,f,e),data:e}),(n||0===n)&&(o+=n),o+="\n"}),this.JST["user/settings"]=a.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<div class="hero-unit">\n  <h2>Settings</h2>\n  Your account settings &amp; personal preferences\n</div>\n\n<div class="link-nav">\n  <ul class="actions">\n    <li class="active"><a href="#profile" data-toggle="tab">Profile</a></li>\n    <li><a href="#account" data-toggle="tab">Account</a></li>\n    <li><a href="#password" data-toggle="tab">Password</a></li>\n    <li><a href="#thirdparty" data-toggle="tab">Social</a></li>\n    <li><a href="#manage" data-toggle="tab">Manage</a></li>\n    <li class="pull-right link-nav-signout"><a href="/logout">Sign out</a></li>\n  </ul>\n</div>\n\n<div class="settings-wrapper">\n  <div class="tab-content">\n    <div class="tab-pane active" id="profile">\n\n      <div class="avatar-wrapper">\n        <img src="',(f=c.avatar_url)?f=f.call(b,{hash:{},data:e}):(f=b.avatar_url,f=typeof f===h?f.apply(b):f),g+=i(f)+'" class="avatar-img avatar_display">\n        <form id="photo-form" class="avatar-form">\n          <input type="file" class="hidden" id="avatar_file" name="photo" accept="image/*" />\n          <button class="text-btn avatar_edit" type="button">Change</button>\n        </form>\n      </div>\n      <h3 class="subtitle">Avatar <small>(Maxium File Size: 2 MB)</small></h3>\n\n      <form id="profile_form">\n        <fieldset>\n          <legend>Public Profile</legend>\n\n          <div class="form-group">\n            <input type="text" id="display_name" value="',(f=c.full_name)?f=f.call(b,{hash:{},data:e}):(f=b.full_name,f=typeof f===h?f.apply(b):f),g+=i(f)+'" class="form-control">\n            <label for="display_name">Name</label>\n          </div>\n\n          <div class="form-group">\n            <textarea id="bio" rows="1" class="form-control" maxlength="140">',(f=c.profile_bio)?f=f.call(b,{hash:{},data:e}):(f=b.profile_bio,f=typeof f===h?f.apply(b):f),g+=i(f)+'</textarea>\n            <label for="bio">Bio <span id="bio_chars_remaining" class="pull-right">140</span></label>\n          </div>\n\n          <div class="form-group">\n            <input type="url" id="url" value="',(f=c.profile_url)?f=f.call(b,{hash:{},data:e}):(f=b.profile_url,f=typeof f===h?f.apply(b):f),g+=i(f)+'" class="form-control" spellcheck="false">\n            <label for="url">Website</label>\n          </div>\n\n          <div class="form-group">\n            <button class="text-btn text-btn-primary" id="profile_submit">Save</button>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n\n    <div class="tab-pane" id="account">\n      <!-- <h3>Account</h3> -->\n\n      <form id="email_form">\n        <fieldset>\n          <legend>Change your email</legend>\n          <div class="form-group">\n            <input type="email" id="profile_email" placeholder="email" value="',(f=c.profile_email)?f=f.call(b,{hash:{},data:e}):(f=b.profile_email,f=typeof f===h?f.apply(b):f),g+=i(f)+'" class="form-control" required spellcheck="false">\n            <label for="profile_email">Email</label>\n          </div>\n\n          <div class="form-group">\n            <button class="text-btn text-btn-primary" id="email_submit">Save</button>\n          </div>\n        </fieldset>\n      </form>\n\n      <hr>\n      <button type="button" class="text-btn text-btn-danger" data-toggle="modal" data-target="#deactivate-account">Deactivate Account</button>\n\n      <div class="modal fade danger-zone-wrapper" id="deactivate-account" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\n        <div class="modal-dialog">\n          <div class="modal-content">\n            <div class="modal-body">\n              <div class="danger-zone">\n                <h3>Deactivate Account</h3>\n\n                <p>Looking for a different flavor? We are always updating the menu, and would love to get your <a href="mailto:feedback@avos.com?subject=Delicious Next feedback from @',(f=c.username)?f=f.call(b,{hash:{},data:e}):(f=b.username,f=typeof f===h?f.apply(b):f),g+=i(f)+'">feedback</a>. Before you go, please keep in mind the following:</p>\n\n                <ul>\n                  <li>Your account should be removed from delicious within a few minutes, but some content may be viewable on delicious for a few days after deactivation.</li>\n                  <li>We have no control over content indexed by search engines such as Google, Bing, and Blekko.</li>\n                  <li>You are welcome back anytime!</li>\n                </ul>\n\n                <form id="deactivate_form">\n                  <div class="form-group">\n                    <input type="password" id="deactivate_account_password" class="form-control" required>\n                    <label for="deactivate_account_password">Type your password to confirm</label>\n                    <span class="help-block" id="deactivate_error"></span>\n                  </div>\n\n                  <button type="button" class="text-btn text-btn-default" data-dismiss="modal">Cancel</button>\n                  <button type="submit" class="text-btn text-btn-danger" id="deactivate_submit">Yes, deactivate my account</button>\n                </form>\n              </div>\n            </div>\n          </div><!-- /.modal-content -->\n        </div><!-- /.modal-dialog -->\n      </div><!-- /.modal -->\n\n    </div>\n\n    <div class="tab-pane" id="password">\n      <form id="password_form">\n        <fieldset>\n          <legend>Change your password</legend>\n          <div class="form-group">\n            <input type="password" id="original_password" class="form-control" required>\n            <label for="original_password">Current Password</label>\n          </div>\n\n          <div class="form-group">\n            <input type="password" id="new_password" class="form-control"  minlength="8">\n            <label for="new_password">New Password</label>\n          </div>\n\n          <div class="form-group">\n            <input type="password" id="new_password_confirm" class="form-control" minlength="8">\n            <label for="new_password_confirm">Confirm New Password</label>\n          </div>\n\n          <div class="form-group">\n            <button class="text-btn text-btn-primary" id="password_submit">Save</button>\n            <span class="text-danger" id="password_error"></span>\n          </div>\n        </fieldset>\n      </form>\n\n    </div>\n\n    <div class="tab-pane" id="thirdparty">\n      <div class="thirdparty-items"></div>\n    </div>\n\n    <div class="tab-pane" id="manage">\n      <p>Import or export your bookmarks from a file</p>\n      <ul>\n        <li><a href="http://export.delicious.com/settings/bookmarks/import" target="_blank">Import Bookmarks</a></li>\n        <li><a href="http://export.delicious.com/settings/bookmarks/export" target="_blank">Export Bookmarks</a></li>\n      </ul>\n    </div>\n  </div>\n</div>\n\n<div class="item settings-footer">\n  <div class="feedback">\n    <a href="mailto:feedback@delicious.com?subject=Delicious Next feedback from @',(f=c.username)?f=f.call(b,{hash:{},data:e}):(f=b.username,f=typeof f===h?f.apply(b):f),g+=i(f)+'">We&rsquo;d love to hear your <b>feedback</b> on the new design!</a>\n  </div>\n  <hr>\n  <ul class="meta-links">\n    <li><a href="/about">About</a></li>\n    <li><a href="/apps">Apps</a></li>\n    <li><a href="/help">Help</a></li>\n    <li><a href="/tools">Tools</a></li>\n    <li><a href="#help">Shortcuts</a></li>\n    <li><a href="http://blog.delicious.com/">Blog</a></li>\n  </ul>\n  &copy; <a href="http://avos.com/">AVOS Systems, Inc.</a>\n</div>\n\n',(f=c.loadMore)?f=f.call(b,{hash:{},data:e}):(f=b.loadMore,f=typeof f===h?f.apply(b):f),g+=i(f)+"\n"}),this.JST["user/settings/friends"]=a.template(function(a,b,c,d,e){function f(a,b){var d,e,f,j="";return j+='\n  <div class="item user-item">\n    <div class="user-item-wrapper cf',d=c["if"].call(a,a.profile_bio,{hash:{},inverse:s.noop,fn:s.program(2,g,b),data:b}),(d||0===d)&&(j+=d),j+='">\n      ',d=c["if"].call(a,a.is_me,{hash:{},inverse:s.program(6,i,b),fn:s.program(4,h,b),data:b}),(d||0===d)&&(j+=d),j+='\n\n      <a href="/',(d=c.username)?d=d.call(a,{hash:{},data:b}):(d=a.username,d=typeof d===q?d.apply(a):d),j+=r(d)+'" class="name">\n        <img src="',(d=c.avatar_url)?d=d.call(a,{hash:{},data:b}):(d=a.avatar_url,d=typeof d===q?d.apply(a):d),j+=r(d)+'" class="avatar-img">\n        <b>',(d=c.full_name)?d=d.call(a,{hash:{},data:b}):(d=a.full_name,d=typeof d===q?d.apply(a):d),j+=r(d)+'</b>\n        <span class="link-count">\n          <b>',f={hash:{},data:b},j+=r((d=c.or||a.or,d?d.call(a,a.public_bookmark_count,0,f):t.call(a,"or",a.public_bookmark_count,0,f)))+"</b> public link",f={hash:{compare:1},inverse:s.program(13,m,b),fn:s.program(11,l,b),data:b},d=c.if_eq||a.if_eq,e=d?d.call(a,a.public_bookmark_count,f):t.call(a,"if_eq",a.public_bookmark_count,f),(e||0===e)&&(j+=e),j+="\n        </span>\n      </a>\n\n      ",e=c["if"].call(a,a.profile_bio,{hash:{},inverse:s.noop,fn:s.program(15,n,b),data:b}),(e||0===e)&&(j+=e),j+="\n    </div>\n  </div>\n"}function g(){return" has-bio"}function h(){return'\n        <a href="/settings" class="follow-toggle follow-toggle-me pull-right">\n          <span>Edit your profile</span>\n        </a>\n        '}function i(a,b){var d,e="";return e+="\n        ",d=c["if"].call(a,a.am_following_them,{hash:{},inverse:s.program(9,k,b),fn:s.program(7,j,b),data:b}),(d||0===d)&&(e+=d),e+="\n      "}function j(a,b){var d,e="";return e+='\n          <a href="#unfollow" class="follow-toggle follow-toggle-following pull-right" data-user="',(d=c.username)?d=d.call(a,{hash:{},data:b}):(d=a.username,d=typeof d===q?d.apply(a):d),e+=r(d)+'">\n            <span class="following-text">Following</span>\n            <span class="unfollow-text">Unfollow</span>\n          </a>\n          '}function k(a,b){var d,e="";return e+='\n          <a href="#follow" class="follow-toggle follow-toggle-not-following pull-right" data-user="',(d=c.username)?d=d.call(a,{hash:{},data:b}):(d=a.username,d=typeof d===q?d.apply(a):d),e+=r(d)+'">\n            <span class="follow-text">Follow</span>\n          </a>\n        '}function l(){var a="";return a}function m(){return"s"}function n(a,b){var d,e="";return e+='\n        <p class="bio">\n          ',(d=c.profile_bio)?d=d.call(a,{hash:{},data:b}):(d=a.profile_bio,d=typeof d===q?d.apply(a):d),e+=r(d)+"\n        </p>\n      "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var o,p="",q="function",r=this.escapeExpression,s=this,t=c.helperMissing;return p+='<div class="hero-unit">\n  <div class="info">\n    <h2 class="name">\n      Your friends on Delicious\n    </h2>\n    Find more friends by <a href="/settings/thirdparty">connecting social networks</a> to Delicious.\n  </div>\n</div>\n\n<div class="people">\n\n',o=c.each.call(b,b.items,{hash:{},inverse:s.noop,fn:s.program(1,f,e),data:e}),(o||0===o)&&(p+=o),p+="\n\n</div>\n"}),this.JST["user/settings/thirdparty"]=a.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+="\n    ",d=c["with"].call(a,a.twitter,{hash:{},inverse:y.noop,fn:y.program(2,g,b),data:b}),(d||0===d)&&(e+=d),e+="\n  "}function g(a,b){var d,e="";return e+='\n      <button class="text-btn thirdparty-login thirdparty-login-twitter disconnect-button" data-service="twitter">\n        <i class="d-icon-twitter"></i> Connected: ',(d=c.providerDisplayname)?d=d.call(a,{hash:{},data:b}):(d=a.providerDisplayname,d=typeof d===v?d.apply(a):d),e+=w(d)+'\n        <small>Click to disconnect</small>\n      </button>\n\n      <form class="thirdparty-options" id="twitter-options" data-service="twitter">\n        <label for="twitter-import-option" class="checkbox">\n          <input id="twitter-import-option" type="checkbox" class="import-control"\n          ',d=c["if"].call(a,a.active,{hash:{},inverse:y.noop,fn:y.program(3,h,b),data:b}),(d||0===d)&&(e+=d),e+='>\n            Import links I posted on Twitter,\n        </label>\n        <span>tag them with</span>\n\n        <span class="form-control contenteditable inline thirdparty-tag-control" id="twitter-tag-options" contenteditable>\n          ',d=c["if"].call(a,a.tags,{hash:{},inverse:y.program(7,j,b),fn:y.program(5,i,b),data:b}),(d||0===d)&&(e+=d),e+='\n        </span>\n\n        <span>and</span>\n\n        <select id="twitter-privacy-options" class="form-control inline thirdparty-privacy-control">\n          ',d=c.each.call(a,a.privacy_options,{hash:{},inverse:y.noop,fn:y.programWithDepth(9,k,b,a),data:b}),(d||0===d)&&(e+=d),e+='\n        </select>\n        <label for="twitter-privacy-options" class="hidden">Default privacy level</label>\n        <span>.</span>\n\n        <button type="submit" class="text-btn text-btn-primary">Save</button>\n      </form>\n    '}function h(){return"checked"}function i(a,b){var d,e="";return e+="\n            ",(d=c.tags)?d=d.call(a,{hash:{},data:b}):(d=a.tags,d=typeof d===v?d.apply(a):d),e+=w(d)+"\n            "}function j(){return"\n            !fromtwitter\n          "}function k(a,b,d){var e,f,g,h="";return h+='\n            <option value="',(e=c.value)?e=e.call(a,{hash:{},data:b}):(e=a.value,e=typeof e===v?e.apply(a):e),h+=w(e)+'" ',g={hash:{},data:b},h+=w((e=c.privacy_option_check||d.privacy_option_check,e?e.call(a,d.privateAttri,g):x.call(a,"privacy_option_check",d.privateAttri,g)))+">",(f=c.text)?f=f.call(a,{hash:{},data:b}):(f=a.text,f=typeof f===v?f.apply(a):f),h+=w(f)+"</option>\n          "}function l(){return'\n    <button class="text-btn thirdparty-login thirdparty-login-twitter connect-button" data-service="twitter">\n      <i class="d-icon-twitter"></i> Connect to Twitter\n    </button>\n  '}function m(a,b){var d,e="";return e+="\n    ",d=c["with"].call(a,a.facebook,{hash:{},inverse:y.noop,fn:y.program(14,n,b),data:b}),(d||0===d)&&(e+=d),e+="\n    "}function n(a,b){var d,e="";return e+='\n      <button class="text-btn thirdparty-login thirdparty-login-facebook disconnect-button" data-service="facebook">\n        <i class="d-icon-facebook"></i> Connected: ',(d=c.providerDisplayname)?d=d.call(a,{hash:{},data:b}):(d=a.providerDisplayname,d=typeof d===v?d.apply(a):d),e+=w(d)+'\n        <small>Click to disconnect</small>\n      </button>\n\n      <form class="thirdparty-options" id="facebook-options" data-service="facebook">\n\n        <label for="facebook-import-option" class="checkbox">\n          <input id="facebook-import-option" type="checkbox" class="import-control"\n          ',d=c["if"].call(a,a.active,{hash:{},inverse:y.noop,fn:y.program(3,h,b),data:b}),(d||0===d)&&(e+=d),e+='>\n            Import links I posted on Facebook,\n        </label>\n        <span>tag them with</span>\n\n        <span class="form-control contenteditable inline thirdparty-tag-control" id="facebook-tag-options" contenteditable>\n          ',d=c["if"].call(a,a.tags,{hash:{},inverse:y.program(15,o,b),fn:y.program(5,i,b),data:b}),(d||0===d)&&(e+=d),e+='\n        </span>\n\n        <span>and</span>\n\n        <select id="facebook-privacy-options" class="form-control inline thirdparty-privacy-control">\n          ',d=c.each.call(a,a.privacy_options,{hash:{},inverse:y.noop,fn:y.programWithDepth(9,k,b,a),data:b}),(d||0===d)&&(e+=d),e+='\n        </select>\n        <label for="facebook-privacy-options" class="hidden">Default privacy level</label>\n        <span>.</span>\n\n        <button type="submit" class="text-btn text-btn-primary">Save</button>\n      </form>\n    '}function o(){return"\n            !fromfacebook\n          "}function p(){return'\n    <button class="text-btn thirdparty-login thirdparty-login-facebook connect-button" data-service="facebook">\n      <i class="d-icon-facebook"></i> Connect to Facebook\n    </button>\n  '}function q(a,b){var d,e="";return e+="\n    ",d=c["with"].call(a,a.google,{hash:{},inverse:y.noop,fn:y.program(20,r,b),data:b}),(d||0===d)&&(e+=d),e+="\n    "}function r(a,b){var d,e="";return e+='\n      <button class="text-btn thirdparty-login thirdparty-login-google disconnect-button" data-service="google">\n        <i class="d-icon-google"></i> Connected: ',(d=c.providerUserId)?d=d.call(a,{hash:{},data:b}):(d=a.providerUserId,d=typeof d===v?d.apply(a):d),e+=w(d)+"\n        <small>Click to disconnect</small>\n      </button>\n    "}function s(){return'\n    <button class="text-btn thirdparty-login thirdparty-login-google connect-button" data-service="google">\n      <i class="d-icon-google"></i> Connect to Google\n    </button>\n  '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var t,u="",v="function",w=this.escapeExpression,x=c.helperMissing,y=this;return u+='<div class="thirdparty-item">\n  ',t=c["if"].call(b,b.twitter,{hash:{},inverse:y.program(11,l,e),fn:y.program(1,f,e),data:e}),(t||0===t)&&(u+=t),u+='\n</div>\n\n<hr>\n\n<div class="thirdparty-item">\n  ',t=c["if"].call(b,b.facebook,{hash:{},inverse:y.program(17,p,e),fn:y.program(13,m,e),data:e}),(t||0===t)&&(u+=t),u+='\n</div>\n\n<div class="thirdparty-item">\n  ',t=c["if"].call(b,b.google,{hash:{},inverse:y.program(22,s,e),fn:y.program(19,q,e),data:e}),(t||0===t)&&(u+=t),u+="\n</div>\n"}),this.JST["widgets/compose_result"]=a.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+="\n      You are the <b>",e={hash:{},data:b},f+=k((d=c.ordinal||a.ordinal,d?d.call(a,a.save_rank,e):j.call(a,"ordinal",a.save_rank,e)))+"</b> person to save the link\n    "}function g(){return"\n      Link saved!\n    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i="",j=c.helperMissing,k=this.escapeExpression,l=this;return i+='<div class="compose-result">\n  <div class="msg">\n    ',h=c["if"].call(b,b.save_rank,{hash:{},inverse:l.program(3,g,e),fn:l.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+='\n  </div>\n  <a href="/" target="_blank" class="goto-delicious">Open Delicious</a>\n</div>\n\n<div class="compose-result-backdrop"></div>\n'}),this.JST["widgets/person_overview"]=a.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<div class="person-overview cf" data-user="',(f=c.username)?f=f.call(b,{hash:{},data:e}):(f=b.username,f=typeof f===h?f.apply(b):f),g+=i(f)+'">\n  <div class="name">\n    <img src="',(f=c.avatar_url)?f=f.call(b,{hash:{},data:e}):(f=b.avatar_url,f=typeof f===h?f.apply(b):f),g+=i(f)+'" class="avatar-img">\n    <b>',(f=c.full_name)?f=f.call(b,{hash:{},data:e}):(f=b.full_name,f=typeof f===h?f.apply(b):f),g+=i(f)+'</b>\n    <span class="link-count">\n      <b>',(f=c.public_bookmark_count)?f=f.call(b,{hash:{},data:e}):(f=b.public_bookmark_count,f=typeof f===h?f.apply(b):f),g+=i(f)+'</b> public links\n    </span>\n  </div>\n  <p class="bio">',(f=c.profile_bio)?f=f.call(b,{hash:{},data:e}):(f=b.profile_bio,f=typeof f===h?f.apply(b):f),g+=i(f)+'</p>\n  <div class="tags-wrapper">Tags: ',(f=c.tags_html)?f=f.call(b,{hash:{},data:e}):(f=b.tags_html,f=typeof f===h?f.apply(b):f),(f||0===f)&&(g+=f),g+="</div>\n</div>\n"
}),this.JST["widgets/tag_input"]=a.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+='\n  <input type="text" name="',(d=c.name)?d=d.call(a,{hash:{},data:b}):(d=a.name,d=typeof d===k?d.apply(a):d),e+=l(d)+'" id="',(d=c.name)?d=d.call(a,{hash:{},data:b}):(d=a.name,d=typeof d===k?d.apply(a):d),e+=l(d)+'" autocomplete="off" value="',(d=c.value)?d=d.call(a,{hash:{},data:b}):(d=a.value,d=typeof d===k?d.apply(a):d),e+=l(d)+'" class="form-control tag-input" spellcheck="false">\n  '}function g(a,b){var d,e="";return e+='\n  <textarea type="text" name="',(d=c.name)?d=d.call(a,{hash:{},data:b}):(d=a.name,d=typeof d===k?d.apply(a):d),e+=l(d)+'" id="',(d=c.name)?d=d.call(a,{hash:{},data:b}):(d=a.name,d=typeof d===k?d.apply(a):d),e+=l(d)+'" autocomplete="off" class="form-control tag-input" spellcheck="false">',(d=c.value)?d=d.call(a,{hash:{},data:b}):(d=a.value,d=typeof d===k?d.apply(a):d),e+=l(d)+"</textarea>\n"}function h(a){var b,c="";return c+="\n    <li>"+l((b=a.name,typeof b===k?b.apply(a):b))+"</li>\n  "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var i,j="",k="function",l=this.escapeExpression,m=this;return i=c.unless.call(b,b.multiline,{hash:{},inverse:m.program(3,g,e),fn:m.program(1,f,e),data:e}),(i||0===i)&&(j+=i),j+='\n<ul class="tag-input-candidates">\n  ',i=c.each.call(b,b.tags,{hash:{},inverse:m.noop,fn:m.program(5,h,e),data:e}),(i||0===i)&&(j+=i),j+="\n</ul>\n"}),this.JST}),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/base/hbsview",["chaplin","templates"],function(a,c){var d,e;return d=function(a){function d(){return e=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.getTemplateFunction=function(){return this.template?this._cachedTemplateFunction||(this._cachedTemplateFunction=c[this.template]):void 0},d.prototype.startLoading=function(){return $(".load-more").addClass("on")},d.prototype.stopLoading=function(){return $(".load-more").removeClass("on")},d.prototype.show=function(){return this.$el.show()},d.prototype.hide=function(){return this.$el.hide()},d}(a.View)})}.call(this),function(a){function b(a,b){return function(c){return i(a.call(this,c),b)}}function c(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function d(){}function e(a){g(this,a)}function f(a){var b=a.years||a.year||a.y||0,c=a.months||a.month||a.M||0,d=a.weeks||a.week||a.w||0,e=a.days||a.day||a.d||0,f=a.hours||a.hour||a.h||0,g=a.minutes||a.minute||a.m||0,h=a.seconds||a.second||a.s||0,i=a.milliseconds||a.millisecond||a.ms||0;this._input=a,this._milliseconds=i+1e3*h+6e4*g+36e5*f,this._days=e+7*d,this._months=c+12*b,this._data={},this._bubble()}function g(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function h(a){return 0>a?Math.ceil(a):Math.floor(a)}function i(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function j(a,b,c,d){var e,f,g=b._milliseconds,h=b._days,i=b._months;g&&a._d.setTime(+a._d+g*c),(h||i)&&(e=a.minute(),f=a.hour()),h&&a.date(a.date()+h*c),i&&a.month(a.month()+i*c),g&&!d&&H.updateOffset(a),(h||i)&&(a.minute(e),a.hour(f))}function k(a){return"[object Array]"===Object.prototype.toString.call(a)}function l(a,b){var c,d=Math.min(a.length,b.length),e=Math.abs(a.length-b.length),f=0;for(c=0;d>c;c++)~~a[c]!==~~b[c]&&f++;return f+e}function m(a){return a?eb[a]||a.toLowerCase().replace(/(.)s$/,"$1"):a}function n(a,b){return b.abbr=a,L[a]||(L[a]=new d),L[a].set(b),L[a]}function o(a){if(!a)return H.fn._lang;if(!L[a]&&M)try{require("./lang/"+a)}catch(b){return H.fn._lang}return L[a]}function p(a){return a.match(/\[.*\]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function q(a){var b,c,d=a.match(P);for(b=0,c=d.length;c>b;b++)d[b]=ib[d[b]]?ib[d[b]]:p(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function r(a,b){function c(b){return a.lang().longDateFormat(b)||b}for(var d=5;d--&&Q.test(b);)b=b.replace(Q,c);return fb[b]||(fb[b]=q(b)),fb[b](a)}function s(a,b){switch(a){case"DDDD":return T;case"YYYY":return U;case"YYYYY":return V;case"S":case"SS":case"SSS":case"DDD":return S;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return W;case"a":case"A":return o(b._l)._meridiemParse;case"X":return Z;case"Z":case"ZZ":return X;case"T":return Y;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return R;default:return new RegExp(a.replace("\\",""))}}function t(a){var b=(X.exec(a)||[])[0],c=(b+"").match(bb)||["-",0,0],d=+(60*c[1])+~~c[2];return"+"===c[0]?-d:d}function u(a,b,c){var d,e=c._a;switch(a){case"M":case"MM":e[1]=null==b?0:~~b-1;break;case"MMM":case"MMMM":d=o(c._l).monthsParse(b),null!=d?e[1]=d:c._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=b&&(e[2]=~~b);break;case"YY":e[0]=~~b+(~~b>68?1900:2e3);break;case"YYYY":case"YYYYY":e[0]=~~b;break;case"a":case"A":c._isPm=o(c._l).isPM(b);break;case"H":case"HH":case"h":case"hh":e[3]=~~b;break;case"m":case"mm":e[4]=~~b;break;case"s":case"ss":e[5]=~~b;break;case"S":case"SS":case"SSS":e[6]=~~(1e3*("0."+b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=t(b)}null==b&&(c._isValid=!1)}function v(a){var b,c,d=[];if(!a._d){for(b=0;7>b;b++)a._a[b]=d[b]=null==a._a[b]?2===b?1:0:a._a[b];d[3]+=~~((a._tzm||0)/60),d[4]+=~~((a._tzm||0)%60),c=new Date(0),a._useUTC?(c.setUTCFullYear(d[0],d[1],d[2]),c.setUTCHours(d[3],d[4],d[5],d[6])):(c.setFullYear(d[0],d[1],d[2]),c.setHours(d[3],d[4],d[5],d[6])),a._d=c}}function w(a){var b,c,d=a._f.match(P),e=a._i;for(a._a=[],b=0;b<d.length;b++)c=(s(d[b],a).exec(e)||[])[0],c&&(e=e.slice(e.indexOf(c)+c.length)),ib[d[b]]&&u(d[b],c,a);e&&(a._il=e),a._isPm&&a._a[3]<12&&(a._a[3]+=12),a._isPm===!1&&12===a._a[3]&&(a._a[3]=0),v(a)}function x(a){var b,c,d,f,h,i=99;for(f=0;f<a._f.length;f++)b=g({},a),b._f=a._f[f],w(b),c=new e(b),h=l(b._a,c.toArray()),c._il&&(h+=c._il.length),i>h&&(i=h,d=c);g(a,d)}function y(a){var b,c=a._i,d=$.exec(c);if(d){for(a._f="YYYY-MM-DD"+(d[2]||" "),b=0;4>b;b++)if(ab[b][1].exec(c)){a._f+=ab[b][0];break}X.exec(c)&&(a._f+=" Z"),w(a)}else a._d=new Date(c)}function z(b){var c=b._i,d=N.exec(c);c===a?b._d=new Date:d?b._d=new Date(+d[1]):"string"==typeof c?y(b):k(c)?(b._a=c.slice(0),v(b)):b._d=c instanceof Date?new Date(+c):new Date(c)}function A(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function B(a,b,c){var d=K(Math.abs(a)/1e3),e=K(d/60),f=K(e/60),g=K(f/24),h=K(g/365),i=45>d&&["s",d]||1===e&&["m"]||45>e&&["mm",e]||1===f&&["h"]||22>f&&["hh",f]||1===g&&["d"]||25>=g&&["dd",g]||45>=g&&["M"]||345>g&&["MM",K(g/30)]||1===h&&["y"]||["yy",h];return i[2]=b,i[3]=a>0,i[4]=c,A.apply({},i)}function C(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=H(a).add("d",f),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function D(a){var b=a._i,c=a._f;return null===b||""===b?null:("string"==typeof b&&(a._i=b=o().preparse(b)),H.isMoment(b)?(a=g({},b),a._d=new Date(+b._d)):c?k(c)?x(a):w(a):z(a),new e(a))}function E(a,b){H.fn[a]=H.fn[a+"s"]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+c+b](a),H.updateOffset(this),this):this._d["get"+c+b]()}}function F(a){H.duration.fn[a]=function(){return this._data[a]}}function G(a,b){H.duration.fn["as"+a]=function(){return+this/b}}for(var H,I,J="2.1.0",K=Math.round,L={},M="undefined"!=typeof module&&module.exports,N=/^\/?Date\((\-?\d+)/i,O=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,P=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,Q=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,R=/\d\d?/,S=/\d{1,3}/,T=/\d{3}/,U=/\d{1,4}/,V=/[+\-]?\d{1,6}/,W=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,X=/Z|[\+\-]\d\d:?\d\d/i,Y=/T/i,Z=/[\+\-]?\d+(\.\d{1,3})?/,$=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,_="YYYY-MM-DDTHH:mm:ssZ",ab=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],bb=/([\+\-]|\d\d)/gi,cb="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),db={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},eb={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},fb={},gb="DDD w W M D d".split(" "),hb="M D H h m s w W".split(" "),ib={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return i(this.year()%100,2)},YYYY:function(){return i(this.year(),4)},YYYYY:function(){return i(this.year(),5)},gg:function(){return i(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return i(this.weekYear(),5)},GG:function(){return i(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return i(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return i(~~(this.milliseconds()/10),2)},SSS:function(){return i(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+i(~~(a/60),2)+":"+i(~~a%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+i(~~(10*a/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};gb.length;)I=gb.pop(),ib[I+"o"]=c(ib[I],I);for(;hb.length;)I=hb.pop(),ib[I+I]=b(ib[I],2);for(ib.DDDD=b(ib.DDD,3),d.prototype={set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;for(this._monthsParse||(this._monthsParse=[]),b=0;12>b;b++)if(this._monthsParse[b]||(c=H([2e3,b]),d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=new RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=H([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"==typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return C(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},H=function(a,b,c){return D({_i:a,_f:b,_l:c,_isUTC:!1})},H.utc=function(a,b,c){return D({_useUTC:!0,_isUTC:!0,_l:c,_i:a,_f:b})},H.unix=function(a){return H(1e3*a)},H.duration=function(a,b){var c,d,e=H.isDuration(a),g="number"==typeof a,h=e?a._input:g?{}:a,i=O.exec(a);return g?b?h[b]=a:h.milliseconds=a:i&&(c="-"===i[1]?-1:1,h={y:0,d:~~i[2]*c,h:~~i[3]*c,m:~~i[4]*c,s:~~i[5]*c,ms:~~i[6]*c}),d=new f(h),e&&a.hasOwnProperty("_lang")&&(d._lang=a._lang),d},H.version=J,H.defaultFormat=_,H.updateOffset=function(){},H.lang=function(a,b){return a?(b?n(a,b):L[a]||o(a),H.duration.fn._lang=H.fn._lang=o(a),void 0):H.fn._lang._abbr},H.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),o(a)},H.isMoment=function(a){return a instanceof e},H.isDuration=function(a){return a instanceof f},H.fn=e.prototype={clone:function(){return H(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return r(H(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!l(this._a,(this._isUTC?H.utc(this._a):H(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){var b=r(this,a||H.defaultFormat);return this.lang().postformat(b)},add:function(a,b){var c;return c="string"==typeof a?H.duration(+b,a):H.duration(a,b),j(this,c,1),this},subtract:function(a,b){var c;return c="string"==typeof a?H.duration(+b,a):H.duration(a,b),j(this,c,-1),this},diff:function(a,b,c){var d,e,f=this._isUTC?H(a).zone(this._offset||0):H(a).local(),g=6e4*(this.zone()-f.zone());return b=m(b),"year"===b||"month"===b?(d=432e5*(this.daysInMonth()+f.daysInMonth()),e=12*(this.year()-f.year())+(this.month()-f.month()),e+=(this-H(this).startOf("month")-(f-H(f).startOf("month")))/d,e-=6e4*(this.zone()-H(this).startOf("month").zone()-(f.zone()-H(f).startOf("month").zone()))/d,"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:h(e)},from:function(a,b){return H.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(H(),a)},calendar:function(){var a=this.diff(H().startOf("day"),"days",!0),b=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.lang().calendar(b,this))},isLeapYear:function(){var a=this.year();return 0===a%4&&0!==a%100||0===a%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?"string"==typeof a&&(a=this.lang().weekdaysParse(a),"number"!=typeof a)?this:this.add({d:a-b}):b},month:function(a){var b,c=this._isUTC?"UTC":"";return null!=a?"string"==typeof a&&(a=this.lang().monthsParse(a),"number"!=typeof a)?this:(b=this.date(),this.date(1),this._d["set"+c+"Month"](a),this.date(Math.min(b,this.daysInMonth())),H.updateOffset(this),this):this._d["get"+c+"Month"]()},startOf:function(a){switch(a=m(a)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),this},endOf:function(a){return this.startOf(a).add(a,1).subtract("ms",1)},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)>+H(a).startOf(b)},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<+H(a).startOf(b)},isSame:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)===+H(a).startOf(b)},min:function(a){return a=H.apply(null,arguments),this>a?this:a},max:function(a){return a=H.apply(null,arguments),a>this?this:a},zone:function(a){var b=this._offset||0;return null==a?this._isUTC?b:this._d.getTimezoneOffset():("string"==typeof a&&(a=t(a)),Math.abs(a)<16&&(a*=60),this._offset=a,this._isUTC=!0,b!==a&&j(this,H.duration(b-a,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return H.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(a){var b=K((H(this).startOf("day")-H(this).startOf("year"))/864e5)+1;return null==a?b:this.add("d",a-b)},weekYear:function(a){var b=C(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=C(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=C(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},lang:function(b){return b===a?this._lang:(this._lang=o(b),this)}},I=0;I<cb.length;I++)E(cb[I].toLowerCase().replace(/s$/,""),cb[I]);E("year","FullYear"),H.fn.days=H.fn.day,H.fn.months=H.fn.month,H.fn.weeks=H.fn.week,H.fn.isoWeeks=H.fn.isoWeek,H.fn.toJSON=H.fn.toISOString,H.duration.fn=f.prototype={_bubble:function(){var a,b,c,d,e=this._milliseconds,f=this._days,g=this._months,i=this._data;i.milliseconds=e%1e3,a=h(e/1e3),i.seconds=a%60,b=h(a/60),i.minutes=b%60,c=h(b/60),i.hours=c%24,f+=h(c/24),i.days=f%30,g+=h(f/30),i.months=g%12,d=h(g/12),i.years=d},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*~~(this._months/12)},humanize:function(a){var b=+this,c=B(b,!a,this.lang());return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){var c=H.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=H.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=m(a),this[a.toLowerCase()+"s"]()},as:function(a){return a=m(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:H.fn.lang};for(I in db)db.hasOwnProperty(I)&&(G(I,db[I]),F(I.toLowerCase()));G("Weeks",6048e5),H.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},H.lang("en",{ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),M&&(module.exports=H),"undefined"==typeof ender&&(this.moment=H),"function"==typeof define&&define.amd&&define("moment",[],function(){return H})}.call(this),function(){define("lib/avos",["underscore","moment"],function(a,b){var c,d;return c={relativeTime:{future:"in %s",past:"%s",s:"%ds",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"1d",dd:"%dd",M:"1mo",MM:"%dmo",y:"1y",yy:"%dy"},calendar:{lastDay:"[Yesterday]",sameDay:"LT",nextDay:"[Tomorrow at] LT",lastWeek:"L",nextWeek:"dddd [at] LT",sameElse:"L"}},b.lang("en",a.extend(c,{longDateFormat:{LT:"h:mm a",L:"D/M/YY",l:"D/M/YYYY",LL:"Do MMMM YYYY",ll:"D MMM YYYY",LLL:"Do MMMM YYYY LT",lll:"D MMM YYYY LT",LLLL:"dddd MMMM Do YYYY LT",llll:"ddd MMM D YYYY LT"}})),b.lang("en-us",a.extend(c,{longDateFormat:{LT:"h:mm a",L:"M/D/YY",l:"M/D/YYYY",LL:"MMMM Do YYYY",ll:"MMM D, YYYY",LLL:"MMMM Do YYYY LT",lll:"MMM D YYYY LT",LLLL:"dddd, MMMM Do YYYY LT",llll:"ddd, MMM D YYYY LT"}})),d=navigator.userLanguage||navigator.language,"en-us"===d.toLowerCase()?b.lang("en-us"):b.lang("en"),{api_host:function(){return window.testing?"avosapi-test.delicious.com":"avosapi.delicious.com"},api_path:"/api/v1",default_avatar:"//delicious-icons.s3.amazonaws.com/default-avatar-2.jpg",logging:!0,ajax:{options:{cache:!1,dataType:"json",type:"GET",timeout:1e4,headers:{Accept:""},xhrFields:{withCredentials:!0}}},composer_my_tags_limit:25,webapp_url:"https://delicious.com/delicious.webapp"}})}.call(this),function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};define("lib/popup",["lib/avos"],function(b){var c;return c={allowedOrigins:["http://avosapi.delicious.com","https://avosapi.delicious.com"],options:{menubar:"no",toolbar:"no",width:790,height:360}},function(d){var e,f;return null==d&&(d={}),f=_.extend({},c.options,d),delete f.url,delete f.success,delete f.popupWindowName,delete f.crossWindowMessageName,e=function(b){var f;return b=b.originalEvent,f=b.origin,a.call(c.allowedOrigins,f)<0||b.data.name!==d.crossWindowMessageName?void 0:(d.success(b.data.body),$(window).off("message",e))},$(window).on("message",e),window.open("//"+b.api_host()+b.api_path+d.url,d.popupWindowName,$.param(f).replace(/&/g,","))}})}.call(this),function(){define("lib/encode",[],function(){return function(a){return a=encodeURIComponent(a),a.replace(/\./g,"%2E")}})}.call(this),function(){define("lib/obfuscate",[],function(){return function(a){var b;return b=a.split("").reverse().join(""),btoa(b)}})}.call(this),function(){var a=[].slice;define("lib/logger",[],function(){var b,c,d,e,f;return c=15,f=(new Date).getTime(),e=!1,b=function(a){var b;return null==a&&(a=""),b=c-a.length+1,0>b&&(b=0),new Array(b).join(" ")},d=function(){var c,d,g,h,i;return g=arguments[0],d=arguments[1],c=3<=arguments.length?a.call(arguments,2):[],null==d&&(d="log"),e?("log"!==d&&"warn"!==d&&"error"!==d&&(c.unshift(d),d="log"),"string"!=typeof g&&(c.unshift(g),g=""),h=(new Date).getTime(),i=h-f+"ms",console[d](b(i),i+" ■",g),_(c).each(function(a){return"object"==typeof a?_(a).each(function(a,c){return console[d](b(c),c,a)}):void 0})):void 0},{log:d,error:function(){var b,c;return c=arguments[0],b=2<=arguments.length?a.call(arguments,1):[],d.apply(null,[c,"error"].concat(a.call(b)))},set:function(a){return null==a&&(a=!1),a===!0?e=!0:void 0},warn:function(){var b,c;return c=arguments[0],b=2<=arguments.length?a.call(arguments,1):[],d.apply(null,[c,"warn"].concat(a.call(b)))}}})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("models/base/model",["chaplin","lib/session","lib/avos","lib/logger"],function(a,c,d,e){var f,g;return c.loginFailCount=0,c.retryCounter={},f=function(a){function f(){return g=f.__super__.constructor.apply(this,arguments)}return b(f,a),f.prototype.xhrPool=[],f.prototype.api=function(a){var b,f,g,h,i,j,k=this;return g=_.extend({},d.ajax.options,a,{dataType:$("html").hasClass("lt-ie10")?"jsonp":"json",url:"//"+d.api_host()+d.api_path+a.url,success:null,error:null}),j=new Date,h=new $.Deferred,i=function(b,d,l){var m,n;if(e.log("API: Response received",{time:new Date-j,server_time:b.delta_ms}),"invalid_credentials"===(null!=b?b.status:void 0)){if(null!=(n=c.user)?n.get("username"):void 0)return k.publishEvent("!router:route","/logout"),void 0;c.loginFailCount=0}if("expired_session"===(null!=b?b.status:void 0)){if(c.loginFailCount++,e.warn("API Session Expired",{url:g.url,params:g,user:c.user.clone(),failcount:c.loginFailCount}),c.loginFailCount<4&&c.user.get("password_hash")&&c.user.get("username"))return e.warn("Attempting to reAuth with silent login",k),h.notify("Attempting to reAuth with silent login"),c.user.loginSilent().fail(i).done(function(){return f(),c.loginFailCount=0});e.error("Silent auth was not successful"),k.publishEvent("!router:route","/logout"),c.loginFailCount=0}else{if("success"===(null!=b?b.status:void 0))return e.log("API Success: "+a.url,{params:g,res:b}),m=_.indexOf(k.xhrPool,l),-1!==m&&k.xhrPool.splice(m,1),$.isFunction(a.success)&&a.success.apply(a,arguments),h.resolve.apply(h,arguments),void 0;if("thirdparty_account_required"===(null!=b?b.status:void 0))return k.publishEvent("discover:prepare"),void 0}return e.warn("API Error",{res:b,status:d,xhr:l}),_.isFunction(a.error)&&a.error.apply(a,arguments),h.reject.apply(h,arguments)},b=function(b,c,d){return e.error("API Error: "+a.url,{headers:b.getAllResponseHeaders(),status:c,error:d}),"timeout"===d&&k.publishEvent("system:timeout"),_.isFunction(a.error)&&a.error.apply(a,arguments),h.reject.apply(h,arguments)},f=function(){return e.log("API: Requesting "+a.url,{params:g,options:a}),k.xhrPool.push($.ajax(g).fail(b).done(i))},f(),h},f.prototype.dispose=function(){return _.each(this.xhrPool,function(a){return a.abort()}),f.__super__.dispose.apply(this,arguments)},f}(a.Model)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("models/base/collection",["lib/avos","chaplin","models/base/model"],function(a,c,d){var e,f;return e=function(a){function c(){return f=c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.xhrPool=[],c.prototype.parse=function(a){return _.isEmpty(a)?[]:(null!=a?a.pkg:void 0)||[]},c.prototype.api=d.prototype.api,c.prototype.initialize=function(a,b){return null==a&&(a=[]),null==b&&(b={}),this.urlParams=b.urlParams,delete b.urlParams,c.__super__.initialize.call(this,b)},c.prototype.fetch=function(a){return null==a&&(a={}),this.length>0&&(a.remove=!1),c.__super__.fetch.call(this,a)},c.prototype.sync=function(a,b,c){var d;return d={},d.url="function"==typeof this.url?this.url():null!=b.url?b.url:void 0,d=_.extend(d,c),this.api(d)},c.prototype._anchor=function(){var a,b;return this.length<1?-1:(b=_.sortBy(this.pluck("time_created"),function(a){return a}),a=_.first(b),(a||0)-1)},c.prototype._anchorx=function(){var a;return this.length<1?null:(a=this.last(),a.get("time_created")+a.get("md5"))},c.prototype._index=function(){var a;return this.length<1?0:(a=_.sortBy(this.pluck("index"),function(a){return a}),_.last(a)||0)},c.prototype._score=function(){var a;return this.length<1?null:(a=_.min(this.pluck("score")),a-1)},c.prototype.dispose=function(){return _.each(this.xhrPool,function(a){return a.abort()}),c.__super__.dispose.apply(this,arguments)},c}(c.Collection)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("models/tag",["chaplin","models/base/model","lib/session"],function(a,c,d){var e,f;return e=function(a){function c(){return f=c.__super__.constructor.apply(this,arguments)}return b(c,a),c.normalize=function(a){return"string"==typeof a?a.trim():void 0},c.prototype.history=function(){var a=this;return this.api({data:{tags:this.get("name")},url:"/tags/stats",success:function(b){var c;return c=b.pkg[a.get("name")],a.set({weekly_save_trend:c,bookmark_count:_.last(c)})}})},c.quote=function(a,b,c){return null==b&&(b=/"/g),null==c&&(c='\\"'),this.normalize(a).replace(b,c)},c.unquote=function(a,b,c){return null==b&&(b=/\\"/g),null==c&&(c='"'),this.normalize(a).replace(b,c)},c.prototype.remove=function(){var a=this;return this.api({data:{tag:this.get("name")},url:"/tags/delete",success:function(){var b;return b=d.user.get("tags"),_.remove(b,{name:a.get("name")}),d.user.set({tags:b}),a.trigger("destroy"),a.publishEvent("tags:managed")}})},c.prototype.rename=function(a){var b=this;return this.api({data:{old_tag:this.get("name"),new_tag:a},url:"/tags/rename",success:function(){var c,e,f;return c=b.get("name"),b.set({name:a}),f=d.user.get("tags"),e=_.where(f,{name:c}),_.each(e,function(b){return b.name=a}),d.user.set({tags:f}),b.publishEvent("tags:managed")}})},c}(c)})}.call(this),function(a){function b(){try{return h in a&&a[h]}catch(b){return!1}}function c(a){return function(){var b=Array.prototype.slice.call(arguments,0);b.unshift(e),i.appendChild(e),e.addBehavior("#default#userData"),e.load(h);var c=a.apply(f,b);return i.removeChild(e),c}}function d(a){return a.replace(l,"___")}var e,f={},g=a.document,h="localStorage";if(f.disabled=!1,f.set=function(){},f.get=function(){},f.remove=function(){},f.clear=function(){},f.transact=function(a,b,c){var d=f.get(a);null==c&&(c=b,b=null),"undefined"==typeof d&&(d=b||{}),c(d),f.set(a,d)},f.getAll=function(){},f.forEach=function(){},f.serialize=function(a){return JSON.stringify(a)},f.deserialize=function(a){if("string"!=typeof a)return void 0;try{return JSON.parse(a)}catch(b){return a||void 0}},b())e=a[h],f.set=function(a,b){return void 0===b?f.remove(a):(e.setItem(a,f.serialize(b)),b)},f.get=function(a){return f.deserialize(e.getItem(a))},f.remove=function(a){e.removeItem(a)},f.clear=function(){e.clear()},f.getAll=function(){var a={};return f.forEach(function(b,c){a[b]=c}),a},f.forEach=function(a){for(var b=0;b<e.length;b++){var c=e.key(b);a(c,f.get(c))}};else if(g.documentElement.addBehavior){var i,j;try{j=new ActiveXObject("htmlfile"),j.open(),j.write('<script>document.w=window</script><iframe src="/favicon.ico"></iframe>'),j.close(),i=j.w.frames[0].document,e=i.createElement("div")}catch(k){e=g.createElement("div"),i=g.body}var l=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");f.set=c(function(a,b,c){return b=d(b),void 0===c?f.remove(b):(a.setAttribute(b,f.serialize(c)),a.save(h),c)}),f.get=c(function(a,b){return b=d(b),f.deserialize(a.getAttribute(b))}),f.remove=c(function(a,b){b=d(b),a.removeAttribute(b),a.save(h)}),f.clear=c(function(a){var b=a.XMLDocument.documentElement.attributes;a.load(h);for(var c,d=0;c=b[d];d++)a.removeAttribute(c.name);a.save(h)}),f.getAll=function(){var a={};return f.forEach(function(b,c){a[b]=c}),a},f.forEach=c(function(a,b){for(var c,d=a.XMLDocument.documentElement.attributes,e=0;c=d[e];++e)b(c.name,f.deserialize(a.getAttribute(c.name)))})}try{var m="__storejs__";f.set(m,m),f.get(m)!=m&&(f.disabled=!0),f.remove(m)}catch(k){f.disabled=!0}f.enabled=!f.disabled,"undefined"!=typeof module&&module.exports?module.exports=f:"function"==typeof define&&define.amd?define("store",f):a.store=f}(this.window||global),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("models/tags",["models/base/collection","lib/encode","chaplin","lib/session","models/tag","store"],function(a,c,d,e,f,g){var h,i;return h=function(a){function d(){return i=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.model=f,d.prototype.initialize=function(a,b){return null==b&&(b={}),d.__super__.initialize.apply(this,arguments),b.subscribeToFetch?this.subscribeEvent("search:fetch",function(a){return this.urlParams.keywords=a.keywords,this.urlParams.tags=a.tags,this.reset([],{silent:!0}),this.fetch()
}):void 0},d.prototype.comparator=d.name_comparator,d.prototype.ensure_comparator=function(){return this.comparator="count"===g.get("tags:comparator")?this.count_comparator:this.name_comparator,this},d.prototype.count_comparator=function(a,b){var c,d;return(a.get("num_saves")||0)===(b.get("num_saves")||0)?(c=a.get("name").toLowerCase(),d=b.get("name").toLowerCase(),c>d?1:-1):(a.get("num_saves")||0)>(b.get("num_saves")||0)?-1:1},d.prototype.name_comparator=function(a){return a.get("name").toLowerCase()},d.prototype.sort_by_name=function(a){return this.comparator=this.name_comparator,a&&g.set("tags:comparator","name"),this.sort()},d.prototype.sort_by_count=function(a){return this.comparator=this.count_comparator,a&&g.set("tags:comparator","count"),this.sort()},d.prototype.history=function(){var a=this;return this.api({data:{tags:this.map(function(a){return a.get("name")}).join(",")},url:"/tags/stats",success:function(b){return _.each(_.keys(b.pkg),function(c){var d,e;return d=b.pkg[c],e=a.findWhere({name:c}),e.set({weekly_save_trend:d,bookmark_count:_.last(d)})}),a.trigger("change:history")}})},d.prototype.url=function(){var a,b,d,f,g,h,i,j,k;return this.urlParamDefaults||(this.urlParamDefaults={type:"public",tags:[],keywords:[],limit:20}),d=_.extend(this.urlParamDefaults,this.urlParams),h=d.tags,a=d.keywords,i=d.type,b=d.limit,j=d.username,_.isArray(h)&&h.length>0&&(h=_.map(h,function(a){return/%/.test(a)?decodeURIComponent(a):a})),f={tags:_.isArray(h)?h.join(","):h,keywords:_.isArray(a)?a.join(","):a,limit:b,anchor:this._anchor(),index:this._index()},j&&(j===(null!=(k=e.user)?k.get("username"):void 0)?i="you":(j=c(j),i="public/"+j)),g=function(){switch(i){case"trending":return"/tags/trending";default:return"/posts/"+i+"/tags"}}(),g+"?"+$.param(f)},d.prototype.parse=function(a){var b,c,e,g,h,i,j,k,l=this;return g=d.__super__.parse.call(this,a),g?(c=g.tags?(i=_.keys(g.tags),h=_.map(i,function(a){return g.tags[a]}),e=function(a,b,c){var d;return d=f.normalize(b),_.isEmpty(d)?a:(a[d]||(a[d]=0),a[d]+=h[c],a)},j=_.reduce(i,e,{}),b=j.length,delete j.length,j=_.map(j,function(a,b){var c;return{name:b,num_saves:a,owner:null!=(c=l.urlParams)?c.username:void 0}}),b?j.push({name:"length",num_saves:b}):void 0,j):g.best_tags?_.map(g.best_tags,function(a){return{name:f.normalize(a)}}):_.isArray(g)?_.map(g,function(a){return{name:a}}):[],(null!=(k=this.urlParams)?k.tags:void 0)?_.reject(c,function(a){return _.include(l.urlParams.tags,a.name)}):c):[]},d}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/base/modal",["views/base/hbsview"],function(a){var c,d;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.container="body",c.prototype.autoRender=!0,c.prototype.autoAttach=!0,c.prototype.containerMethod="append",c.prototype.className="modal fade",c.prototype.render=function(){var a=this;return c.__super__.render.apply(this,arguments),this.$el.attr("tabindex","-1"),this.$el.attr("role","dialog"),this.$el.attr("aria-labelledby","delicious-modal"),this.$el.attr("aria-hidden","true"),this.$el.on("hidden.bs.modal",_.bind(this.dispose,this)),this.$el.on("shown.bs.modal",function(){return a.$el.find("[autofocus]:first").focus()})},c.prototype.attach=function(){return c.__super__.attach.apply(this,arguments),this.$el.modal("show"),$("body").addClass("modal-on")},c.prototype.dispose=function(){return c.__super__.dispose.apply(this,arguments),$("body").removeClass("modal-open modal-on")},c.prototype.close=function(){return this.$el.modal("hide")},c}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/modals/forgot_password",["chaplin","lib/session","views/base/modal"],function(a,c,d){var e,f;return e=function(a){function d(){return f=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="modals/forgot_password",d.prototype.events={"submit form":"do_submit","click .submit-button":"do_submit"},d.prototype.do_submit=function(a){var b=this;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),this.$(".submit-button").prop("disabled","disabled"),c.user.forgotPassword(this.$("input[name='username']").val()).fail(function(a){return b.fail(a)}).done(function(){return b.success()})},d.prototype.fail=function(a){return this.$(".submit-button").prop("disabled",""),"not_found"===a.status?this.show_error("That username doesn't exist."):this.show_error(a.error.charAt(0).toUpperCase()+a.error.slice(1))},d.prototype.success=function(){return this.$(".send-success").removeClass("hidden"),this.show_error("")},d.prototype.show_error=function(a){return this.$(".error-msg").html(a)},d}(d)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/modals/create",["chaplin","lib/session","views/base/modal"],function(a,c,d){var e,f;return e=function(a){function d(){return f=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="modals/create",d.prototype.finished=!1,d.prototype.has_error=!1,d.prototype.initialize=function(a){return this.name=null!=a?a.name:void 0,this.email=null!=a?a.email:void 0},d.prototype.events={"blur input[name='username']":"check_username_availability","submit #create-account-form":"submit_form","change input[type='password']":"validate_password"},d.prototype.getTemplateData=function(){return{name:this.name,email:this.email}},d.prototype.render=function(){return d.__super__.render.apply(this,arguments),this.$el.on("hide.bs.modal",_.bind(this.confirm_close,this))},d.prototype.confirm_close=function(){return this.finished?void 0:confirm("Are you sure to abort registration?")},d.prototype.attach=function(){return d.__super__.attach.apply(this,arguments)},d.prototype.check_username_availability=function(){var a,b,d=this;return a=this.$("input[name='username']").val(),b=/^[a-zA-Z0-9]+(?:[_][a-zA-Z0-9]+)*$/,this.show_error(""),this.has_error=!1,a.length>0?b.test(a)?c.user.existsUser(a,function(b){return b.pkg?d.show_error("Sorry, the username <b>"+a+"</b> has already been taken. Please choose another username."):void 0}):(this.has_error=!0,this.show_error("The username contains illegal characters. Only letters, numbers and underscores are allowed.")):void 0},d.prototype.validate_password=function(){var a;return a=this.$("input[type='password']").val(),this.show_error(""),this.has_error=!1,a.indexOf(" ")>0?(this.has_error=!0,this.show_error("Sorry, space is not allowed in password.")):void 0},d.prototype.show_error=function(a){return this.$(".error").html(a)},d.prototype.submit_form=function(a){var b,d,e=this;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),this.has_error?void 0:(this.$(".join-button").prop("disabled","disabled"),b={full_name:this.$("input[name='display-name']").val(),display_name:this.$("input[name='display-name']").val(),email:this.$("input[name='email']").val(),username:this.$("input[name='username']").val(),password:this.$("input[name='password']").val(),recaptcha_challenge_field:this.$("input[name='recaptcha_challenge_field']").val(),recaptcha_response_field:this.$("input[name='recaptcha_response_field']").val()},d=c.user,d.set(b),d.register(b).done(function(){return e.finished=!0,e.$el.modal("hide"),ga("send","event","signup","create",e.name?"thirdparty":"direct"),c.user.loginSilent().done(function(){return c.pending_save?(ga("send","event","signup","from-button"),e.publishEvent("user:login")):e.publishEvent("!router:route","/"+d.get("username"))})}).fail(function(a){return e.$(".join-button").prop("disabled",""),"invalid_args"===a.status&&e.show_error(a.error),"invalid_captcha"===a.status&&(e.show_error("Captcha verification failed, please try again."),ga("send","event","signup","captcha-failed")),e.$("input[name='recaptcha_response_field']").val("")}))},d}(d)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/modals/login",["chaplin","lib/session","views/base/modal","views/modals/forgot_password","views/modals/create"],function(a,c,d,e,f){var g,h;return g=function(a){function d(){return h=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="modals/login",d.prototype.initialize=function(a){return d.__super__.initialize.apply(this,arguments),this.redirect_on_login=null!=a?a.redirect_on_login:void 0},d.prototype.events={"click .login-button":"do_login","submit form":"do_login","click a[href='#forget-password']":"do_forgot_password","click .thirdparty-login":"do_thirdparty_login","click a[href='#signup']":"on_signup_clicked"},d.prototype.do_login=function(a){var b,d,e=this;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),d=this.$("#login-form input[name=username]").val(),b=this.$("#login-form input[name=password]").val(),this.$("button").prop("disabled","disabled"),c.user.login({username:d,password:b}).done(function(){return e.login_success()}).fail(function(){return e.login_failed()})},d.prototype.do_thirdparty_login=function(a){var b,d=this;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),b=$(a.currentTarget).attr("data-service"),c.user.loginWithService(b).done(function(){return d.login_success()}).fail(function(a){var b,c;return a.newUser?(d.close,c=a.displayName,b=a.email,new f({name:c,email:b})):void 0})},d.prototype.login_success=function(){return this.close(),c.pending_save?(this.publishEvent("user:login"),void 0):this.redirect_on_login?this.publishEvent("!router:route","/"+c.user.get("username")):void 0},d.prototype.login_failed=function(){return this.$("button").prop("disabled",""),this.$(".help-inline").text("Incorrect username or password.")},d.prototype.do_forgot_password=function(a){return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),this.close(),new e,ga("send","event","signin","forgot-password")},d.prototype.on_signup_clicked=function(){return this.close()},d}(d)})}.call(this),function(){define("helpers/login_deferred",["chaplin","views/modals/login"],function(a,b){var c;return c=function(){function c(){this.deferred=new $.Deferred,this.subscribeEvent("login:success",this.resolve)}return _.extend(c.prototype,a.EventBroker),c.prototype.prompt=function(){return new b({redirect_on_login:!1}),this.deferred},c.prototype.resolve=function(){return this.deferred.resolve(),this.unsubscribeAllEvents()},c}()})}.call(this),function(){define("helpers/avatar_canvas",[],function(){var a,b,c,d,e;b="//delicious-icons.s3.amazonaws.com/default-avatar-2.jpg",e=200,d=200;try{a=$("<canvas width="+e+" height="+d+"></canvas>")[0]}catch(f){c=f,a=null}return function(f){var g,h;if(!a)return b;g=_.map(_.first(f.split(" "),2),function(a){return a.charAt(0)}).join("").toUpperCase();try{return h=a.getContext("2d"),h.clearRect(0,0,e,d),h.fillStyle="#EEEEEE",h.fillRect(0,0,e,d),h.font="100 96px sans-serif",h.textAlign="center",h.textBaseline="middle",h.fillStyle="#999999",h.fillText(g,e/2,d/2),a.toDataURL()}catch(i){return c=i,b}}})}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};define("models/user",["lib/popup","lib/avos","lib/encode","lib/obfuscate","chaplin","lib/session","models/base/model","models/tags","lib/logger","store","helpers/login_deferred","helpers/avatar_canvas"],function(b,d,e,f,g,h,i,j,k,l,m,n){var o,p;return o=function(d){function g(){return this.loginSuccess=a(this.loginSuccess,this),p=g.__super__.constructor.apply(this,arguments)}return c(g,d),g.prototype.defaults={isLoggedIn:!1},g.prototype.profile=function(a){var b,c=this;return null==a&&(a={}),b=this.get("username"),b?this.api({url:"/account/public/profile/"+e(b)}).done(function(a){return null!==a.pkg?c.set(c._userDataFromPackage(a.pkg)):void 0}):this},g.prototype.clone=function(){var a;return a=g.__super__.clone.apply(this,arguments),a.set({copy:!0}),a},g.prototype.set=function(a){return(null!=a?a.avatar_url:void 0)&&/default-avatar/.test(a.avatar_url)&&(a.avatar_url=n(a.full_name)),g.__super__.set.apply(this,arguments),this.isMe()&&this.get("isLoggedIn")&&!this.get("copy")?l.set("user",this):void 0},g.prototype.login=function(a){var b,c,d;return d=a.username,c=a.password,b={success:this.loginSuccess},$("html").hasClass("lt-ie10")?(d=e(d),c=encodeURIComponent(encodeURIComponent(c)).replace(".","%252E"),b.url="/account/webloginpwd/"+d+"/"+c):_.extend(b,{url:"/account/login",type:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:{username:d,password:f(c)}}),this.api(b)},g.prototype.loginSilent=function(){return this.api({url:"/account/webloginhash/"+e(this.get("username"))+"/"+this.get("password_hash"),type:"POST",success:this.loginSuccess})},g.prototype.loginSuccess=function(a){var b;return b=this._userDataFromPackage(a.pkg),b.isLoggedIn=!0,this.set(b),this.publishEvent("login:success")},g.prototype.loginWithService=function(a){var c,d,e=this;return k.log("Attempting to connect to "+a),c=new $.Deferred,d={url:"/auth/signin/"+a,crossWindowMessageName:"connect_to_delicious",popupWindowName:"SigninWith"+a,success:function(a){var b;return a.username&&a.password?(e.set({username:a.username,password_hash:a.password}),e.loginSilent().done(function(){return c.resolve()})):(a.displayName=null!=(b=a.displayName)?b.replace(/^@/,""):void 0,c.reject(a))}},("facebook"===a||"google"===a)&&(d=_.extend(d,{width:1e3,height:610})),b(d),c},g.prototype.logout=function(){return l.remove("user"),$.cookie("avid")&&$.removeCookie("avid",{domain:".delicious.com"}),this.clear(),this.set("isLoggedIn",!1,{silent:!0}),this.publishEvent("login:logout")},g.prototype.isMe=function(){var a;return(null!=(a=h.user)?a.get("username"):void 0)===this.get("username")},g.prototype.existsUser=function(a,b){return this.api({url:"/account/public/profile/"+a,success:function(a){return _.isFunction(b)?b(a):void 0}})},g.prototype.register=function(){var a=this;return this.api({url:"/account/registerw",data:this.toJSON(),type:"POST",success:function(b){return k.log("Created new user with pkg",b.pkg),a.set(b.pkg)}})},g.prototype.update=function(a){var b=this;return this.api({url:"/account/profile/edit",data:a,type:"POST",success:function(a){return k.log("Successfully updated user's profile",a.pkg),b.set(a.pkg)}})},g.prototype.deactivate=function(a){var b=this;return this.api({url:"/account/deactivate",data:a,type:"POST",success:function(a){return"success"===a.status?b.logout():void 0}})},g.prototype.changePassword=function(a){return a.user_id=this.get("id"),this.api({url:"/account/webchangepassword",type:"POST",data:a,success:function(a){return k.log("Account password updated",a.pkg)}})},g.prototype.forgotPassword=function(a){return this.api({url:"/account/forgot_password/"+a,type:"POST",success:function(a){return"success"===a.status?k.log("Password reset email sent. Response: ",a):void 0}})},g.prototype.resetPassword=function(a){return this.api({url:"/account/reset_password",type:"POST",data:a,success:function(a){return k.log("Account password has been reset",a.pkg)}})},g.prototype.updateAvatar=function(a){var b=this;return this.api({url:"/account/profile/edit_image",type:"POST",dataType:"json",data:a,processData:!1,contentType:!1,success:function(a){return _.delay(function(){return k.log("Successfully uploaded profile avatar",{user:a.pkg}),a.pkg.avatar_url=a.pkg.avatar_url+"?"+(new Date).getTime(),b.set(a.pkg)},1500)}})},g.prototype.validateEmail=function(a,b){return this.api({url:"/account/validate_email/"+a,success:function(){return b({success:!0})},error:function(a){var c;return c="invalid_args"===a.status?"Sorry, that url is invalid.":a.error,b({success:!1,error:c})}})},g.prototype._userDataFromPackage=function(a){var b,c,d,e,f;return b=a.account,f=_.extend({},b||a),null!=a.follows&&(c=_.sortBy(a.follows,function(a){return a.username.toLowerCase()}),f.follows=_.map(c,function(a){return{name:a.username,username:a.username,full_name:a.full_name}})),null!=a.user_tags&&(d=new j,e=d.parse({pkg:a.user_tags}),f.tags=d=d.reset(e).toJSON()),null!=a.bundle_names&&(f.tag_bundles=_.map(a.bundle_names,function(a){return{name:a}})),null!=a.weekly_save_trend&&(f.weekly_save_trend=a.weekly_save_trend),a.social&&(f.social=a.social),f.password_hash||delete f.password_hash,f},g.prototype.followUser=function(a){var b=this;return this.get("isLoggedIn")?this.api({url:"/account/follow/"+a.get("username"),type:"POST",success:function(){var c;return a.set({am_following_them:!0}),c=_.chain(b.get("follows")).push(a.toJSON()).value(),b.set("follows",c)}}):(new m).prompt().done(_.bind(this.followUser,this,a))},g.prototype.unfollowUser=function(a){var b=this;return this.api({url:"/account/unfollow/"+a.get("username"),type:"POST",success:function(){var c;return a.set({am_following_them:!1}),c=_.reject(b.get("follows"),function(b){return b.username===a.get("username")}),b.set("follows",c)}})},g.prototype.getFollowersUrl=function(){return"/account/public/followers/"+e(this.get("username"))},g.prototype.getFollowingUrl=function(){return"/account/public/follows/"+e(this.get("username"))},g}(i)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("models/note",["models/base/model","helpers/avatar_canvas"],function(a,c){var d,e;return d=function(a){function d(){return e=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.set=function(a){return a.avatar_url&&/default-avatar/.test(a.avatar_url)&&(a.avatar_url=c(a.full_name)),d.__super__.set.apply(this,arguments)},d}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("models/notes",["models/base/collection","models/note"],function(a,c){var d,e;return d=function(a){function d(){return e=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.model=c,d.prototype.url=function(){return _.defaults(this.urlParams,{limit:1}),this.urlParams.md5?"/posts/comments/time/"+this.urlParams.md5+"?"+$.param({limit:this.urlParams.limit,anchor:this._anchor(),exclude_yours:!1,include_empty:!0}):void 0},d.prototype.fetch=function(a){var b=this;return this.publishEvent("notes:load-start"),d.__super__.fetch.call(this,a).done(function(){return b.publishEvent("notes:load-finish")})},d.prototype.comparator=function(a){return a.get("time_created")},d}(a)})}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};define("models/link",["lib/logger","chaplin","lib/session","models/base/model","models/notes","models/tag","models/tags","helpers/avatar_canvas"],function(b,d,e,f,g,h,i,j){var k,l;return k=function(d){function f(){return this.compose=a(this.compose,this),l=f.__super__.constructor.apply(this,arguments)}return c(f,d),f.prototype.set=function(a){var b,c;return a.save_rank&&a.num_saves&&(a.num_saves=Math.max(a.save_rank,a.num_saves)),b=[a.first_saver,null!=(c=a.savers)?c[0]:void 0],_.each(b,function(a){return(null!=a?a.avatar_url:void 0)&&/default-avatar/.test(a.avatar_url)?a.avatar_url=j(a.full_name):void 0}),f.__super__.set.call(this,a)},f.prototype.addOrEdit=function(a){var c=this;return this.api({data:a,url:"/posts/addoredit",type:"POST",success:function(a){var d,f;return b.log("Successfully saved link"),f=c.get("savers")||[],d=e.user.toJSON(),c.set("savers",[d].concat(f)),a.pkg&&c.set(a.pkg[0]),c.trigger("save")}})},f.prototype.bulkEdit=function(a){return this.api({data:a,url:"/tag/edit/all"})},f.prototype.compose=function(){var a=this;return this.api({data:{url:this.get("url")},url:"/posts/compose",success:function(b){return null==b.pkg||(a.set({recommended:b.pkg}),b.pkg.previously_saved!==!0||(a.get("title")||a.set("title",b.pkg.suggested_title),a.get("tags")||a.set("tags",b.pkg.previous_tags),a.get("note")))?void 0:a.set("note",b.pkg.note)}})},f.prototype.bulk_size=60,f.prototype.deleteAll=function(a){var b=this;return this.api({data:{md5s:a},url:"/links/delete",type:"POST",success:function(){return b.publishEvent("links:deleted",a.length)}})},f.prototype.markAs=function(a,b){return this.api({data:{md5s:b},type:"POST",url:"/links/make/"+a})},f.prototype.notes=function(){return new g([],{urlParams:{md5:this.get("md5")}})},f.prototype.tags=function(){return _.uniq(_.map(this.get("tags"),function(a){return h.normalize(a)}))},f.prototype.relatedTags=function(a){return new i([],{urlParams:{type:"related",tags:a}})},f.prototype.remove=function(){var a=this;return this.api({data:{md5:this.get("md5")},type:"POST",url:"/posts/delete",success:function(){return a.destroy(),a.publishEvent("links:deleted",1)}})},f}(f)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b},c=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};define("views/sidebar",["views/base/hbsview","models/user","models/link","chaplin","lib/session","store","helpers/login_deferred"],function(a,d,e,f,g,h,i){var j,k;return j=function(a){function d(){return k=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="sidebar",d.prototype.autoRender=!0,d.prototype.autoAttach=!1,d.prototype.container="#delicious",d.prototype.containerMethod="prepend",d.prototype.className="sidebar",d.prototype.last_sidebar_page_update_event=null,d.prototype.events={"submit #location-bar":"goto","click a.site-nav-user-link":"trigger_appcache_update","click ul.site-nav-links a":"sidebar_click_check","click div.site-nav-toggle a":"toggle_mobile_nav","click ul.site-nav-links.on a":"remove_mobile_nav","click a.site-nav-user-link":"remove_mobile_nav","focus #site-search":"on_focus_search","keyup #site-search":"on_search_keyup","keydown #site-search":"on_search_keydown","blur #site-search":"on_blur_search","click ul.search-bar-tip li.suggestion":"on_click_search_suggestion","click a[href='#login']":"track_login"},d.prototype.initialize=function(a){return this.subscribeEvent("sidebar:change",this.update_sidebar),this.subscribeEvent("login:success",this.render),this.subscribeEvent("login:logout",this.render),d.__super__.initialize.call(this,a)},d.prototype.render=function(){return d.__super__.render.apply(this,arguments),this.last_sidebar_page_update_event?this.update_sidebar(this.last_sidebar_page_update_event):void 0},d.prototype.attach=function(){return d.__super__.attach.apply(this,arguments),this.hide()},d.prototype.trigger_appcache_update=function(){return window.applicationCache&&window.applicationCache.status>0?window.applicationCache.update():void 0},d.prototype.update_sidebar=function(a){var b;switch(a.action){case"show":return this.show();case"hide":return this.hide();case"page":return this.last_sidebar_page_update_event=a,this.$(".site-nav-links li").removeClass("on"),this.$(".site-nav-search").removeClass("on"),this.$(".site-nav-search form").attr("data-icon",""),this.$("#site-search").val(""),/^[@#]/.test(a.location)?(this.$("#site-search").val(a.location),this.$(".site-nav-search").addClass("on"),this.$(".site-nav-search form").attr("data-icon","")):/^".*?"$/.test(a.location)?(b=a.location.length,this.$("#site-search").val(a.location.substring(1,b-1)),this.$(".site-nav-search").addClass("on"),this.$(".site-nav-search form").attr("data-icon","")):this.$(".nav-item-"+a.location).addClass("on")}},d.prototype.break_search_tokens=function(a){return a.match(/#?"[^"]*?"|[#@\S]+/g)},d.prototype.goto=function(a){var b,d,f,h,i,j,k,l,m=this;return null!=a&&a.preventDefault(),j=this.$("#site-search").val(),/^https?:\/\//.test(j)?(b=new e({url:j}),b.compose().done(function(){var a;return a=b.get("recommended").md5,a?m.publishEvent("!router:route","/link/"+a):void 0}),void 0):(k=_.filter(this.break_search_tokens(j),function(a){return a}),l=_.find(k,function(a){return"@"===a.charAt(0)}),i=_.filter(k,function(a){return"#"===a.charAt(0)}),h=_.find(k,function(a){return/^\[.*\]$/.test(a)}),f=_.reject(k,function(a){return a===l||c.call(i,a)>=0||a===h}),l&&(l=l.substring(1)),g.user&&"me"===l&&(l=g.user.get("username")),_.isEmpty(i)||(i=_.map(i,function(a){return encodeURIComponent(a.substring(1).replace(/"/g,""))})),_.isEmpty(h)||(h=h.substring(1,h.length-1)),_.isEmpty(f)||(f=_.map(f,function(a){return encodeURIComponent(a)})),d="",l&&(d+="/"+l),_.isEmpty(i)?h&&l&&(d+="/tag_bundle/"+h):d+=l?"/"+i.join(","):"/tag/"+i[0],!(_.isEmpty(f)||!l&&!_.isEmpty(i)||!(d+="/search/"+f.join(","))),ga("send","event","sidebar","search",j),_.isEmpty(d)?void 0:this.publishEvent("!router:route",d))},d.prototype.toggle_mobile_nav=function(a){return a.preventDefault(),this.$(".site-nav-links").toggleClass("on")},d.prototype.remove_mobile_nav=function(a){return a.preventDefault(),this.$(".site-nav-links").removeClass("on")},d.prototype.on_focus_search=function(a){return this.on_search_keyup(a),this.$(".site-nav-search").addClass("focus")},d.prototype.on_search_keydown=function(a){var b;return b=a.which,9===b?!1:13===b&&this.$("li.suggestion-noac.selected").length>0?(this.$("li.suggestion-noac.selected").click(),!1):void 0},d.prototype._update_text_on_cursor=function(a,b){return a.hasClass("suggestion-noac")?a.hasClass("suggestion-mine")||a.hasClass("suggestion-someone")?this.$("#site-search").val(b.trim().replace(/(@.*?\s)?(.*)$/,"$1"+$("b",a).text())):a.hasClass("suggestion-all")||a.hasClass("suggestion-user")?this.$("#site-search").val($("b",a).text()):void 0:this.$("#site-search").val(b.trim().replace(/(.*\s)*(.*)$/,"$1"+a.text()))},d.prototype.on_search_keyup=function(a){var b,c,d,e,f,h,i,j,k,l,m,n,o,p,q,r,s;return this.$(".search-bar-tip").slideDown(200),n=this.$("#site-search").val(),e=a.which,40===e||9===e?(d=this.$(".search-bar-tip li.selected").removeClass("selected").nextAll(".suggestion").first(),d.length>0?d.addClass("selected"):d=this.$(".search-bar-tip li.suggestion").first().addClass("selected"),this._update_text_on_cursor(d,n),void 0):38===e?(d=this.$(".search-bar-tip li.selected").removeClass("selected").prevAll(".suggestion").first(),d.length>0?d.addClass("selected"):d=this.$(".search-bar-tip li.suggestion").last().addClass("selected"),this._update_text_on_cursor(d,n),void 0):(27===e&&(this.$(".site-nav-search input").blur(),this.on_blur_search()),this.$(".list-group-item.suggestion").remove(),h=[],/^https?:\/\//.test(n)?h.push("<li class='list-group-item suggestion suggestion-noac suggestion-all'>Show this link on Delicious</li>"):n&&(k=this.break_search_tokens(n),j=_.last(k),"@"===j.charAt(0)?(c=_.clone(null!=(o=g.user)?o.get("follows"):void 0)||[],(null!=(p=g.user)?p.get("isLoggedIn"):void 0)&&c.push({name:g.user.get("username")}),b=_.filter(c,function(a){return 0===a.name.indexOf(j.substring(1))}),h=_.map(b,function(a){return"<li class='list-group-item suggestion'>@"+_.escape(a.name)+"</li>"})):"#"===j.charAt(0)&&(i=null!=(q=g.user)?q.get("tags"):void 0,b=_.filter(i,function(a){return 0===a.name.toLowerCase().indexOf(j.substring(1).toLowerCase())}),h=_.map(b,function(a){return"<li class='list-group-item suggestion'>#"+_.escape(a.name)+"</li>"})),(null!=(r=g.user)?r.get("isLoggedIn"):void 0)&&_.all(k,function(a){return"@"!==a.charAt(0)})&&(h.push("<li class='list-group-item suggestion suggestion-noac suggestion-mine'>Search <b>"+n+"</b> in my links</li>"),h.push("<li class='list-group-item suggestion suggestion-noac suggestion-all'>Search <b>"+n+"</b> in Delicious</li>")),(null!=(s=g.user)?s.get("isLoggedIn"):void 0)&&k.indexOf("@"+g.user.get("username"))>-1?(f=n.replace("@"+g.user.get("username"),"").trim(),f.length>0&&h.push("<li class='list-group-item suggestion suggestion-noac suggestion-mine'>Search <b>"+f+"</b> in my links</li>")):_.any(k,function(a){return"@"===a.charAt(0)})&&(k=this.break_search_tokens(n.trim()),_.every(k,function(a){return"@"===a.charAt(0)})?(l=_.find(k,function(a){return"@"===a.charAt(0)}).trim().substring(1),g.user&&"me"===l&&(l=g.user.get("username")),h.push("<li class='list-group-item suggestion suggestion-noac suggestion-user'>Go to <b>@"+l+"</b>&rsquo;s profile</li>")):(l=_.find(k,function(a){return"@"===a.charAt(0)}).trim().substring(1),g.user&&"me"===l&&(m=g.user.get("username")),f=n.replace("@"+l,"").trim(),f.length>0&&h.push("<li class='list-group-item suggestion suggestion-noac suggestion-someone'>Search <b>"+f+"</b> in @"+m+"&rsquo;s links</li>")))),this.$(".search-bar-tip").prepend(h.join("")),n.length>0&&n.trim()!=="@"+g.user.get("username")?this.$(".list-group-item.help").hide():this.$(".list-group-item.help").show())},d.prototype.on_click_search_suggestion=function(a){var b,c,d,e,f,h;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),b=$(a.currentTarget),c=b.text(),f=this.$("#site-search").val(),b.hasClass("suggestion-mine")?(f=f.replace(/@.+?\s/,""),e=null!=(h=g.user)?h.get("username"):void 0,this.$("#site-search").val("@"+e+" "+f),this.$("#location-bar").submit()):b.hasClass("suggestion-all")||b.hasClass("suggestion-someone")||b.hasClass("suggestion-user")?this.$("#location-bar").submit():(d=_.filter(f.split(" "),function(a){return a}),d.length>0?d[d.length-1]=c:d=[c],this.$("#site-search").val(d.join(" ")+" ")),this.$(".list-group-item.suggestion").remove()},d.prototype.on_blur_search=function(){var a=this;return _.delay(function(){return a.$(".search-bar-tip").slideUp(200)},200),this.$(".site-nav-search").removeClass("focus")},d.prototype.sidebar_click_check=function(a){var b,c,d=this;return a.preventDefault(),b=$(a.currentTarget),c=b.attr("href"),0!==c.indexOf("#")?(b.hasClass("login-check")&&!g.user.get("isLoggedIn")?(new i).prompt().done(function(){return d.publishEvent("!router:route",c)}):this.publishEvent("!router:route",c,{forceStartup:!0}),!1):void 0},d.prototype.track_login=function(){return ga("send","event","sidebar","login")},d}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/notification",["views/base/hbsview","store"],function(a,c){var d,e;return d=function(a){function d(){return e=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="notification",d.prototype.autoRender=!0,d.prototype.autoAttach=!0,d.prototype.initialize=function(a){return a||(a=[]),this.message=a.message,this.id=a.id,this.type=a.type||"news",this.subscribeEvent("page:disposed",this.do_check_dispose),"news"===this.type&&this.subscribeEvent("page:loaded",this.attach),d.__super__.initialize.apply(this,arguments)},d.prototype.do_check_dispose=function(){return"notification"===this.type?this.dispose():void 0},d.prototype.events={"closed.bs.alert .alert":"on_close"},d.prototype.getTemplateData=function(){return{message:this.message,type:this.type}},d.prototype.on_close=function(){return this.id&&c.set(this.id,!0),this.dispose
},d.prototype.render=function(){return d.__super__.render.apply(this,arguments),this.$el.addClass(this.type)},d.prototype.attach=function(){return $(".content-wrapper").prepend(this.$el)},d}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/modals/signup",["chaplin","lib/session","views/base/modal","views/modals/create","views/modals/login"],function(a,c,d,e,f){var g,h;return g=function(a){function d(){return h=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="modals/signup",d.prototype.initialize=function(){return d.__super__.initialize.apply(this,arguments)},d.prototype.events={"click .create-account":"open_create_dialog","click .thirdparty-login":"do_thirdparty_signup","click .switch-signin":"switch_to_signin"},d.prototype.open_create_dialog=function(a){return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),this.close(),new e({name:null!=a?a.name:void 0,email:null!=a?a.email:void 0})},d.prototype.switch_to_signin=function(a){return a.preventDefault(),this.close(),new f({redirect_on_login:!0})},d.prototype.login_failed=function(a){var b,c;return a.newUser?(c=a.displayName,b=a.email,this.open_create_dialog({name:c,email:b})):void 0},d.prototype.do_thirdparty_signup=function(a){var b,d=this;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),b=$(a.currentTarget).attr("data-service"),c.user.loginWithService(b).done(function(){return d.publishEvent("!router:route","/"+c.user.get("username")),d.close()}).fail(function(a){return d.login_failed(a)})},d}(d)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/modals/help",["views/base/modal","lib/session"],function(a,c){var d,e;return d=function(a){function d(){return e=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="modals/help",d.prototype.initialize=function(){return d.__super__.initialize.apply(this,arguments),c.help_modal=!0},d.prototype.dispose=function(){return d.__super__.dispose.apply(this,arguments),c.help_modal=!1},d}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b},c=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};define("models/connect",["chaplin","lib/session","models/base/model","lib/popup"],function(a,d,e,f){var g,h;return g=function(a){function e(){return h=e.__super__.constructor.apply(this,arguments)}return b(e,a),e.prototype.defaults={privacy_options:[{value:"ALL_PUBLIC",text:"make 'em all public"},{value:"ALL_PRIVATE",text:"make 'em all private"},{value:"AUTOMATIC",text:"use the same privacy"}]},e.prototype.initialize=function(){return e.__super__.initialize.apply(this,arguments)},e.prototype.connect=function(a,b){var e,g=this;return e={url:"/connect/to/"+this.get("providerId")+"?active="+a,crossWindowMessageName:"connect_to_delicious",popupWindowName:"Connect_To_"+this.get("providerId")+"_From_Delicious",success:function(a){var e,f;return e=d.user.get("social"),f=g.get("providerId").toUpperCase(),c.call(e,f)<0&&(e.push(g.get("providerId").toUpperCase()),d.user.set({social:e})),_.isFunction(b)?b(a):void 0}},"facebook"===this.get("providerId")&&(e=_.extend(e,{width:1e3,height:610})),f(e)},e.prototype.disconnect=function(){var a=this;return this.api({url:"/connect/delete/"+this.get("providerId"),type:"POST",success:function(){var b,c;return null!=(c=a.collection)&&c.remove(a),b=d.user.get("social"),b=_.reject(b,function(b){return b===a.get("providerId").toUpperCase()}),d.user.set({social:b}),a.dispose()}})},e.prototype.update=function(a,b){var c=this;return this.api({url:"/connect/update/"+this.get("providerId")+"/"+this.get("providerUserId"),type:"POST",data:a,success:function(){return _.isFunction(b)?b(c):void 0}})},e}(e)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b},c=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};define("views/widgets/tag_input",["views/base/hbsview"],function(a){var d,e;return d=function(a){function d(){return e=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="widgets/tag_input",d.prototype.autoRender=!0,d.prototype.autoAttach=!0,d.prototype.initialize=function(a){return d.__super__.initialize.call(this,a),this.name=a.name,this.tags=a.tags,this.delimeter=",",this.value=a.value,this.multiline=a.multiline||!1,this.on_change=a.on_change||function(){}},d.prototype.events={"keyup .tag-input":"on_input_up","keydown .tag-input":"on_input_down","blur .tag-input":"on_input_blur","click .tag-input-candidates li":"on_click_candidate_item","mouseover .tag-input-candidates li":"on_hover_candidate_item","change .tag-input":"on_input_change"},d.prototype.on_input_change=function(a){return this.on_change(a)},d.prototype.on_hover_candidate_item=function(a){return this.$(".tag-input-candidates li.on").removeClass("selected"),$(a.currentTarget).addClass("selected")},d.prototype.on_click_candidate_item=function(a){var b;return b=$(a.currentTarget),this.set_last_tag(b.text())},d.prototype.on_input_blur=function(){var a=this;return setTimeout(function(){return a.$(".tag-input-candidates li.on").removeClass("on"),a.$(".tag-input-candidates").hide()},200)},d.prototype.on_input_down=function(a){var b,c,d,e,f;return e=a.which,9===e&&(c=this.$(".tag-input-candidates li.on"),c.length>1?(b=!0,e=a.shiftKey?38:40):1===c.length&&(c.addClass("selected"),e=13)),13===e?(f=this.$(".tag-input-candidates li.selected").text(),f?(this.set_last_tag(f),this.update_candidate_list(),!1):!0):40===e?(d=this.$(".tag-input-candidates li.selected").removeClass("selected").nextAll(".on").first(),d.length>0?d.addClass("selected"):d=this.$(".tag-input-candidates li.on").first().addClass("selected"),b&&this.set_last_tag(d.text(),!0),this.scroll_to_selection(d),!1):38===e?(d=this.$(".tag-input-candidates li.selected").removeClass("selected").prevAll(".on").first(),d.length>0?d.addClass("selected"):d=this.$(".tag-input-candidates li.on").last().addClass("selected"),b&&this.set_last_tag(d.text(),!0),this.scroll_to_selection(d),!1):this.$(".tag-input-candidates").show()},d.prototype.on_input_up=function(a){var b;return b=a.which,9===b||13===b||38===b||40===b?!1:188===b?(this.$(".tag-input-candidates li").removeClass("on"),void 0):(this.update_candidate_list(),this.on_change())},d.prototype.update_candidate_list=function(){var a,b;return b=this.get_current_editing(),a=_.map(this.get_value_array(),function(a){return a.toLowerCase().trim()}).slice(0,-1),this.$(".tag-input-candidates li").removeClass("selected on"),b?_.each(this.$(".tag-input-candidates li"),function(d){var e,f;return e=$(d),f=e.text().toLowerCase(),f.indexOf(b.toLowerCase())>-1&&c.call(a,f)<0?e.addClass("on"):void 0}):void 0},d.prototype.scroll_to_selection=function(a){var b,c,d;return b=this.$(".tag-input-candidates"),d=a.offset().top,c=b.offset().top,b.scrollTop(d-c+b.scrollTop())},d.prototype.getTemplateData=function(){var a;return{tags:this.tags,name:this.name,value:null!=(a=this.value)?a.join(", "):void 0,multiline:this.multiline}},d.prototype.get_values=function(){return this.$(".tag-input").val()},d.prototype.get_value_array=function(){return this.get_values().split(this.delimeter)},d.prototype.set_values=function(a){var b;return b=_.isArray(a)?a.join(this.delimeter+" "):a,this.$(".tag-input").val(b)},d.prototype.get_current_editing=function(){var a;return a=this.get_value_array(),a[a.length-1].trim()},d.prototype.set_last_tag=function(a,b){var c;return c=this.get_value_array(),a?c[c.length-1]=b?c[c.length-1].replace(/\S(.*)$/,""+a):c[c.length-1].replace(/\S(.*)$/,""+a+", "):c=c.slice(0,c.length-1),this.$(".tag-input").val(c.join(this.delimeter))},d.prototype.append_value=function(a){var b;return c.call(this.get_value_array(),a)<0&&(b=this.get_values(),!b.trim()||/,\s*$/.test(b)||(b+=", ")),this.set_values(b+a+", ")},d.prototype.remove_value=function(a){var b;return b=this.get_value_array(),b=_.reject(b,function(b){return b.trim()===a}),this.set_values(b.join(this.delimeter))},d}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/widgets/compose_result",["views/base/hbsview"],function(a){var c,d;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.template="widgets/compose_result",c.prototype.autoRender=!0,c.prototype.autoAttach=!0,c.prototype.container="body",c.prototype.events={"click div.compose-result-backdrop":"dispose"},c.prototype.initialize=function(a){var b=this;return c.__super__.initialize.apply(this,arguments),this.finish_callback=a.finish_callback||null,_.delay(function(){return b.dispose()},3e3)},c.prototype.attach=function(){var a;return c.__super__.attach.apply(this,arguments),a=this.$(".compose-result"),a.css("margin-left",-(a.width()/2))},c.prototype.dispose=function(){return c.__super__.dispose.apply(this,arguments),_.isFunction(this.finish_callback)?this.finish_callback():void 0},c}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b},c=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};define("views/modals/compose_link",["chaplin","lib/session","views/base/modal","lib/avos","store","models/connect","views/widgets/tag_input","helpers/login_deferred","views/modals/signup","views/widgets/compose_result"],function(a,d,e,f,g,h,i,j,k,l){var m,n;return m=function(a){function e(){return n=e.__super__.constructor.apply(this,arguments)}return b(e,a),e.prototype.template="modals/compose_link",e.prototype.initialize=function(a){var b,c,f,g,h,i;return e.__super__.initialize.apply(this,arguments),this.finish_callback=null!=a?a.finish_callback:void 0,this.url_edit=a.url_edit||!1,this.anonymous=null!=(b=d.user)?!b.get("isLoggedIn"):!0,this.show_result=a.show_result||!1,this.result_shown=!1,(null!=(c=this.model.get("recommended"))?c.previously_saved:void 0)&&(this.url_edit=!1,this.model.set({replace:null!=(f=this.model.get("recommended"))?f.previously_saved:void 0,tags:null!=(g=this.model.get("recommended"))?g.previous_tags:void 0,note:null!=(h=this.model.get("recommended"))?h.previously_saved_note:void 0,"private":null!=(i=this.model.get("recommended"))?i.previously_saved_privacy:void 0})),this.anonymous?(ga("send","event","editor","anonymous"),this.subscribeEvent("user:login",this.do_submit)):void 0},e.prototype.events={"click a[href='#compose-login']":"login","submit form":"submit_add_edit","click button.text-btn-primary":"submit_add_edit","click button.text-btn-danger":"submit_remove","click span.tag-suggestion-item":"clicking_tag","change #inputLinkTags":"update_tag_selection","keyup #textareaLinkComment":"update_chars_remaining","click .checkbox-privacy":"toggle_checkbox_privacy","click .checkbox-social":"toggle_checkbox_social"},e.prototype.login=function(a){var b=this;return this.$el.removeClass("in"),a.preventDefault(),(new j).prompt().done(function(){return b.anonymous=!1,b.render(),b.$el.addClass("in")})},e.prototype.update_chars_remaining=function(){var a,b;return b=this.$("#textareaLinkComment").val().length,a=1e3-b,a>=0?this.$(".comment_chars_remaining").removeClass("error").text(a):this.$(".comment_chars_remaining").addClass("error").text(a)},e.prototype.submit_add_edit=function(a){var b,c,e,f=this;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),this.$("button.text-btn-primary").text("Saving...").prop("disabled","disabled"),e=_.map(["twitter","facebook"],function(a){var b;return b=f.$("input[name='share-"+a+"']").prop("checked"),g.set("compose:share-"+a,b),b?a:""}),e=_.filter(e,function(a){return a}),e=e.join(","),c=this.$("input[name='private']")[0].checked,g.set("compose:private",c),b={url:this.$("input[name='url']").val(),description:this.$("input[name='title']").val(),tags:this.$("input[name='tags']").val(),note:this.$("textarea[name='note']").val(),replace:this.$("input[name='replace']").val(),"private":c,share:e},this.anonymous?(d.pending_save=b,new k,this.$el.addClass("hide"),this.$("button.text-btn-primary").text("Save").prop("disabled","")):this.do_submit(b),ga("send","event","editor","submit"),this.$("textarea[name='note']").val()&&ga("send","event","editor","submit-with-note"),e&&ga("send","event","editor","submit-with-share"),this.$("input[name='tags']").val()&&ga("send","event","editor","submit-with-tags"),c?ga("send","event","editor","submit-with-private"):void 0},e.prototype.do_submit=function(a){var b,c,e=this;return a||(a=d.pending_save),a?(b=null!=(c=this.model.get("recommended"))?!c.previously_saved:!0,this.model.addOrEdit(a).done(function(){var a;return a=e.model.clone(),b&&e.publishEvent("links:new"),e.show_result&&(new l({model:a,finish_callback:e.finish_callback}),e.result_shown=!0),e.$el.modal("hide"),d.pending_save=null})):void 0},e.prototype.submit_remove=function(a){var b=this;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),confirm("Are you sure to delete this link?")&&(this.$("button.text-btn-danger").text("Deleting...").attr("disabled","disabled"),this.model.remove().done(function(){return b.$el.modal("hide")})),ga("send","event","editor","delete")},e.prototype.filter_invalid_tags=function(a){var b=this;return _.reject(a,function(a){var d;return 0===a.indexOf("!")?!0:(d=a.toLowerCase().replace(" ","").replace(":",""),/^[0-9]*$/.test(d)?!0:c.call(b.blacklist,d)>=0?!0:!1)})},e.prototype.getTemplateData=function(){var a,b;return a=e.__super__.getTemplateData.apply(this,arguments),b=d.user.get("social")||[],a.twitter=c.call(b,"TWITTER")>=0,a.twitter&&(a.twitter_checked=g.get("compose:share-twitter")),a.facebook=c.call(b,"FACEBOOK")>=0,a.facebook&&(a.facebook_checked=g.get("compose:share-facebook")),a.time_created||(a["private"]=g.get("compose:private")),a.url_edit=this.url_edit,a.anonymous=this.anonymous,a},e.prototype.enhanceCommentInput=function(){var a,b,c;return a=this.$("textarea.autoresize"),c=function(){return a.height("auto"),a.outerHeight(a.prop("scrollHeight")+1)},b=function(){return setTimeout(c,1)},a.on("change",c).on("cut",b).on("paste",b).on("drop",b).on("keydown",b),setTimeout(c,500)},e.prototype.render=function(){var a=this;return this.$(".checkbox-action").tooltip("destroy"),e.__super__.render.apply(this,arguments),this.enhanceCommentInput(),this.update_chars_remaining(),this.tag_input=new i({el:this.$(".tags-input-container"),tags:d.user.get("tags"),name:"tags",value:this.model.get("tags"),on_change:_.bind(this.update_tag_selection,this)}),this.subview("taginput",this.tag_input),_.each(this.model.get("tags"),function(b){var c;return c=b.replace("\\","\\\\"),a.$("span.tag-suggestion-item[data-tag='"+c+"']").addClass("on")}),this.$(".inline-help").popover(),this.$(".checkbox-action").tooltip({container:".modal-body",animation:!1,html:!0}),this.$("input[name='title']").val()&&!this.$("input[name='tags']").val()&&(this.$("input[name='title']").prop("autofocus",""),this.$("input[name='tags']").prop("autofocus","autofocus")),ga("send","event","editor","open")},e.prototype.clicking_tag=function(a){var b,c;return b=$(a.currentTarget),c=b.attr("data-tag"),b.hasClass("on")?this.tag_input.remove_value(c):(this.tag_input.append_value(c),ga("send","event","editor","select-tag",c)),this.update_tag_selection()},e.prototype.update_tag_selection=function(){var a,b=this;return this.$("span.tag-suggestion-item").removeClass("on"),a=this.tag_input.get_value_array(),_.each(a,function(a){var c;return c=a.trim().replace("\\","\\\\"),b.$("span.tag-suggestion-item[data-tag='"+c+"']").addClass("on")})},e.prototype.dispose=function(){return this.$(".checkbox-action").tooltip("destroy"),e.__super__.dispose.apply(this,arguments),_.isFunction(this.finish_callback)&&!this.result_shown?this.finish_callback():void 0},e.prototype.toggle_checkbox_privacy=function(a){var b,c;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),b=$(a.currentTarget),c=b.children("span"),b.children("i").toggleClass("d-icon-unlocked"),b.children("input").prop("checked",function(a,b){return!b}),"Private"===c.text()?(c.text("Public"),b.addClass("on"),b.prop("title","This link is publicly visible").tooltip("fixTitle").tooltip("show")):(this.$(".checkbox-social").removeClass("on"),this.$(".checkbox-social input").prop("checked",""),c.text("Private"),b.removeClass("on"),b.prop("title","This link is private").tooltip("fixTitle").tooltip("show"))},e.prototype.toggle_checkbox_social=function(a){var b,c,d;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),b=$(a.currentTarget),b.hasClass("unavailable")?(c=b.attr("data-service"),d=new h({providerId:c}),d.connect(!1,function(a){return"success"===a.status?(ga("send","event","editor","bind",c),b.children("input").prop("checked","checked"),b.removeClass("unavailable")):void 0}),void 0):(b.toggleClass("on"),b.children("input").prop("checked",function(a,b){return!b}))},e}(e)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/modals/add_link",["chaplin","lib/session","views/base/modal","views/modals/compose_link","models/link"],function(a,c,d,e,f){var g,h;return g=function(a){function d(){return h=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="modals/add_link",d.prototype.initialize=function(){return d.__super__.initialize.apply(this,arguments),c.add_link_modal=!0},d.prototype.events={"paste #url-input":"check_and_prepend_scheme","click button.text-btn-primary":"submit_dialog","submit form":"submit_dialog"},d.prototype.submit_dialog=function(a){var b,c,d=this;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),c=this.$("input[type='url']").val(),b=new f({url:c}),this.$("button.text-btn-primary").text("Adding...").prop("disabled","disabled"),b.compose().done(function(){return d.$el.modal("hide"),new e({model:b})}).fail(function(){return d.$("button.text-btn-primary").text("Add link").prop("disabled","")}),ga("send","event","addlink","submit")},d.prototype.dispose=function(){return delete c.add_link_modal,d.__super__.dispose.apply(this,arguments)},d.prototype.check_and_prepend_scheme=function(){var a=this;return _.delay(function(){var b;return b=a.$("#url-input").val(),b.trim()&&!/^https?:\/\//.test(b)?a.$("#url-input").val("http://"+b):void 0},250)},d}(d)})}.call(this),function(a,b){function c(a,b,c){return a.addEventListener?(a.addEventListener(b,c,!1),void 0):(a.attachEvent("on"+b,c),void 0)}function d(a){if("keypress"==a.type){var b=String.fromCharCode(a.which);return a.shiftKey||(b=b.toLowerCase()),b}return w[a.which]?w[a.which]:x[a.which]?x[a.which]:String.fromCharCode(a.which).toLowerCase()}function e(a,b){return a.sort().join(",")===b.sort().join(",")}function f(a){a=a||{};var b,c=!1;for(b in C)a[b]?c=!0:C[b]=0;c||(F=!1)}function g(a,b,c,d,f,g){var h,i,j=[],k=c.type;if(!A[a])return[];for("keyup"==k&&l(a)&&(b=[a]),h=0;h<A[a].length;++h)if(i=A[a][h],(d||!i.seq||C[i.seq]==i.level)&&k==i.action&&("keypress"==k&&!c.metaKey&&!c.ctrlKey||e(b,i.modifiers))){var m=!d&&i.combo==f,n=d&&i.seq==d&&i.level==g;(m||n)&&A[a].splice(h,1),j.push(i)}return j}function h(a){var b=[];return a.shiftKey&&b.push("shift"),a.altKey&&b.push("alt"),a.ctrlKey&&b.push("ctrl"),a.metaKey&&b.push("meta"),b}function i(a,b,c){H.stopCallback(b,b.target||b.srcElement,c)||a(b,c)===!1&&(b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation(),b.returnValue=!1,b.cancelBubble=!0)}function j(a,b,c){var d,e=g(a,b,c),h={},j=0,k=!1;for(d=0;d<e.length;++d)e[d].seq&&(j=Math.max(j,e[d].level));for(d=0;d<e.length;++d)if(e[d].seq){if(e[d].level!=j)continue;k=!0,h[e[d].seq]=1,i(e[d].callback,c,e[d].combo)}else k||i(e[d].callback,c,e[d].combo);var m="keypress"==c.type&&E;c.type==F&&!l(a)&&!m&&f(h),E=k&&"keydown"==c.type}function k(a){"number"!=typeof a.which&&(a.which=a.keyCode);var b=d(a);if(b)return"keyup"==a.type&&D===b?(D=!1,void 0):(H.handleKey(b,h(a),a),void 0)}function l(a){return"shift"==a||"ctrl"==a||"alt"==a||"meta"==a}function m(){clearTimeout(v),v=setTimeout(f,1e3)}function n(){if(!u){u={};for(var a in w)a>95&&112>a||w.hasOwnProperty(a)&&(u[w[a]]=a)}return u}function o(a,b,c){return c||(c=n()[a]?"keydown":"keypress"),"keypress"==c&&b.length&&(c="keydown"),c}function p(a,b,c,e){function g(b){return function(){F=b,++C[a],m()}}function h(b){i(c,b,a),"keyup"!==e&&(D=d(b)),setTimeout(f,10)}C[a]=0;for(var j=0;j<b.length;++j){var k=j+1===b.length,l=k?h:g(e||r(b[j+1]).action);s(b[j],l,e,a,j)}}function q(a){return"+"===a?["+"]:a.split("+")}function r(a,b){var c,d,e,f=[];for(c=q(a),e=0;e<c.length;++e)d=c[e],z[d]&&(d=z[d]),b&&"keypress"!=b&&y[d]&&(d=y[d],f.push("shift")),l(d)&&f.push(d);return b=o(d,f,b),{key:d,modifiers:f,action:b}}function s(a,b,c,d,e){B[a+":"+c]=b,a=a.replace(/\s+/g," ");var f,h=a.split(" ");return h.length>1?(p(a,h,b,c),void 0):(f=r(a,c),A[f.key]=A[f.key]||[],g(f.key,f.modifiers,{type:f.action},d,a,e),A[f.key][d?"unshift":"push"]({callback:b,modifiers:f.modifiers,action:f.action,seq:d,level:e,combo:a}),void 0)}function t(a,b,c){for(var d=0;d<a.length;++d)s(a[d],b,c)}for(var u,v,w={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},x={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},y={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},z={option:"alt",command:"meta","return":"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},A={},B={},C={},D=!1,E=!1,F=!1,G=1;20>G;++G)w[111+G]="f"+G;for(G=0;9>=G;++G)w[G+96]=G;c(b,"keypress",k),c(b,"keydown",k),c(b,"keyup",k);var H={bind:function(a,b,c){return a=a instanceof Array?a:[a],t(a,b,c),this},unbind:function(a,b){return H.bind(a,function(){},b)},trigger:function(a,b){return B[a+":"+b]&&B[a+":"+b]({},a),this},reset:function(){return A={},B={},this},stopCallback:function(a,b){return(" "+b.className+" ").indexOf(" mousetrap ")>-1?!1:"INPUT"==b.tagName||"SELECT"==b.tagName||"TEXTAREA"==b.tagName||b.isContentEditable},handleKey:j};a.Mousetrap=H,"function"==typeof define&&define.amd&&define("mousetrap",H)}(window,document),function(){define("helpers/ua",[],function(){var a;return a={isiPhone:function(){return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)},isiPad:function(){return navigator.userAgent.match(/iPad/i)},isiOS:function(){return a.isiPhone()||a.isiPad()},isAndroid:function(){return navigator.userAgent.match(/Android/i)}}})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/layout",["chaplin","lib/session","views/sidebar","views/notification","models/user","views/modals/login","views/modals/signup","views/modals/help","views/modals/add_link","store","mousetrap","helpers/login_deferred","lib/avos","helpers/ua"],function(a,c,d,e,f,g,h,i,j,k,l,m,n,o){var p,q;return p=function(a){function f(){return q=f.__super__.constructor.apply(this,arguments)}return b(f,a),f.prototype.initialize=function(){var a,b,g=this;return f.__super__.initialize.apply(this,arguments),this.sidebar=new d({model:c.user}),this.sidebar.attach(),$("html").removeClass("loading"),$(window).scroll(function(){return g.onDocumentScroll()}),this.subscribeEvent("links:load-start",function(){return g.loadMoreIsRunning=!0}),this.subscribeEvent("links:load-finish",function(){return g.loadMoreIsRunning=!1}),this.subscribeEvent("system:timeout",this.show_error),this.subscribeEvent("page:load-start",this.start_loading),this.subscribeEvent("page:load-finish",this.stop_loading),this.setup_shortcuts(),this.checkAndShowAndroidInstall(),this.checkAndShowFirefoxInstall(),window.applicationCache&&(a=function(){return window.applicationCache.swapCache(),new e({message:'A new version of Delicious is available, <a href="javascript:location.reload();">refresh</a> to update'})},null!=(b=window.applicationCache)&&b.addEventListener("updateready",a),applicationCache.status===applicationCache.UPDATEREADY)?a():void 0},f.prototype.events={"click a[href='#login']":"login","click a[href='#signup']":"signup","click a[href='#link']":"show_add_link_modal","click a[href='#firefox-webapp']":"install_firefox_webapp","click a[href='#help']":"show_help_modal"},f.prototype.onDocumentScroll=function(a){var b=this;return this._throttledTriggerLoadMoreEvent||(this._throttledTriggerLoadMoreEvent=_.throttle(function(){return b.publishEvent("links:fixed-navbar"),b.loadMoreIsRunning?void 0:$(window).scrollTop()>=$(document).height()-$(window).height()-500?b.publishEvent("links:load-trigger"):void 0},0)),this._throttledTriggerLoadMoreEvent(a)},f.prototype.checkAndShowIphoneApp=function(){var a;return a="notif:iphone:1",k.get(a)?void 0:new e({message:'<a href="https://itunes.apple.com/us/app/delicious-official-app/id580295142?mt=8" target="_blank">Checkout our new iPhone App</a>.',id:a})},f.prototype.checkAndShowFirefoxInstall=function(){var a,b,c;if(b="notif:firefox:1",navigator.mozApps&&!k.get(b))try{return c=navigator.mozApps.checkInstalled(n.webapp_url),c.onsuccess=function(){return c.result?void 0:new e({message:'Using Firefox? <a href="#firefox-webapp">Install Delicious webapp on your phone or desktop</a>, so you can launch Delicious from your home screen or application menu.',id:b})}}catch(d){a=d}},f.prototype.checkAndShowAndroidInstall=function(){var a;if(!o.isiOS())return a="notif:android:1",k.get(a)?void 0:new e({message:'Delicious official Android app is available in <a href="https://play.google.com/store/apps/details?id=com.delicious" target="_blank">Play Store</a>! (<a href="http://blog.delicious.com/2013/10/the-delicious-android-app-is-here/" target="_blank">Learn more</a>)',id:a})},f.prototype.install_firefox_webapp=function(a){var b;return null!=a&&a.preventDefault(),navigator.mozApps?(b=navigator.mozApps.install(n.webapp_url),b.onsuccess=function(){return alert("Delicious webapp installed.")},b.onerror=function(){return alert("Install failed, error: "+this.error.name)}):void 0},f.prototype.show_error=function(){var a;return a=new e({message:'<span class="text-danger">Error communicating with the server, try <a href="javascript:location.reload();">refreshing page</a>.</span>',type:"notification"}),a.attach()},f.prototype.ensure_logged_in=function(a){return function(b){return c.user.get("isLoggedIn")?a(b):void 0}},f.prototype.show_help_modal=function(a){return null!=a&&a.preventDefault(),c.help_modal?void 0:new i},f.prototype.setup_shortcuts=function(){var a=this;return l.bind("?",function(){return a.show_help_modal()}),l.bind(["1","g h"],function(){return a.ensure_logged_in(function(){return a.publishEvent("!router:route","/",{forceStartup:!0})})()}),l.bind(["2","g n"],function(){return a.ensure_logged_in(function(){return a.publishEvent("!router:route","/network",{forceStartup:!0})})()}),l.bind(["3","g d"],function(){return a.ensure_logged_in(function(){return a.publishEvent("!router:route","/discover",{forceStartup:!0})})()}),l.bind(["4","a"],function(){return a.ensure_logged_in(function(){return a.show_add_link_modal()})()}),l.bind("5",function(){return a.ensure_logged_in(function(){return a.publishEvent("!router:route","/settings")})()}),l.bind(["s","`"],function(){return $("#site-search").val("").focus(),!1}),l.bind("/",function(){return a.ensure_logged_in(function(){var a;return $("#site-search").focus().val("@"+c.user.get("username")+" "),"function"==typeof(a=$("#site-search")[0]).setSelectionRange&&a.setSelectionRange(1e3,1e3),!1})()}),l.bind("e",function(){return a.ensure_logged_in(function(){return a.publishEvent("links:toggle-edit")})()}),l.bind("b",function(){return a.publishEvent("links:toggle-bundles")}),l.bind("t",function(){return a.publishEvent("links:toggle-tags")})},f.prototype.login=function(a){return a.preventDefault(),new g({redirect_on_login:!0})},f.prototype.signup=function(a){return a.preventDefault(),new h},f.prototype.show_add_link_modal=function(a){var b=this;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),c.add_link_modal?void 0:c.user.get("isLoggedIn")?new j:(new m).prompt().done(function(){return b.show_add_link_modal()})},f.prototype.start_loading=function(){return $("#site-loading").fadeIn(200)},f.prototype.stop_loading=function(){return $("#site-loading").fadeOut(200)},f}(a.Layout)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("controllers/base/controller",["chaplin","lib/session"],function(a){var c,d;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.startLoading=function(){return this.publishEvent("page:load-start")},c.prototype.stopLoading=function(){return this.publishEvent("page:load-finish")},c}(a.Controller)})}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a},d=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};define("models/links",["models/base/collection","chaplin","lib/session","lib/encode","models/link","models/tags","models/tag"],function(b,e,f,g,h,i){var j,k;return j=function(b){function e(){return this.reFetchFromSearch=a(this.reFetchFromSearch,this),k=e.__super__.constructor.apply(this,arguments)}return c(e,b),e.prototype.model=h,e.prototype.initialize=function(a,b){return e.__super__.initialize.apply(this,arguments),(null!=b?b.subscribeToFetch:void 0)?this.subscribeEvent("search:fetch",this.reFetchFromSearch):(null!=b?b.subscribeOnceToFetch:void 0)?this.subscribeEvent("search:fetch",_.once(this.reFetchFromSearch)):void 0},e.prototype.reFetchFromSearch=function(a){return this.urlParams=_.extend(this.urlParams,a),this.reset([],{silent:!0}),this.fetch()},e.prototype.parse=function(a){var b,c,d,f,g=this;return d=e.__super__.parse.call(this,a),f=_.compact(_.uniq(_.pluck(d,"md5"))),b=this.pluck("md5"),c=_.difference(f,b),d=_.filter(d,function(a){return _.contains(c,a.md5)}),_.each(d,function(a){return g.hasLegalImage(a)?void 0:a.chosen_image=null}),this.urlParams.hasImage&&(d=_.filter(d,function(a){return g.hasLegalImage(a)})),d},e.prototype.hasLegalImage=function(a){var b,c;return(null!=(b=a.chosen_image)?b.width:void 0)>=300||(null!=(c=a.chosen_image)?c.height:void 0)>=200},e.prototype.url=function(){var a,b,c,d,e,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;
return this.urlParamDefaults||(this.urlParamDefaults={type:"popular",tags:[],keywords:[],limit:20,username:null,tagBundle:null,md5:null,hashtag:null,sortBy:null,domain:null,notag:!1,visibility:null}),k=_.extend(this.urlParamDefaults,this.urlParams),q=k.type,p=k.tags,h=k.limit,e=k.keywords,r=k.username,o=k.tagBundle,i=k.md5,b=k.hasImage,c=k.hashtag,n=k.sortBy,a=k.domain,j=k.noTag,s=k.visibility,_.isArray(p)&&p.length>0&&(p=_.map(p,function(a){return/%/.test(a)?decodeURIComponent(a):a})),r&&("network"===q?r===(null!=(t=f.user)?t.get("username"):void 0)||"me"===r?q="network":(r=g(r),q="publicnetwork/"+r):r===(null!=(u=f.user)?u.get("username"):void 0)||"me"===r?q="you":(r=g(r),q="public/"+r)),m="/posts/"+q+"/time",l={tags:_.isArray(p)?p.join(","):p,keywords:_.isArray(e)?e.join(","):e,tagsor:!1,limit:h,anchorx:this._anchorx(),index:this._index(),inclpriv:1,bundle_name:decodeURIComponent(o)||null,has_all:!0,exclude_zeen:!0,visibility:s},j&&(l.notag=j),r&&o&&(m="/tags/bundle/links",r!==(null!=(v=f.user)?v.get("username"):void 0)&&(l.username=r)),i&&(m="/posts/md5/"+i),c&&(m="/tags/timeline/"+n,l={limit:h,tag_name:c,score:this._score()}),a&&(m="/posts/"+q+"/domains",l.domain=a),"discover"===q&&(m="/recommend/discover",l={limit:h,last_score:this._score()}),d=p.length||e.length||r||o||i||a,"everyone"===q&&!d&&(q="recommend",this.length<1?delete l.anchor:l.anchor=this.last().get("md5"),m="/recommend/links"),m+"?"+$.param(l)},e.prototype.fetch=function(a){var b=this;return this.publishEvent("links:load-start"),a||(a={}),a.success=function(){return b.publishEvent("links:load-finish")},e.__super__.fetch.call(this,a)},e.prototype.related_tags=function(){var a;return a=_.uniq(_.compact(_.flatten(this.pluck("tags")))),a=_.difference(a,this.urlParams.tags),new i(_.map(a,function(a){return{name:a}}))},e.prototype.add_tag=function(a){var b=this;return this.api({url:"/links/edit/tags",type:"POST",data:{tags:a.join(","),md5s:this.map(function(a){return a.get("md5")}).join(","),action:"add"},success:function(){return b.each(function(b){var c;return c=b.get("tags"),c=_.union(c,a),b.set({tags:c})})}})},e.prototype.remove_tag=function(a){var b=this;return this.api({url:"/links/edit/tags",type:"POST",data:{tags:a.join(","),action:"remove",md5s:this.map(function(a){return a.get("md5")}).join(",")},success:function(){return b.each(function(b){var c;return c=b.get("tags"),c=_.reject(c,function(b){return d.call(a,b)>=0}),b.set({tags:c})})}})},e.prototype.to_search_string=function(){var a,b;return a=[],this.urlParams.username&&a.push("@"+this.urlParams.username),b=this.urlParams.tags||[this.urlParams.hashtag],_.isEmpty(b)||_.each(b,function(b){return d.call(b," ")>=0&&(b='"'+b+'"'),a.push("#"+b)}),this.urlParams.tagBundle&&a.push("["+this.urlParams.tagBundle+"]"),this.urlParams.keywords&&a.push(""+this.urlParams.keywords),a.join(" ")},e.prototype.to_user_url=function(){var a,b,c;return b="",b+="/"+this.urlParams.username,_.isEmpty(this.urlParams.tags)?_.isEmpty(this.urlParams.tagBundle)||(b+="/tag_bundle/"+this.urlParams.tagBundle):(c=_.map(this.urlParams.tags,function(a){return encodeURIComponent(a)}),b+="/"+c.join(",")),_.isEmpty(this.urlParams.keywords)||(a=encodeURIComponent(this.urlParams.keywords),b+="/search/"+a),b},e}(b)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/base/pageview",["views/base/hbsview"],function(a){var c,d;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.container="#delicious",c.prototype.autoRender=!0,c.prototype.autoAttach=!0,c.prototype.className="content-wrapper",c.prototype.containerMethod="append",c.prototype.showSidebar=!0,c.prototype.attach=function(){return c.__super__.attach.apply(this,arguments),this.publishEvent("sidebar:change",{action:this.showSidebar?"show":"hide"}),this.publishEvent("page:loaded",this)},c.prototype.dispose=function(){return c.__super__.dispose.apply(this,arguments),this.publishEvent("page:disposed",this)},c}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/home/index",["views/base/pageview","models/tags"],function(a){var c,d;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.showSidebar=!1,c.prototype.template="home/index",c.prototype.className="homepage",c.prototype.attach=function(){return c.__super__.attach.apply(this,arguments),$("body").addClass("body-landing"),$("#parallax").parallax().addClass("loaded"),$("#parallax").addClass("loaded")},c.prototype.dispose=function(){return c.__super__.dispose.apply(this,arguments),$("body").removeClass("body-landing ready")},c.prototype.on_home_search_submit=function(a){var b;return a.preventDefault(),b=this.$("input[name='search-term']").val(),$("#site-search").val(b),$("#location-bar").submit(),ga("send","event","landing","search",b)},c.prototype.update_tags=function(){var a,b;return a=this.trendingTags.map(function(a){return"#<a href='/tag/"+a.get("name")+"'>"+a.get("name")+"</a>"}),b=_.map(_.first(_.shuffle(this.featuredUsers),6),function(a){return"@<a href='/"+a+"'>"+a+"</a>"}),this.$(".tips").hide().html(_.union(a,b).join(" ")).slideDown(400)},c.prototype._track_click=function(a){var b;return b=$(a.currentTarget).attr("href"),ga("send","event","landing","greeting",b)},c.prototype._track_trending_click=function(a){var b;return b=$(a.currentTarget).attr("href"),ga("send","event","landing","trending",b)},c}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/modals/reset_password",["chaplin","lib/session","views/base/modal","views/modals/login","views/modals/forgot_password"],function(a,c,d,e,f){var g,h;return g=function(a){function d(){return h=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="modals/reset_password",d.prototype.has_error=!1,d.prototype.initialize=function(a){return this.id=null!=a?a.id:void 0,this.passwd_hash=null!=a?a.passwd_hash:void 0,this.time=null!=a?a.time:void 0},d.prototype.events={"submit form":"do_submit","click .submit-button":"do_submit","click a[href='#forgot_password']":"forgot_password","click a[href='#login']":"login"},d.prototype.validate_password=function(){var a;return a=this.$("input[type='password']").val(),this.show_error(""),this.has_error=!1,a.length<8?(this.has_error=!0,this.show_error("Password is too short."),void 0):a.indexOf(" ")>0?(this.has_error=!0,this.show_error("Sorry, space is not allowed in password.")):void 0},d.prototype.do_submit=function(a){var b,d,e=this;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),this.validate_password(),this.has_error?void 0:(d=this.$("input[name='password']").val(),b={user_id:this.id,timestamp:this.time,old_password_hash:this.passwd_hash,new_password:d},this.$(".submit-button").prop("disabled","disabled"),c.user.resetPassword(b).fail(function(a){return e.fail(a)}).done(function(){return e.success()}))},d.prototype.fail=function(a){return this.$(".submit-button").prop("disabled",""),"expired_session"===a.status?this.show_error("Session expired, please <a href='#forgot_password'>try again</a>."):this.show_error(a.error.charAt(0).toUpperCase()+a.error.slice(1))},d.prototype.success=function(){return this.$(".reset-success").removeClass("hidden"),this.show_error("")},d.prototype.show_error=function(a){return this.$(".error-msg").html(a)},d.prototype.forgot_password=function(a){return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),this.close(),new f},d.prototype.login=function(a){return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),this.close(),new e({redirect_on_login:!0})},d}(d)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/base/html",["views/base/hbsview"],function(a){var c,d;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.autoRender=!0,c.prototype.autoAttach=!0,c.prototype.container="#delicious",c.prototype.className="content-wrapper",c.prototype.containerMethod="append",c.prototype.showSidebar=!0,c.prototype.template="html",c.prototype.initialize=function(){return null!=this.options.containedLayout&&(this.containedLayout=this.options.containedLayout),c.__super__.initialize.apply(this,arguments)},c.prototype.render=function(){return c.__super__.render.apply(this,arguments),this.options.url?(this.$("li[data-page='"+this.options.url+"']").addClass("on"),this.$(".static-html-wrapper").load("/html/"+this.options.url+".html")):void 0},c.prototype.attach=function(){return c.__super__.attach.apply(this,arguments),this.publishEvent("sidebar:change",{action:this.showSidebar?"show":"hide"})},c}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/not_found",["views/base/pageview"],function(a){var c,d;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.template="not_found",c}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("controllers/home_controller",["chaplin","lib/session","controllers/base/controller","models/links","views/home/index","views/modals/login","views/modals/signup","views/modals/reset_password","views/base/html","views/notification","views/not_found"],function(a,c,d,e,f,g,h,i,j,k,l){var m,n;return m=function(a){function d(){return n=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.index=function(){var a;return a=c.user,(null!=a?a.get("isLoggedIn"):void 0)?this.redirectTo("/"+a.get("username")):(this.view=new f,$("title").text("Delicious"))},d.prototype.logout=function(){var a;return null!=(a=c.user)&&a.logout(),this.publishEvent("login:logout"),window.location="/"},d.prototype.signin=function(){var a;return(null!=(a=c.user)?a.get("isLoggedIn"):0)?this.redirectTo(c.user.get("username")):(this.redirectTo("/"),new g({redirect_on_login:!0}))},d.prototype.signup=function(){var a;return(null!=(a=c.user)?a.get("isLoggedIn"):0)?void 0:(this.redirectTo("/"),new h)},d.prototype.reset_password=function(a){return this.redirectTo("/"),new i({id:a.id,time:a.time,passwd_hash:a.passhash})},d.prototype.page=function(a){var b,c;return c={url:a.page},this.view=new j(c),this.publishEvent("sidebar:change",{action:"page"}),c.url?(b=c.url.charAt(0).toUpperCase()+c.url.slice(1),this.adjustTitle(b)):void 0},d.prototype.validate_email=function(a){var b;return b=a.token,c.user.validateEmail(b,function(a){return a.success?new k({type:"notification",message:"Thank you, your email has been validated."}):new k({type:"notification",message:""+a.error+" If you are having trouble, please contact <a href='mailto:support@delicious.com'>support@delicious.com</a>"})}),this.redirectTo("/")},d.prototype.not_found=function(){return this.view=new l},d}(d)})}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};define("models/tag_bundle",["models/base/model","chaplin","lib/session"],function(b,d,e){var f,g;return f=function(b){function d(){return this.saveResponse=a(this.saveResponse,this),g=d.__super__.constructor.apply(this,arguments)}return c(d,b),d.prototype["delete"]=function(){var a=this;return this.api({url:"/tags/bundle/delete",type:"post",data:{bundle_name:this.get("name")},success:function(b){var c;return"success"===(null!=b?b.status:void 0)?(a.publishEvent("tagBundle:delete"),null!=(c=a.collection)&&c.remove(a),a.destroy()):a.publishEvent("tagBundle:delete:error")}})},d.prototype.fetchTags=function(a,b){var c=this;return this.api({data:{bundle_owner:a,bundle_name:decodeURIComponent(b)},url:"/tags/bundle/tags",success:function(a){return c.set({tags:_.map(a.pkg.tags,function(a){return a.tag_name}),name:b})}})},d.prototype.save=function(a){var b;return this.newdata={name:a.name,tags:a.tags},null!=a.previous?(b={url:"/tags/bundle/edit",type:"post",data:{new_bundle_name:a.name,old_bundle_name:a.previous.get("name"),new_bundle_tags:a.tags,old_bundle_tags:a.previous.get("tags").join(","),bundle_owner:e.user.get("username")},success:this.saveResponse},this.api(b)):(b={url:"/tags/bundle/create",type:"post",data:{bundle_name:a.name,tags:a.tags},success:this.saveResponse},this.api(b))},d.prototype.saveResponse=function(a){return"success"===a.status?(this.set(this.newdata),this.publishEvent("tagBundle:save",this)):this.publishEvent("tagBundle:save:error",this)},d}(b)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("models/tag_bundles",["models/base/collection","models/tag_bundle"],function(a,c){var d,e;return d=function(a){function d(){return e=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.model=c,d.prototype.url=function(){var a;return this.urlParamDefaults||(this.urlParamDefaults={username:null}),a=_.extend(this.urlParamDefaults,this.urlParams).username,a?"/tags/bundles/"+a:void 0},d.prototype.parse=function(a){var b,c,e;return d.__super__.parse.apply(this,arguments),b=null!=(c=a.pkg)?null!=(e=c[0])?e.bundle_names:void 0:void 0,b?_.map(b,function(a){return{name:a}}):[]},d.prototype.comparator=function(a){var b;return null!=(b=a.get("name"))?b.toLowerCase():void 0},d}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/modals/add_tag",["chaplin","lib/session","views/base/modal","views/widgets/tag_input"],function(a,c,d,e){var f,g;return f=function(a){function d(){return g=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="modals/add_tag",d.prototype.initialize=function(){return d.__super__.initialize.apply(this,arguments)},d.prototype.render=function(){return d.__super__.render.apply(this,arguments),this.tag_input=new e({el:this.$(".tags-input-container"),tags:c.user.get("tags"),name:"tags"}),this.subview("taginput",this.tag_input)},d.prototype.events={"click .text-btn-primary":"on_submit"},d.prototype.on_submit=function(){var a,b=this;return this.$(".text-btn-primary").prop("disabled","disabled"),a=this.tag_input.get_value_array(),a=_.map(a,function(a){return a.trim()}),this.collection.add_tag(a).done(function(){return b.close()})},d}(d)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/modals/remove_tag",["views/base/modal"],function(a){var c,d;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.template="modals/remove_tag",c.prototype.initialize=function(){return c.__super__.initialize.apply(this,arguments),this.tags=_.intersection.apply(null,this.collection.map(function(a){return a.get("tags")}))},c.prototype.getTemplateData=function(){return this.tags},c.prototype.events={"click ul.tags li a":"toggle_tag_select","click .text-btn-primary":"on_submit"},c.prototype.toggle_tag_select=function(a){return a.preventDefault(),$(a.currentTarget).toggleClass("selected")},c.prototype.get_selected_tags=function(){return _.map(this.$("ul.tags li a.selected"),function(a){return $(a).text()})},c.prototype.on_submit=function(){var a,b=this;return this.$(".text-btn-primary").prop("disabled","disabled"),a=this.get_selected_tags(),this.collection.remove_tag(a).done(function(){return b.close()})},c}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/links/page",["views/base/pageview","models/link","models/links","models/tag_bundle","views/modals/add_tag","views/modals/remove_tag"],function(a,c,d,e,f,g){var h,i;return h=function(a){function h(){return i=h.__super__.constructor.apply(this,arguments)}return b(h,a),h.prototype.template="links/page",h.prototype.editable=!1,h.prototype.editing=!1,h.prototype.is_user=!0,h.prototype.is_tag=!1,h.prototype.is_search=!1,h.prototype.initialize=function(a){return h.__super__.initialize.call(this,a),this.editable=a.editable,this.tab=a.tab,this.show_tags=a.show_tags,"tag"===a.type&&(this.is_user=!1,this.is_tag=!0),"search"===a.type&&(this.is_user=!1,this.is_search=!0),this.subscribeEvent("links:load-finish",this.update_related_tags),this.subscribeEvent("links:fixed-navbar",this.check_and_update_navbar),this.subscribeEvent("links:toggle-edit",this.toggle_bulk_edit),this.subscribeEvent("links:toggle-tags",this.toggle_tagcloud),this.subscribeEvent("links:toggle-bundles",this.toggle_tagbundles)},h.prototype.check_and_update_navbar=function(){var a;return a=$(".bulk-edit-status").outerHeight(),$(window).scrollTop()>a&&$(".content-wrapper").hasClass("bulk-edit-on")&&(this.$(".link-nav-fixed-wrapper").addClass("on"),this.$(".bulk-edit-status").css("margin-bottom",$(".link-nav").outerHeight())),$(window).scrollTop()<a&&$(".content-wrapper").hasClass("bulk-edit-on")?(this.$(".link-nav-fixed-wrapper").removeClass("on"),this.$(".bulk-edit-status").css("margin-bottom",0)):void 0},h.prototype.getTemplateData=function(){var a;return a=h.__super__.getTemplateData.apply(this,arguments),a.is_user=this.is_user,a.is_tag=this.is_tag,a.is_search=this.is_search,a.editable=this.editable,a},h.prototype.render=function(){return h.__super__.render.apply(this,arguments),this.$(".actions a[data-tab='"+this.tab+"']").parent().addClass("on"),this.show_tags?this.$("a[href='#tags']").click():void 0},h.prototype.events={"click a.ftag":"filter_by_ftag","click ul.tagcloud a[data-tag]":"filter_by_tag","click ul.relatedtags a.filter-tag":"filter_by_appending_tag","click ul.relatedtags a.show-tag":"filter_by_tag","click a.tag-for-filter":"filter_by_appending_tag","click a.tag-by-people":"filter_by_tag","click ul.tagbundles a[href='#']":"filter_by_tag_bundle","submit form.links-search-form":"filter_by_search","click div.filter a.filter-cancel":"remove_filter","click div.filter a.filter-cancel-all":"remove_filters","click a.bulk-edit":"toggle_bulk_edit","click a[href='#tags']":"toggle_tagcloud","click a[href='#tagbundles']":"toggle_tagbundles","click a[data-tab='everyone']":"change_search_type","click a[data-tab='network']":"change_search_type","click a[data-tab='you']":"change_search_type","click a[data-tab='hot']":"sort_tag_link_list","click a[data-tab='recent']":"sort_tag_link_list","click a[data-tab='alltime']":"sort_tag_link_list","click a.bulk-edit-action-public":"bulk_action_public","click a.bulk-edit-action-private":"bulk_action_private","click a.bulk-edit-action-remove":"bulk_action_remove","click a.bulk-edit-action-select-all":"bulk_action_all","click a.bulk-edit-action-select-none":"bulk_action_none","click a.bulk-edit-action-add-tag":"bulk_add_tags","click a.bulk-edit-action-remove-tag":"bulk_remove_tags","click div.bulk-edit-on div.item":"update_selection","click a.sort-by-alphabet":"sort_tags","click a.sort-by-count":"sort_tags","click a.edit-tag":"edit_tag","click a[href='#edit-tag-bundle']":"show_tagbundle_dialog","click div.links.bulk-edit-on ul.tags a":"disable_click_when_bulk_edit"},h.prototype.filter_by_ftag=function(a){var b,c;return a.preventDefault(),b=$(a.currentTarget),c=this.subview("links").collection,c.reset(),b.hasClass("ftag-notag")&&(c.urlParams.noTag=!b.hasClass("on"),b.toggleClass("on")),b.hasClass("ftag-public")&&(b.hasClass("on")?(c.urlParams.visibility=null,b.removeClass("on")):(c.urlParams.visibility="public",b.addClass("on"),this.$(".ftag-private").removeClass("on"))),b.hasClass("ftag-private")&&(b.hasClass("on")?(c.urlParams.visibility=null,b.removeClass("on")):(c.urlParams.visibility="private",b.addClass("on"),this.$(".ftag-public").removeClass("on"))),c.fetch()},h.prototype.disable_click_when_bulk_edit=function(a){return a.preventDefault()},h.prototype.update_bundle_tags=function(a){var b,c=this;return b=this.subview("relatedtags"),b?a.fetchTags(this.model.get("username"),a.get("name")).done(function(){var d;return d=_.map(a.get("tags"),function(a){return{name:a}}),_.isEmpty(d)?c.$(".relatedtags-wrapper").addClass("is-visible").slideUp(200):(b.is_bundle=!0,b.collection.reset(d),c.$(".relatedtags-wrapper").addClass("is-visible").slideDown(200).animate({height:c.$(".relatedtags").outerHeight()+20},200))}):void 0},h.prototype.update_related_tags=function(){var a,b,c;return b=this.subview("relatedtags"),b&&(a=this.subview("links").collection,!_.isEmpty(null!=a?a.urlParams.tags:void 0))?(c=a.related_tags(),c.isEmpty()?this.$(".relatedtags-wrapper").removeClass("is-visible").slideUp(200):(b.is_bundle=!1,b.collection.reset(c.toJSON()),this.$(".relatedtags-wrapper").addClass("is-visible").slideDown(200).animate({height:this.$(".relatedtags").outerHeight()+20},200))):void 0},h.prototype.sort_tag_link_list=function(a){var b,c,d;return this.$(".actions li").removeClass("on"),null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),b=$(a.currentTarget),c=this.subview("links").collection,d=c.urlParams.hashtag||_.first(c.urlParams.tags),this.reset_links(c),"alltime"===b.attr("data-tab")?(c.urlParams.hashtag=null,c.urlParams.sortBy=null,c.urlParams.type="everyone",c.urlParams.tags=[d]):(c.urlParams.sortBy=b.attr("data-tab"),c.urlParams.hashtag=d,c.urlParams.type=null,c.urlParams.tags=[]),c.fetch(),b.parent().addClass("on"),this.publishEvent("!router:changeURL",b.attr("href")),!1},h.prototype.change_search_type=function(a){var b,c;return this.$(".actions li").removeClass("on"),null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),b=$(a.currentTarget),c=this.subview("links").collection,this.reset_links(c),c.urlParams.keywords=this.model.get("q"),c.urlParams.type=b.attr("data-tab"),c.fetch(),b.parent().addClass("on"),this.publishEvent("!router:changeURL",b.attr("href")),!1},h.prototype.get_selected_md5s=function(){return _.map(this.$(".item[data-md5].bulk-edit-selected"),function(a){return $(a).attr("data-md5")})},h.prototype.get_selected_links=function(){var a,b;return b=this.get_selected_md5s(),a=this.subview("links").collection,new d(_.map(b,function(b){return a.findWhere({md5:b})}))},h.prototype._bulk_action_mark=function(a,b,c){var d,e,f=this;return this.startLoading(),d=_.first(c,b.bulk_size),e=_.rest(c,b.bulk_size),b.markAs(a,_.map(d,function(a){return a.get("md5")}).join(",")).done(function(){return _.each(d,function(b){return b.set({"private":"private"===a})}),_.isEmpty(e)?f.stopLoading():f._bulk_action_mark(a,b,e)})},h.prototype.bulk_action_mark=function(a){var b,d,e,f=this;return d=this.get_selected_md5s(),_.isEmpty(d)?void 0:(e=_.map(d,function(a){return f.subview("links").collection.findWhere({md5:a})}),b=new c,this._bulk_action_mark(a,b,e))},h.prototype.bulk_action_public=function(a){return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),this.bulk_action_mark("public"),ga("send","event","links","public")},h.prototype.bulk_action_private=function(a){return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),this.bulk_action_mark("private"),ga("send","event","links","private")},h.prototype._bulk_action_remove=function(a,b){var c,d,e=this;return this.startLoading(),c=_.first(a,b.bulk_size),d=_.rest(a,b.bulk_size),b.deleteAll(c.join(",")).done(function(){var c;return c=e.subview("links").collection,_.each(a,function(a){return c.remove(c.findWhere({md5:a}))}),_.isEmpty(d)?(e.stopLoading(),e.bulk_action_none()):e._bulk_action_remove(d,b)})},h.prototype.bulk_action_remove=function(a){var b,d,e,f;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),e=this.get_selected_md5s(),b=e.length,b>0&&(f=b>1?"Are you sure you want to delete these "+b+" links?":"Are you sure you want to delete this link?",confirm(f)&&(d=new c,this._bulk_action_remove(e,d))),ga("send","event","links","remove")},h.prototype.bulk_action_all=function(a){return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),this.$(".item[data-md5]").addClass("bulk-edit-selected"),this.$(".bulk-edit-selection-count").text(this.$(".item[data-md5].bulk-edit-selected").length)},h.prototype.bulk_action_none=function(a){return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),this.$(".item[data-md5]").removeClass("bulk-edit-selected"),this.$(".bulk-edit-selection-count").text(0)},h.prototype.update_selection=function(a){var b,c;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),b=a.currentTarget,$(b).toggleClass("bulk-edit-selected"),c=this.$(".item[data-md5].bulk-edit-selected").length,this.$(".bulk-edit-selection-count").text(c||0)},h.prototype.toggle_bulk_edit=function(a){var b,c,d;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),this.editable?($(".content-wrapper").toggleClass("bulk-edit-on"),d=this.$(".links"),d.toggleClass("bulk-edit-on"),b=this.$(".bulk-edit"),c=b.text(),b.text("Edit"===c?"Done":"Edit"),this.$("ul.tags .dropdown-toggle").toggleClass("disabled"),this.bulk_action_none(),this.$(".hero-unit").stop(!0,!0).animate({height:"toggle",paddingTop:"toggle",paddingBottom:"toggle",opacity:"toggle"},300),setTimeout(function(){return this.$(".bulk-edit-status").stop(!0,!0).animate({height:"toggle",paddingTop:"toggle",paddingBottom:"toggle",opacity:"toggle"},200)},300),this.$(".relatedtags-wrapper").hasClass("is-visible")&&this.$(".relatedtags-wrapper").slideToggle(200),this.$(".tagcloud-wrapper").hasClass("is-visible")&&this.$(".tagcloud-wrapper").slideToggle(200),this.$(".tagbundles-wrapper").hasClass("is-visible")&&this.$(".tagbundles-wrapper").slideToggle(200),d.hasClass("bulk-edit-on")?ga("send","event","links","bulk-edit"):void 0):void 0},h.prototype.remove_filters=function(a){var b;return null!=a&&a.preventDefault(),b=this.subview("links").collection,this.reset_links(b),b.fetch(),this.$(".filter .filter-cards").html(""),this.$(".filter").slideUp(200),this.$(".links-search-form input").val(""),this.$(".relatedtags-wrapper").removeClass("is-visible").slideUp(200),this.publishEvent("!router:changeURL",b.to_user_url()),this.publishEvent("sidebar:change",{action:"page",location:b.to_search_string()}),ga("send","event","links","remove-filters")},h.prototype.remove_filter=function(a){var b,c,d,e,f,g=this;return a.preventDefault(),b=$(a.currentTarget),f=b.attr("data-filter"),c=b.text(),b.remove(),_.isEmpty(this.$(".filter-card"))?(this.remove_filters(),void 0):(e=this.subview("links").collection,e.reset(),"tagbundle"===f&&(e.urlParams.tagBundle=null),"search"===f&&(e.urlParams.keywords=[]),"tag"===f&&(e.urlParams.tags=_.reject(e.urlParams.tags,function(a){return a===c.substring(1)}),d=!0),e.fetch().done(function(){return d?g.update_related_tags():void 0}),this.publishEvent("!router:changeURL",e.to_user_url()),this.publishEvent("sidebar:change",{action:"page",location:e.to_search_string()}),ga("send","event","links","reset-filter"))},h.prototype.show_filter=function(a,b){var c;return _.isArray(a)||(a=[a]),c=function(a){return"<a class='filter-cancel filter-card' href='#' data-filter='"+b+"'>"+_.escape(a)+"</a>"},this.$(".filter .filter-cards").html(_.map(a,c).join(" ")),this.$(".filter").slideDown(200)},h.prototype.append_filter=function(a,b){return this.$(".filter .filter-cards").append(" <a class='filter-cancel filter-card' href='#' data-filter='"+b+"'>"+_.escape(a)+"</a>"),this.$(".filter").slideDown(200)},h.prototype.filter_by_tag=function(a){var b,c,d,e=this;return a.preventDefault(),c=a.currentTarget,d=$(c).attr("data-tag"),b=this.subview("links").collection,this.reset_links(b),b.urlParams.tags=[d],b.fetch().done(function(){return e.update_related_tags()}),this.show_filter("#"+d,"tag"),this.bulk_action_none(),this.$(".link-nav-fixed-wrapper").hasClass("bulk-edit-on")&&$(".links").addClass("bulk-edit-on"),this.publishEvent("!router:changeURL",b.to_user_url()),this.publishEvent("sidebar:change",{action:"page",location:b.to_search_string()}),ga("send","event","links","tag")},h.prototype.filter_by_appending_tag=function(a){var b,c,d,e,f=this;return a.preventDefault(),d=a.currentTarget,e=$(d).attr("data-tag"),c=this.subview("links").collection,b=c.urlParams.tags||[],_.contains(b,e)?void 0:(b.push(e),this.reset_links(c),c.urlParams.tags=b,c.fetch().done(function(){return f.update_related_tags()}),this.append_filter("#"+e,"tag"),this.bulk_action_none(),this.$(".link-nav-fixed-wrapper").hasClass("bulk-edit-on")&&$(".links").addClass("bulk-edit-on"),this.publishEvent("!router:changeURL",c.to_user_url()),this.publishEvent("sidebar:change",{action:"page",location:c.to_search_string()}),_.isEmpty($(d).parents("ul.relatedtags"))?ga("send","event","links","tag-filter"):ga("send","event","links","related-tags"))},h.prototype.filter_by_tag_bundle=function(a){var b,c,d;return a.preventDefault(),c=a.currentTarget,d=$(c).attr("data-bundle"),b=this.subview("links").collection,this.reset_links(b),b.urlParams.tagBundle=d,b.fetch({reset:!0}),this.show_filter("["+d+"]","tagbundle"),this.bulk_action_none(),this.$(".link-nav-fixed-wrapper").hasClass("bulk-edit-on")&&$(".links").addClass("bulk-edit-on"),this.update_bundle_tags(new e({name:d})),this.publishEvent("!router:changeURL",b.to_user_url()),this.publishEvent("sidebar:change",{action:"page",location:b.to_search_string()}),ga("send","event","links","bundle")},h.prototype.filter_by_search=function(a){var b,c;return a.preventDefault(),b=this.$(".links-search-form input").val(),_.isEmpty(b)?void 0:(c=this.subview("links").collection,this.reset_links(c),c.urlParams.keywords=b,c.fetch({reset:!0}),this.show_filter("“"+b+"”","search"),this.publishEvent("!router:changeURL",c.to_user_url()),this.publishEvent("sidebar:change",{action:"page",location:c.to_search_string()}),ga("send","event","links","search"))},h.prototype.reset_links=function(a){return a.urlParams.tags=[],a.urlParams.keywords=[],a.urlParams.tagBundle=null,a.urlParams.visibility=null,a.urlParams.noTag=!1,a.reset()},h.prototype.toggle_tagcloud=function(a){return null!=a&&a.preventDefault(),this.$(".tagbundles-wrapper").removeClass("is-visible").slideUp(200),setTimeout(function(){return this.$(".tagcloud-wrapper").toggleClass("is-visible").slideToggle(200)},100),this.$(".action-tagbundles-wrapper").removeClass("on"),this.$(".action-tags-wrapper").toggleClass("on")},h.prototype.toggle_tagbundles=function(a){return null!=a&&a.preventDefault(),this.$(".tagcloud-wrapper").removeClass("is-visible").slideUp(200),setTimeout(function(){return this.$(".tagbundles-wrapper").toggleClass("is-visible").slideToggle(200)},100),this.$(".action-tags-wrapper").removeClass("on"),this.$(".action-tagbundles-wrapper").toggleClass("on")},h.prototype.bulk_add_tags=function(a){return a.preventDefault(),new f({collection:this.get_selected_links()}),ga("send","event","links","bulk-add-tags")
},h.prototype.bulk_remove_tags=function(a){return a.preventDefault(),new g({collection:this.get_selected_links()}),ga("send","event","links","bulk-remove-tags")},h.prototype.sort_tags=function(a){return this.subview("tagcloud").sort_tags(a)},h.prototype.edit_tag=function(a){return this.subview("tagcloud").edit_tag(a)},h.prototype.show_tagbundle_dialog=function(a){return this.subview("tagbundles").show_tagbundle_dialog(a)},h}(a)})}.call(this),function(){define("helpers/links_stats_graph",[],function(){var a;return a=function(a){return("devicePixelRatio"in window?window.devicePixelRatio>1&&a.webkitBackingStorePixelRatio<2:void 0)?window.devicePixelRatio:1},function(a,b,c){var d,e,f,g,h,i;if(c||(c={}),null!=b){try{d=a[0].getContext("2d")}catch(j){return e=j,void 0}return h=a.width()*window.devicePixelRatio,f=a.height()*window.devicePixelRatio,d.canvas.width=h,d.canvas.height=f,d.clearRect(0,0,h,f),g=Math.max(_.max(b),c.max||20),i=h/b.length,d.fillStyle="rgb(238, 238, 238)",_.each(b,function(a,b){var c,e,h,j;return h=f*(1-a/g),e=i*b,c=f*(a/g),j=i,d.fillRect(e,h,j,c)})}}})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/links/user",["chaplin","lib/session","views/base/hbsview","helpers/links_stats_graph"],function(a,c,d,e){var f,g;return f=function(a){function d(){return g=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="links/user",d.prototype.autoRender=!0,d.prototype.autoAttach=!0,d.prototype.initialize=function(){return d.__super__.initialize.apply(this,arguments),this.listenTo(this.model,"change",this.render),this.subscribeEvent("login:success",this.render)},d.prototype.events={"click a[href=#unfollow]":"unfollow","click a[href=#follow]":"follow"},d.prototype.unfollow=function(a){var b;return a.preventDefault(),b=$(a.currentTarget),c.user?c.user.unfollowUser(this.model).done(function(){return b.attr("href","#follow").html("<span class='follow-text''>Follow</span>").removeClass("follow-toggle-following").addClass("follow-toggle-not-following")}):void 0},d.prototype.follow=function(a){var b;return a.preventDefault(),b=$(a.currentTarget),c.user.followUser(this.model).done(function(){return b.attr("href","#unfollow").html("<span class='following-text'>Following</span><span class='unfollow-text'>Unfollow</span>").removeClass("follow-toggle-not-following").addClass("follow-toggle-following")}),ga("send","event","user","follow",this.model.get("username"))},d.prototype.render=function(){var a=this;return d.__super__.render.apply(this,arguments),this.model.get("weekly_save_trend")?setTimeout(function(){return a.$("#links_stats").length>0?e(a.$("#links_stats"),a.model.get("weekly_save_trend"),{max:20}):void 0},1987):void 0},d}(d)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/base/collection_view",["chaplin","views/base/hbsview"],function(a,c){var d,e;return d=function(a){function d(){return e=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.autoRender=!0,d.prototype.getTemplateFunction=c.prototype.getTemplateFunction,d.prototype.defaults={heading:!1,headingLevel:2,showHeadingIfEmpty:!0},d.prototype.isMobile=c.prototype.isMobile,d.prototype.isDesktop=c.prototype.isDesktop,d.prototype.isTouch=c.prototype.isTouch,d.prototype.isiPhone=c.prototype.isiPhone,d.prototype.animationDuration=0,d.prototype.previousLoadCount=0,d.prototype.initialize=function(a){return this.options=null!=a?a:{},_.defaults(this.options,this.defaults),d.__super__.initialize.apply(this,arguments)},d.prototype.startLoading=c.prototype.startLoading,d.prototype.stopLoading=c.prototype.stopLoading,d.prototype.loadMore=function(a){return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),this.collection.length>this.previousLoadCount?(this.previousLoadCount=this.collection.length,this.collection.fetch()):void 0},d}(a.CollectionView)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/widgets/person_overview",["views/base/hbsview","models/tags"],function(a,c){var d,e;return d=function(a){function d(){return e=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.autoRender=!0,d.prototype.autoAttach=!1,d.prototype.template="widgets/person_overview",d.prototype.loaded=!1,d.prototype.tags_html="...",d.prototype.initialize=function(a){return d.__super__.initialize.apply(this,arguments),this.anchor=a.anchor,this.listenTo(this.model,"change",this.render)},d.prototype.render_more_info=function(){var a=this;return this.model.profile().done(function(){var b;return a.loaded?void 0:(b=new c([],{urlParams:{username:a.model.get("username")}}),b.fetch().done(function(){var c,d;return b.sort_by_count(),c=b.first(3),d=c.map(function(a){return"<li>"+a.get("name")+"</li>\n"}).join(""),a.tags_html="<ul class=tags>"+d+"</ul>",a.render(),a.loaded=!0}).fail(function(){return a.tags_html="",a.render(),a.loaded=!0}))})},d.prototype.getTemplateData=function(){var a;return a=d.__super__.getTemplateData.apply(this,arguments),a.tags_html=this.tags_html,a},d.prototype.render=function(){var a;return d.__super__.render.apply(this,arguments),$('div.person-overview[data-user="'+this.model.get("username")+'"]').parent().html(this.$el.html()),null!=(a=this.anchor.data("bs.popover"))?a.options.content=this.$el.html():void 0},d.prototype.attach=function(){var a=this;return this.anchor.popover({content:this.$el.html(),html:!0,placement:"right",trigger:"hover",delay:300,container:$("#delicious"),animation:!1}),this.anchor.on("show.bs.popover",function(){return a.loaded?void 0:a.render_more_info()})},d.prototype.dispose=function(){return this.anchor.off("show.bs.popover"),this.anchor.popover("destroy"),$(".popover").remove(),d.__super__.dispose.apply(this,arguments)},d}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/links/link",["views/base/hbsview","views/modals/compose_link","chaplin","lib/session","helpers/login_deferred","views/widgets/person_overview","models/user"],function(a,c,d,e,f,g,h){var i,j;return i=function(a){function d(){return j=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="links/link",d.prototype.className="link",d.prototype.initialize=function(){return d.__super__.initialize.apply(this,arguments),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"destory",this.dispose)},d.prototype.events={"click a.edit":"show_compose_dialog","click a.bookmark-btn":"show_compose_dialog","click a.mobile-tags-toggle":"show_mobile_tags","dblclick div.item":"show_compose_dialog","click a.title":"track_click","click a.delete":"submit_delete","click a.share-social":"share_popup"},d.prototype.show_compose_dialog=function(a){var b,d=this;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),e.loading_compose?void 0:e.user.get("isLoggedIn")?(e.loading_compose=!0,this.startLoading(),this.model.set({replace:this.model.get("editable")}),b=this.model.get("editable")?this.model:this.model.clone(),this.model.get("editable")||b.set({tags:[],note:"",time_created:null}),b.compose().done(function(){return d.stopLoading(),e.loading_compose=!1,new c({model:b})}),this.model.get("editable")?ga("send","event","link","edit"):ga("send","event","link","pick",this.model.get("url"))):((new f).prompt().done(function(){return d.show_compose_dialog()}),void 0)},d.prototype.render=function(){var a,b;return a=null!=(b=this.$(".item"))?b.hasClass("bulk-edit-selected"):void 0,this.$(".link-rank").tooltip("destroy"),this.subview("first_saver_overview")&&this.subview("first_saver_overview").dispose(),d.__super__.render.apply(this,arguments),this.$el.attr("data-md5",this.model.get("md5")),this.$("a.early-bird")&&this.create_first_saver_overview(),a&&this.$(".item").addClass("bulk-edit-selected"),this.$(".link-rank").tooltip({animation:!1})},d.prototype.attach=function(){return d.__super__.attach.apply(this,arguments),$(".links").hasClass("bulk-edit-on")?this.$("ul.tags .dropdown-toggle").addClass("disabled"):void 0},d.prototype.dispose=function(){return this.$(".link-rank").tooltip("destroy"),d.__super__.dispose.apply(this,arguments)},d.prototype.create_first_saver_overview=function(){var a;return a=new g({model:new h(this.model.get("first_saver")),anchor:this.$("a.early-bird")}),a.attach(),this.subview("first_saver_overview",a)},d.prototype.show_mobile_tags=function(a){return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),this.$(".mobile-tags-toggle").toggleClass("on"),this.$(".tags").toggleClass("on")},d.prototype.track_click=function(){return ga("send","event","link","click",this.model.get("url"))},d.prototype.submit_delete=function(a){return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),confirm("Are you sure to delete this link?")?(this.$("a.delete").text("Deleting...").attr("disabled","disabled"),this.model.remove()):void 0},d.prototype.share_popup=function(a){var b,c,d,e,f,g,h,i,j,k;return b=$(a.currentTarget),j=b.attr("href"),/^mailto/.test(j)?void 0:(a.preventDefault(),k=575,d=400,c=$(window),e=(c.width()-k)/2,i=(c.height()-d)/2,j.indexOf("text=")>-1&&(g=j.substring(j.indexOf("text=")+5,j.indexOf("&url=")),f=encodeURIComponent(j.substring(j.indexOf("text=")+5,j.indexOf("&url="))),j=j.replace(g,f)),h="status=1,width="+k+",height="+d+",top="+i+",left="+e,window.open(j,"Share from Delicious",h))},d}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/links/list",["chaplin","views/base/collection_view","views/links/link"],function(a,c,d){var e,f;return e=function(a){function c(){return f=c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.template="links/list",c.prototype.itemView=d,c.prototype.className=".links",c.prototype.listSelector=".link-list",c.prototype.previousLoadCount=0,c.prototype.editable=!1,c.prototype.by_user=!1,c.prototype.initialize=function(a){return c.__super__.initialize.call(this,a),this.editable=a.editable,this.by_user=a.by_user||!1,this.owner=a.owner,this.subscribeEvent("links:load-trigger",this.loadMore),this.subscribeEvent("links:load-finish",this.loadFinish),this.subscribeEvent("links:load-start",this.loadStart),this.editable&&this.subscribeEvent("links:new",this.refresh),this.subscribeEvent("links:deleted",this.linksRemoved),this.listenTo(this.collection,"reset",this.render)},c.prototype.events={"click a[href='#loadmore']":"loadMore"},c.prototype.refresh=function(){return this.collection.reset(),this.collection.fetch()},c.prototype.loadStart=function(){return this.startLoading(),this.$(".load-more-link").hide()},c.prototype.renderItem=function(a){var b;return b=!_.isEmpty(this.collection.urlParams.tags),a.set({editable:this.editable,by_user:this.by_user,owner:this.owner,filtering:b}),c.__super__.renderItem.call(this,a)},c.prototype.loadFinish=function(){return 0===this.collection.length&&this.$el.html("<div class='no-link-found'>No links found.</div>"),this.stopLoading(),this.previousLoadCount!==this.collection.length&&this.collection.length>=20?this.$(".load-more-link").show():void 0},c.prototype.linksRemoved=function(a){return this.previousLoadCount-=a},c}(c)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/modals/tag_editor",["views/base/modal","models/tag"],function(a){var c,d;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.template="modals/tag_editor",c.prototype.events={"click button.rename-tag":"rename_tag","click button.delete-tag":"delete_tag"},c.prototype.getTemplateData=function(){var a;return a=c.__super__.getTemplateData.apply(this,arguments),_.sortBy(a.items,function(a){return a.name.toLowerCase()})},c.prototype.rename_tag=function(a){var b,c,d,e=this;return a.preventDefault(),b=$(a.currentTarget),b.prop("disabled","disabled"),d=this.collection.find(function(a){return a.get("name")===this.$("option:selected").text()}),c=this.$(".new-tag-name").val().trim(),ga("send","event","tagcloud","rename","#{tag}, #{new_tag_name}"),c?d.rename(c).done(function(){var a;return e.$(".text-success").text("successfully."),a=_.find(e.$("option"),function(a){return $(a).text()===c}),a?(e.$("option:selected").remove(),$(a).prop("selected",!0)):e.$("option:selected").text(c),b.prop("disabled",""),_.delay(function(){return e?e.$(".text-success").text(""):void 0},5e3)}):void 0},c.prototype.delete_tag=function(a){var b,c,d,e=this;return a.preventDefault(),b=$(a.currentTarget),b.prop("disabled","disabled"),c=this.$("option:selected").text(),ga("send","event","tagcloud","delete",c),confirm('Are you sure to remove tag "'+c+'"?')?(d=this.collection.find(function(a){return a.get("name")===c}),d.remove().done(function(){return e.$("option:selected").remove(),e.$(".text-success").text('"'+c+'" deleted.'),b.prop("disabled",""),_.delay(function(){return e?e.$(".text-success").text(""):void 0},5e3)})):void 0},c}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/links/tagcloud",["views/base/hbsview","models/tags","views/modals/tag_editor"],function(a,c,d){var e,f;return e=function(a){function c(){return f=c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.template="links/tagcloud",c.prototype.autoRender=!1,c.prototype.autoAttach=!0,c.prototype.display_limit=100,c.prototype.show_all=!1,c.prototype.initialize=function(a){return c.__super__.initialize.call(this,a),this.editable=a.editable,this.listenTo(this.collection,"sort",this.render),this.listenTo(this.collection,"change",this.render),this.subscribeEvent("tags:managed",this.render)},c.prototype.sort_tags=function(a){var b;return a.preventDefault(),b=$(a.currentTarget),b.hasClass("sort-by-alphabet")?(this.collection.sort_by_name(!0),ga("send","event","tagcloud","sort","alpha")):(this.collection.sort_by_count(!0),ga("send","event","tagcloud","sort","count")),this.collection.sort()},c.prototype.edit_tag=function(a){return a.preventDefault(),ga("send","event","tagcloud","edit"),new d({collection:this.collection})},c.prototype.getTemplateData=function(){var a;return a=c.__super__.getTemplateData.apply(this,arguments),a.length>this.display_limit&&!this.show_all&&(a.items=_.first(a.items,this.display_limit),a.has_more=!0),a},c.prototype.events={"click a.show-all-tags":"show_all_tags"},c.prototype.show_all_tags=function(a){return null!=a&&a.preventDefault(),this.show_all=!0,this.render()},c.prototype.render=function(){return c.__super__.render.apply(this,arguments)},c.prototype.dispose=function(){return c.__super__.dispose.apply(this,arguments)},c}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b},c=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};define("views/modals/tagbundle",["chaplin","lib/session","views/base/modal","views/widgets/tag_input"],function(a,d,e,f){var g,h;return g=function(a){function e(){return h=e.__super__.constructor.apply(this,arguments)}return b(e,a),e.prototype.template="modals/tagbundle",e.prototype.bundle_name_blacklist=[],e.prototype.initialize=function(a){var b=this;return e.__super__.initialize.apply(this,arguments),this.bundle_name_blacklist=a.bundle_names,this.model.get("name")?this.bundle_name_blacklist=_.reject(this.bundle_name_blacklist,function(a){return a===b.model.get("name")}):void 0},e.prototype.events={"click button.text-btn-primary":"save_tagbundle","click button.text-btn-danger":"delete_tagbundle","submit form":"save_tagbundle"},e.prototype.save_tagbundle=function(a){var b,d,e,f=this;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),b=this.$("input[name='name']").val(),e=this.subview("taginput").get_values(),c.call(this.bundle_name_blacklist,b)>=0?(this.$("span.text-danger").text("A bundle with that name already exists."),_.delay(function(){return f.el?f.$("span.text-danger").text(""):void 0},3e3),void 0):e.trim()?(this.$("button.text-btn-primary").text("Saving...").prop("disabled","disabled"),this.model.get("name")&&(d=this.model.clone()),this.model.save({name:b,tags:e,previous:d}).done(function(){return f.$el.modal("hide"),d?f.publishEvent("tagbundles:change"):f.publishEvent("tagbundles:add",f.model)}).fail(function(a){return f.$("button.text-btn-primary").text("Save").prop("disabled",""),f.$("span.text-danger").text(a.pkg),_.delay(function(){return f.el?f.$("span.text-danger").text(""):void 0},3e3)})):(this.$("span.text-danger").text("Cannot create a bundle without tags."),_.delay(function(){var a;return f.el?null!=(a=f.$("span.text-danger"))?a.text(""):void 0:void 0},3e3),void 0)},e.prototype.delete_tagbundle=function(a){var b=this;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),ga("send","event","tagbundle","delete"),confirm("Are you sure to remove this bundle?")?(this.$("button.text-btn-danger").text("Deleting...").attr("disabled","disabled"),this.model["delete"]().done(function(){return b.$el.modal("hide")})):void 0},e.prototype.render=function(){return e.__super__.render.apply(this,arguments),this.subview("taginput",new f({el:this.$(".tags-input-container"),tags:d.user.get("tags"),name:"tags",value:this.model.get("tags"),multiline:!0}))},e}(e)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/links/tagbundles",["views/base/hbsview","views/modals/tagbundle","models/tag_bundle","chaplin","lib/session"],function(a,c,d,e,f){var g,h;return g=function(a){function e(){return h=e.__super__.constructor.apply(this,arguments)}return b(e,a),e.prototype.template="links/tagbundles",e.prototype.autoRender=!0,e.prototype.autoAttach=!0,e.prototype.events={"click a.edit":"show_tagbundle_dialog"},e.prototype.initialize=function(a){return e.__super__.initialize.call(this,a),this.editable=a.editable,this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"add",this.render),this.listenTo(this.collection,"remove",this.render),this.subscribeEvent("tagbundles:change",this.render),this.subscribeEvent("tagbundles:add",this.on_new_bundle_created)},e.prototype.getTemplateData=function(){var a;return a=e.__super__.getTemplateData.apply(this,arguments),a.editable=this.editable,a},e.prototype.show_tagbundle_dialog=function(a){var b,e,g,h=this;return"function"==typeof a.preventDefault&&a.preventDefault(),(b=$(a.currentTarget).attr("data-bundle"))?(e=this.collection.findWhere({name:b}),e?(ga("send","event","tagbundle","edit"),e.fetchTags(null!=(g=f.user)?g.get("username"):void 0,b).done(function(){return new c({model:e,bundle_names:h.collection.map(function(a){return a.get("name")})})})):void 0):(ga("send","event","tagbundle","create"),new c({model:new d,bundle_names:this.collection.map(function(a){return a.get("name")})}))},e.prototype.on_new_bundle_created=function(a){return this.collection.add(a),ga("send","event","tagbundle","created")},e}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/links/tag",["views/base/hbsview","helpers/links_stats_graph"],function(a,c){var d,e;return d=function(a){function d(){return e=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="links/tag",d.prototype.autoRender=!0,d.prototype.autoAttach=!0,d.prototype.render=function(){var a=this;return d.__super__.render.apply(this,arguments),this.model.get("weekly_save_trend")?setTimeout(function(){return a.$("#links_stats").length>0?c(a.$("#links_stats"),a.model.get("weekly_save_trend"),{max:750}):void 0},1987):void 0},d}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/links/welcome",["views/base/hbsview"],function(a){var c,d;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.template="links/welcome",c.prototype.autoRender=!0,c.prototype.autoAttach=!0,c.prototype.initialize=function(){return c.__super__.initialize.apply(this,arguments),this.subscribeEvent("links:new",this.on_adding_new_link)},c.prototype.on_adding_new_link=function(){return this.publishEvent("!router:route","/")},c}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/network/page",["views/base/pageview"],function(a){var c,d;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.template="network/page",c}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/network/link",["views/base/hbsview","views/modals/compose_link","chaplin","lib/session"],function(a,c,d,e){var f,g;return f=function(a){function d(){return g=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="network/link",d.prototype.className="link",d.prototype.events={"dblclick .item":"show_compose_dialog","click a.bookmark-btn":"show_compose_dialog","click a.mobile-tags-toggle":"show_mobile_tags","click a.title":"track_click"},d.prototype.render=function(){return d.__super__.render.apply(this,arguments),this.$el.attr("data-md5",this.model.get("md5")),this},d.prototype.getTemplateData=function(){var a;return a=d.__super__.getTemplateData.apply(this,arguments),a.saver=a.savers[0],a.owner=a.saver.username,a},d.prototype.show_compose_dialog=function(a){var b,d=this;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),e.loading_compose?void 0:(e.loading_compose=!0,this.startLoading(),b=this.model.clone(),b.get("editable")||b.set({tags:[],note:"",time_created:null}),b.compose().done(function(){return d.stopLoading(),e.loading_compose=!1,new c({model:b})}),ga("send","event","network","save",this.model.get("url")))},d.prototype.show_mobile_tags=function(a){return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),this.$(".mobile-tags-toggle").toggleClass("on"),this.$(".tags").toggleClass("on")},d.prototype.track_click=function(){return ga("send","event","network","click",this.model.get("url"))},d}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/network/list",["views/base/collection_view","views/network/link"],function(a,c){var d,e;return d=function(a){function d(){return e=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="network/list",d.prototype.itemView=c,d.prototype.className=".links",d.prototype.listSelector=".link-list",d.prototype.previousLoadCount=0,d.prototype.initialize=function(a){return d.__super__.initialize.call(this,a),this.subscribeEvent("links:load-trigger",this.loadMore),this.subscribeEvent("links:load-finish",this.loadFinished),this.subscribeEvent("links:load-start",this.startLoading)},d.prototype.loadFinished=function(){return this.stopLoading(),0===this.collection.length?this.$el.html("<div class='no-link-found'>There's no activity in your network. Try to <a href='/settings/friends'>find some friends</a> on Delicious.</div>"):void 0},d}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/links/single",["views/base/pageview"],function(a){var c,d;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.template="links/single",c.prototype.autoRender=!0,c}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/links/single/link",["views/base/hbsview","views/modals/compose_link","chaplin","lib/session","helpers/login_deferred","views/widgets/person_overview","models/user"],function(a,c,d,e,f,g,h){var i,j;return i=function(a){function d(){return j=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="links/single/link",d.prototype.autoRender=!0,d.prototype.initialize=function(){return d.__super__.initialize.apply(this,arguments),this.listenTo(this.model,"change",this.render)},d.prototype.events={"click a.bookmark-btn":"show_compose_dialog","click a.mobile-tags-toggle":"show_mobile_tags","click a.share-social":"share_popup"},d.prototype.show_compose_dialog=function(a){var b,d=this;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),e.loading_compose?void 0:e.user.get("isLoggedIn")?(b=this.model.clone(),new c({model:b})):((new f).prompt().done(function(){return d.show_compose_dialog()}),void 0)},d.prototype.render=function(){var a;return this.subview("person_overview")&&this.subview("person_overview").dispose(),d.__super__.render.apply(this,arguments),this.model?(a=new g({model:new h(this.model.get("first_saver")),anchor:this.$("a.early-bird")}),a.attach(),this.subview("person_overview",a)):void 0},d.prototype.show_mobile_tags=function(a){return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),this.$(".mobile-tags-toggle").toggleClass("on"),this.$(".tags").toggleClass("on")},d.prototype.share_popup=function(a){var b,c,d,e,f,g,h,i,j,k;return b=$(a.currentTarget),j=b.attr("href"),/^mailto/.test(j)?void 0:(a.preventDefault(),k=575,d=400,c=$(window),e=(c.width()-k)/2,i=(c.height()-d)/2,j.indexOf("text=")>-1&&(g=j.substring(j.indexOf("text=")+5,j.indexOf("&url=")),f=encodeURIComponent(j.substring(j.indexOf("text=")+5,j.indexOf("&url="))),j=j.replace(g,f)),h="status=1,width="+k+",height="+d+",top="+i+",left="+e,window.open(j,"Share from Delicious",h))},d}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/links/note",["views/base/hbsview"],function(a){var c,d;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.template="links/note",c.prototype.className="user-note",c.prototype.attach=function(){return c.__super__.attach.apply(this,arguments),this.$("a").tooltip({animation:!1,html:!0})},c.prototype.dispose=function(){return this.$("a").tooltip("destroy"),c.__super__.dispose.apply(this,arguments)},c}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/links/notes",["views/base/collection_view","views/links/note"],function(a,c){var d,e;return d=function(a){function d(){return e=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="links/notes",d.prototype.itemView=c,d.prototype.className=".notes",d.prototype.listSelector=".note-list",d.prototype.autoRender=!1,d.prototype.initialize=function(){return this.subscribeEvent("notes:load-finish",this.remove_loading)},d.prototype.render=function(){return d.__super__.render.apply(this,arguments),0===this.collection.length?this.$el.html("<div class='no-link-found'>We don't have any comments yet.</div>"):void 0},d.prototype.remove_loading=function(){return this.$(".load-more").remove()},d}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/links/related_tags",["views/base/hbsview"],function(a){var c,d;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.template="links/related_tags",c.prototype.autoAttach=!0,c.prototype.initialize=function(a){return c.__super__.initialize.apply(this,arguments),this.is_bundle=a.is_bundle,this.listenTo(this.collection,"reset",this.render)},c.prototype.getTemplateData=function(){var a;return a=c.__super__.getTemplateData.apply(this,arguments),a.is_bundle=this.is_bundle,a},c}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/discover/wizard",["chaplin","views/base/hbsview","models/connect"],function(a,c,d){var e,f;return e=function(a){function c(){return f=c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.template="discover/wizard",c.prototype.autoRender=!0,c.prototype.autoAttach=!0,c.prototype.events={"click button.thirdparty-login-twitter":"connect_to_twitter"},c.prototype.connect_to_twitter=function(){var a,b=this;return a=new d({providerId:"twitter"}),a.connect(!1,function(a){return"error"!==a.status&&"success"===a.status?(b.publishEvent("discover:reload"),b.dispose):void 0})},c}(c)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/discover/page",["views/base/pageview","views/discover/wizard"],function(a,c){var d,e;return d=function(a){function d(){return e=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="discover/page",d.prototype.initialize=function(){return d.__super__.initialize.apply(this,arguments),this.subscribeEvent("discover:prepare",this.on_discover_unprepared),this.subscribeEvent("discover:fallback",this.show_default_links)},d.prototype.on_discover_unprepared=function(){return this.subview("wizard",new c({el:this.$(".wizard")})),this.publishEvent("discover:fallback")},d.prototype.getTemplateData=function(){var a;return a=d.__super__.getTemplateData.apply(this,arguments)},d.prototype.show_default_links=function(){var a;return a=this.subview("links").collection,a.urlParams.type="recommend",a.fetch()},d}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b
};define("views/discover/link",["views/base/hbsview","models/link","views/modals/compose_link","chaplin","lib/session"],function(a,c,d,e,f){var g,h;return g=function(a){function e(){return h=e.__super__.constructor.apply(this,arguments)}return b(e,a),e.prototype.template="discover/link",e.prototype.className="link",e.prototype.domain_query=$("<a>"),e.prototype.getTemplateData=function(){var a,b;return a=e.__super__.getTemplateData.apply(this,arguments),a.tweet=_.first(a.publishers),a.tweet&&(a.tweet.avatar=null!=(b=a.tweet.avatar)?b.replace("http://a0","//si0"):void 0),a.saver=_.first(a.savers),a.domain=this.domain_query.attr("href",a.url).prop("hostname"),a},e.prototype.render=function(){return e.__super__.render.apply(this,arguments),this.$el.attr("data-md5",this.model.get("md5")),this},e.prototype.events={"click .bookmark-btn":"show_compose_dialog","click a.title":"track_click","dblclick div.item":"show_compose_dialog"},e.prototype.show_compose_dialog=function(a){var b,e=this;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),b=new c({url:this.model.get("url"),title:this.model.get("title")}),f.loading_compose?void 0:(f.loading_compose=!0,this.startLoading(),b.compose().done(function(){return e.stopLoading(),f.loading_compose=!1,new d({model:e.model})}),ga("send","event","discover","save",this.model.get("url")))},e.prototype.track_click=function(){return ga("send","event","discover","click",this.model.get("url"))},e}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/discover/list",["views/base/collection_view","views/discover/link"],function(a,c){var d,e;return d=function(a){function d(){return e=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="discover/list",d.prototype.itemView=c,d.prototype.className=".links",d.prototype.listSelector=".link-list",d.prototype.previousLoadCount=0,d.prototype.initialize=function(a){return d.__super__.initialize.call(this,a),this.subscribeEvent("links:load-trigger",this.loadMore),this.subscribeEvent("links:load-finish",this.loadFinished),this.subscribeEvent("discover:reload",this.reload),this.subscribeEvent("links:load-start",this.startLoading)},d.prototype.loadFinished=function(){return this.stopLoading(),0===this.collection.length?this.publishEvent("discover:fallback"):void 0},d.prototype.reload=function(){return this.collection.reset(),this.collection.fetch(),this.startLoading()},d}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("controllers/links_controller",["chaplin","lib/session","controllers/base/controller","models/links","models/user","models/tag","models/tags","models/tag_bundle","models/tag_bundles","models/notes","models/base/model","views/links/page","views/links/user","views/links/list","views/links/tagcloud","views/links/tagbundles","views/links/tag","views/links/welcome","views/network/page","views/network/list","views/links/single","views/links/single/link","views/links/notes","views/links/related_tags","views/discover/page","views/discover/list","views/not_found"],function(a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B){var C,D;return C=function(a){function d(){return D=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.person=function(a){var b,d,g,k,l,r,t,u=this;return r=a.username,b=r===(null!=(t=c.user)?t.get("username"):void 0),g=a.tag?decodeURIComponent(a.tag).split(","):[],k=a.tbd?decodeURIComponent(a.tbd):void 0,d=a.q?decodeURIComponent(a.q.replace(","," ")):[],b?l=c.user:(l=new f({username:r}),this.user=l),this.links=new e([],{urlParams:{username:r,tags:g,tagBundle:k,keywords:d,limit:20,hasImage:!1}}),this.view=new m({model:l,editable:b}),this.view.subview("user",new n({model:l,editable:b,el:this.view.$(".user-info")})),this.startLoading(),l.profile().done(function(a){return u.stopLoading(),null===a.pkg||"D"===l.get("status")?(u.view.dispose(),u.view=new B,void 0):(u.tags=new h([],{urlParams:{username:r}}),u.tags.fetch().done(function(){return u.tags.ensure_comparator(),u.tags.sort()}),u.tag_bundles=new j([],{urlParams:{username:r}}),u.tag_bundles.fetch({reset:!0}),b&&0===l.get("bookmark_count")?u.view.subview("links",new s({el:u.view.$(".links")})):u.view.subview("links",new o({collection:u.links,el:u.view.$(".links"),editable:b,by_user:!0,owner:r})),u.view.subview("tagcloud",new p({collection:u.tags,el:u.view.$(".tagcloud")})),u.view.subview("tagbundles",new q({collection:u.tag_bundles,el:u.view.$(".tagbundles"),editable:b})),u.view.subview("relatedtags",new y({collection:new h([]),el:u.view.$(".relatedtags")})),u.links.fetch().done(function(){return _.isEmpty(g)||u.view.update_related_tags(),k?u.view.update_bundle_tags(new i({name:k})):void 0}),_.each(g,function(a){return u.view.append_filter("#"+a,"tag")}),k&&u.view.append_filter("["+k+"]","tagbundle"),_.isEmpty(d)?void 0:u.view.append_filter('"'+d+'"',"search"))}),this.publishEvent("sidebar:change",{action:"page",location:b&&_.all([g,k,d],_.isEmpty)?"home":this.links.to_search_string()}),this.adjustTitle("@"+r)},d.prototype.tag=function(a){var b,c,d=this;return c=decodeURIComponent(a.tag),b=a.tab,this.thetag=new g({name:c}),this.startLoading(),this.thetag.history().done(function(){return d.stopLoading(),d.links="alltime"!==b?new e([],{urlParams:{hashtag:d.thetag.get("name"),sortBy:b,limit:20}}):new e([],{urlParams:{type:"everyone",tags:[d.thetag.get("name")],limit:20}}),d.view=new m({model:d.thetag,type:"tag",tab:b}),d.view.subview("tag",new r({model:d.thetag,el:d.view.$(".tag-info")})),d.view.subview("links",new o({collection:d.links,el:d.view.$(".links")})),d.links.fetch().done(function(){return 0===d.links.length?d.publishEvent("!router:route","/tag/"+c+"/alltime"):void 0}),d.adjustTitle(d.links.to_search_string()),d.publishEvent("sidebar:change",{action:"page",location:d.links.to_search_string()})})},d.prototype.network=function(){return c.user.get("isLoggedIn")?(this.links=new e([],{urlParams:{type:"network",limit:20,hasImage:!1}}),this.view=new t,this.view.subview("links",new u({collection:this.links,el:this.view.$(".links")})),this.links.fetch(),this.adjustTitle("Network"),this.publishEvent("sidebar:change",{action:"page",location:"network"})):(this.redirectTo("/"),void 0)},d.prototype.single=function(a){var b,c=this;return b=a.md5,this.links=new e([],{urlParams:{md5:b}}),this.startLoading(),this.links.fetch().done(function(){return c.stopLoading(),c.link=c.links.first(),c.view=new v({model:c.link}),c.link&&(c.adjustTitle(c.link.get("title")),c.view.subview("link",new w({model:c.link,el:c.view.$(".single-link")})),c.link.compose(),c.notes=new k([],{urlParams:{md5:b,limit:20}}),c.view.subview("notes",new x({collection:c.notes,el:c.view.$(".notes")})),c.notes.fetch().done(function(){return c.view.subview("notes").render()})),c.publishEvent("sidebar:change",{action:"page",location:"link"})})},d.prototype.search=function(a){var b,d,f;return b=decodeURIComponent(a.q),d=a.tab,(null!=(f=c.user)?f.get("isLoggedIn"):0)||(d="everyone"),this.query=new l({q:b}),this.links=new e([],{urlParams:{type:d,keywords:b}}),this.view=new m({model:this.query,type:"search",tab:d}),this.view.subview("links",new o({collection:this.links,el:this.view.$(".links"),editable:"you"===d})),this.links.fetch(),this.adjustTitle('"'+b+'"'),this.publishEvent("sidebar:change",{action:"page",location:'"'+b+'"'})},d.prototype.discover=function(){return c.user.get("isLoggedIn")?(this.links=new e([],{urlParams:{type:"discover"}}),this.view=new z,this.view.subview("links",new A({collection:this.links,el:this.view.$(".links")})),this.links.fetch(),this.publishEvent("sidebar:change",{action:"page",location:"discover"}),this.adjustTitle("Discover")):(this.redirectTo("/"),void 0)},d.prototype.domain=function(a){var b,c;return b=a.domain,c=a.tab,this.links=new e([],{urlParams:{type:c,domain:b}}),this.view=new m({model:new l({q:"("+b+")"}),type:"search",tab:c}),this.view.subview("links",new o({collection:this.links,el:this.view.$(".links")})),this.links.fetch(),this.adjustTitle("("+b+")"),this.publishEvent("sidebar:change",{action:"page",location:'"('+b+')"'})},d}(d)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("models/users",["models/base/collection","models/user"],function(a,c){var d,e;return d=function(a){function d(){return e=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.model=c,d.prototype.comparator=function(a){return a.get("username").toLowerCase()},d.prototype.filterBySocial=function(a){return this.filter(function(b){return _.contains(b.get("social_types"),a[0].toUpperCase()+a.slice(1))})},d.prototype.friends=function(){return this.url="/account/friends",this.fetch()},d.prototype.featured=function(){return this.url="/account/featuredusers",this.fetch()},d}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/user/relations/user_relationship",["views/base/pageview"],function(a){var c,d;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.template="user/relations/user_relationship",c.prototype.initialize=function(a){return this.type=a.type},c.prototype.getTemplateData=function(){var a;return a=c.__super__.getTemplateData.apply(this,arguments),a.is_following="following"===this.type,a},c}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/user/relations/user_relationships",["chaplin","lib/session","views/base/hbsview"],function(a,c,d){var e,f;return e=function(a){function d(){return f=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="user/relations/user_relationships",d.prototype.autoRender=!1,d.prototype.initialize=function(){return d.__super__.initialize.apply(this,arguments),this.listenTo(this.collection,"reset",this.render)},d.prototype.events={"click a[href=#unfollow]":"unfollow","click a[href=#follow]":"follow"},d.prototype.getTemplateData=function(){var a,b;return b=c.user.get("follows"),this.collection.each(function(a){return a.set("am_following_them",!_.isEmpty(_.where(b,{username:a.get("username")}))),a.set("is_me",a.get("username")===c.user.get("username"))}),a=d.__super__.getTemplateData.apply(this,arguments),a.items},d.prototype.unfollow=function(a){var b,d,e;return a.preventDefault(),b=$(a.currentTarget),e=b.attr("data-user"),c.user?(b.html(b.html()+"..."),d=this.collection.findWhere({username:e}),c.user.unfollowUser(d).done(function(){return b.attr("href","#follow").html("<span class='follow-text''>Follow</span>").removeClass("follow-toggle-following").addClass("follow-toggle-not-following")})):void 0},d.prototype.follow=function(a){var b,d,e;return a.preventDefault(),b=$(a.currentTarget),e=b.attr("data-user"),c.user?(b.html(b.html()+"..."),d=this.collection.findWhere({username:e}),c.user.followUser(d).done(function(){return b.attr("href","#unfollow").html("<span class='following-text'>Following</span><span class='unfollow-text'>Unfollow</span>").removeClass("follow-toggle-not-following").addClass("follow-toggle-following")})):void 0},d}(d)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("models/connects",["models/base/collection","models/connect"],function(a,c){var d,e;return d=function(a){function d(){return e=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.model=c,d.prototype.url="/connect",d.prototype.parse=function(){var a;return a=d.__super__.parse.apply(this,arguments),_.flatten(_.values(a))},d.prototype.filterForLinkImporting=function(){return this.filter(function(a){return a.get("active")===!0})},d.prototype.findByProvider=function(a){return this.find(function(b){return b.get("providerId")===a})},d}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/user/settings/thirdparty",["views/base/hbsview","models/connect"],function(a,c){var d,e;return d=function(a){function d(){return e=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="user/settings/thirdparty",d.prototype.autoRender=!0,d.prototype.autoAttach=!0,d.prototype.events={"click .connect-button":"to_connect","change .import-control":"check_import_options","click .disconnect-button":"to_disconnect","submit .thirdparty-options":"save_settings"},d.prototype.to_connect=function(a){var b,d,e=this;return d=$(a.currentTarget).attr("data-service"),b=new c({providerId:d}),b.connect(!1,function(a){return"error"!==a.status&&"success"===a.status?e.model.fetch({reset:!0}).done(function(){return e.render()}):void 0})},d.prototype.getTemplateData=function(){var a,b,c;return{twitter:null!=(a=this.model.findWhere({providerId:"twitter"}))?a.toJSON():void 0,facebook:null!=(b=this.model.findWhere({providerId:"facebook"}))?b.toJSON():void 0,google:null!=(c=this.model.findWhere({providerId:"google"}))?c.toJSON():void 0}},d.prototype.render=function(){return d.__super__.render.apply(this,arguments),this.check_import_options()},d.prototype.check_import_options=function(){return _.each(this.$(".import-control"),function(a){var b,c;return c=$(a).prop("checked"),b=$(a).parents("form"),$(".thirdparty-privacy-control",b).prop("disabled",c?"":"disabled"),$(".thirdparty-tag-control",b).prop("contentEditable",c)})},d.prototype.to_disconnect=function(a){var b,c,d=this;return c=$(a.currentTarget).attr("data-service"),b=this.model.findWhere({providerId:c}),b.disconnect().done(function(){return d.render()})},d.prototype.save_settings=function(a){var b,c,d,e,f,g=this;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),c=$(a.currentTarget),f=c.attr("data-service"),d={active:c.find(".import-control").prop("checked"),privacy:c.find(".thirdparty-privacy-control option:selected").val(),tags:c.find(".thirdparty-tag-control").text()},e=this.model.findWhere({providerId:f}),this.publishEvent("settings:saving"),b=c.find("button[type='submit']"),b.text("Saving..."),b.prop("disabled","disabled"),e.update(d,function(){return g.publishEvent("settings:saved"),b.text("saved"),_.delay(function(){return b.prop("disabled",""),b.text("save")},2e3)})},d}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/user/settings",["views/base/pageview","chaplin","lib/session","models/connects","views/user/settings/thirdparty"],function(a,c,d,e,f){var g,h;return g=function(a){function c(){return h=c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.template="user/settings",c.prototype.maxFileSize=2e3,c.prototype.initialize=function(a){return c.__super__.initialize.apply(this,arguments),this.tab=a.tab,this.subscribeEvent("settings:saving",this.startLoading),this.subscribeEvent("settings:saved",this.stopLoading)},c.prototype.render=function(){var a=this;return c.__super__.render.apply(this,arguments),this.update_chars_remaining(),this.conns=new e,this.conns.fetch().done(function(){return a.subview("thirdparty",new f({model:a.conns,el:a.$(".thirdparty-items")}))})},c.prototype.attach=function(){var a;return c.__super__.attach.apply(this,arguments),this.tab?null!=(a=this.$("ul.actions a[href='#"+this.tab+"']"))?a.tab("show"):void 0:void 0},c.prototype.events={"submit #profile_form":"submit_profile","click .avatar_edit":"select_avatar","change #avatar_file":"upload_avatar","keyup #bio":"update_chars_remaining","submit #email_form":"submit_email","submit #password_form":"submit_password","submit #deactivate_form":"submit_deactivate","click a[data-toggle]":"update_tab_url"},c.prototype.update_tab_url=function(a){var b,c;return b=null!=(c=$(a.currentTarget).attr("href"))?c.substring(1):void 0,b?this.publishEvent("!router:changeURL","/settings/"+b):void 0},c.prototype.update_chars_remaining=function(){var a,b;return b=this.$("#bio").val().length,a=140-b,a>=0?this.$("#bio_chars_remaining").removeClass("error").text(a):this.$("#bio_chars_remaining").addClass("error").text(a)},c.prototype.submit_profile=function(a){var b,c=this;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),b={full_name:this.$("#display_name").val(),profile_bio:this.$("#bio").val(),profile_url:this.$("#url").val()},this.$("#profile_submit").text("Saving...").prop("disabled","disabled"),this.publishEvent("settings:saving"),d.user.update(b).done(function(){return c.$("#profile_submit").text("Saved"),c.publishEvent("settings:saved"),_.delay(function(){return c.$("#profile_submit").text("Save").prop("disabled","")},2500)})},c.prototype.select_avatar=function(){return this.$("#avatar_file").click()},c.prototype.upload_avatar=function(a){var b,c=this;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),this.$("#avatar_file")[0].files&&this.$("#avatar_file")[0].files[0].size/1e3>this.maxFileSize?(alert("Image size too big."),void 0):(b=new FormData,b.append("photo",this.$("#avatar_file")[0].files[0]),this.$(".avatar_edit").text("Uploading").prop("disabled","disabled"),this.$(".avatar-wrapper").addClass("uploading"),this.publishEvent("settings:saving"),d.user.updateAvatar(b).done(function(){return c.$(".avatar_edit").text("Change").prop("disabled",""),c.$(".avatar-wrapper").removeClass("uploading"),_.delay(function(){return c.$(".avatar_display").attr("src",d.user.get("avatar_url")),c.publishEvent("settings:saved")},2500)}))},c.prototype.submit_email=function(a){var b,c=this;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),b={profile_email:this.$("#profile_email").val()},this.$("#email_submit").text("Saving...").prop("disabled","disabled"),this.publishEvent("settings:saving"),d.user.update(b).done(function(){return c.$("#email_submit").text("Saved"),_.delay(function(){return c.$("#email_submit").text("Save").prop("disabled",""),c.publishEvent("settings:saved")},2500)})},c.prototype.submit_password=function(a){var b,c=this;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),this.$("#password_error").text(""),this.$("#new_password").val()===!this.$("#new_password_confirm").val()?(this.$("#password_error").text("The new password mismatch"),void 0):this.$("#new_password").val()===this.$("#original_password").val()?(this.$("#password_error").text("The new password you entered matches the current password."),void 0):this.$("#new_password").val().length<8?(this.$("#password_error").text("The new password must be at least 8 characters long."),void 0):(b={old_password:this.$("#original_password").val(),new_password:this.$("#new_password").val()},this.$("#password_submit").text("Saving...").prop("disabled","disabled"),this.publishEvent("settings:saving"),d.user.changePassword(b).done(function(){return c.$("#password_submit").text("Saved"),c.publishEvent("settings:saved"),_.delay(function(){return c.$("#password_submit").text("Save").prop("disabled","")},2500)}).fail(function(a){return c.$("#password_submit").text("Save").prop("disabled",""),c.publishEvent("settings:saved"),a?c.$("#password_error").text(a.error.charAt(0).toUpperCase()+a.error.slice(1)+"."):void 0}),this.$("#password_form input[type='password']").val(""))},c.prototype.submit_deactivate=function(a){var b,c=this;return null!=a&&"function"==typeof a.preventDefault&&a.preventDefault(),b=this.$("#deactivate_account_password").val(),this.$("#deactivate_submit").text("Processing").prop("disabled","disabled"),this.publishEvent("settings:saving"),d.user.deactivate({passwd:b}).done(function(){return window.location="/"}).fail(function(a){return c.$("#deactivate_submit").text("Yes, deactivate my account").prop("disabled",""),c.publishEvent("settings:saved"),a?c.$("#deactivate_error").text(a.error.charAt(0).toUpperCase()+a.error.slice(1)+"."):void 0})},c}(a)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views/user/settings/friends",["chaplin","lib/session","views/base/pageview","models/user","models/users"],function(a,c,d){var e,f;return e=function(a){function d(){return f=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="user/settings/friends",d.prototype.autoRender=!1,d.prototype.autoAttach=!0,d.prototype.initialize=function(){var a=this;return d.__super__.initialize.apply(this,arguments),this.collection.friends().done(function(){return a.collection.length>0?a.render():a.collection.featured().done(function(){return a.render()})})},d.prototype.events={"click a[href=#unfollow]":"unfollow","click a[href=#follow]":"follow"},d.prototype.unfollow=function(a){var b,d,e;return a.preventDefault(),b=$(a.currentTarget),e=b.attr("data-user"),c.user?(b.html(b.html()+"..."),d=this.collection.findWhere({username:e}),c.user.unfollowUser(d).done(function(){return b.attr("href","#follow").html("<span class='follow-text''>Follow</span>").removeClass("follow-toggle-following").addClass("follow-toggle-not-following")})):void 0},d.prototype.follow=function(a){var b,d,e;return a.preventDefault(),b=$(a.currentTarget),e=b.attr("data-user"),c.user?(b.html(b.html()+"..."),d=this.collection.findWhere({username:e}),c.user.followUser(d).done(function(){return b.attr("href","#unfollow").html("<span class='following-text'>Following</span><span class='unfollow-text'>Unfollow</span>").removeClass("follow-toggle-not-following").addClass("follow-toggle-following")})):void 0},d}(d)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("controllers/user_controller",["chaplin","lib/session","controllers/base/controller","models/user","models/tags","models/links","models/users","views/user/relations/user_relationship","views/user/relations/user_relationships","views/user/settings","views/user/settings/friends","views/not_found"],function(a,c,d,e,f,g,h,i,j,k,l){var m,n;return m=function(a){function d(){return n=d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.following=function(a){var b,c=this;return b=a.username,this.user=new e({username:b}),this.startLoading(),this.user.profile().done(function(){return c.stopLoading(),c.following=new h,c.following.comparator=function(a){return-(a.get("time_created")||0)},c.following.url=c.user.getFollowingUrl(),c.following.fetch({reset:!0}),c.view=new i({model:c.user,type:"following"}),c.view.subview("people",new j({collection:c.following,el:c.view.$(".people")})),c.adjustTitle("@"+b+" following")})},d.prototype.followers=function(a){var b,c=this;return b=a.username,this.user=new e({username:b}),this.startLoading(),this.user.profile().done(function(){return c.stopLoading(),c.followers=new h,c.followers.comparator=function(a){return-(a.get("time_created")||0)},c.followers.url=c.user.getFollowersUrl(),c.followers.fetch({reset:!0}),c.view=new i({model:c.user,type:"follower"}),c.view.subview("people",new j({collection:c.followers,el:c.view.$(".people")})),c.adjustTitle("@"+b+" followers")})},d.prototype.settings=function(a){return c.user.get("isLoggedIn")||this.redirectTo("/"),this.view=new k({model:c.user.clone(),tab:a.tab}),this.publishEvent("sidebar:change",{action:"page",location:"settings"}),this.adjustTitle("Settings")},d.prototype.find_friends=function(){return c.user.get("isLoggedIn")||this.redirectTo("/"),this.friends=new h,this.view=new l({collection:this.friends}),this.publishEvent("sidebar:change",{action:"page"}),this.adjustTitle("Find Friends")},d}(d)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("application",["chaplin","views/layout","models/user","store","lib/session","controllers/home_controller","controllers/links_controller","controllers/user_controller"],function(a,c,d,e,f){var g,h;return g=function(a){function g(){return h=g.__super__.constructor.apply(this,arguments)}return b(g,a),g.prototype.title="Delicious",g.prototype.initLayout=function(a){var b,g;return b=e.get("user")||null,g=new d(b),f.user=g,g.get("username")&&g.loginSilent(),this.layout=new c(_.defaults(a,{title:this.title}))},g.prototype.initRouter=function(){return g.__super__.initRouter.apply(this,arguments),this.subscribeEvent("!router:route",function(a){return ga("send","pageview",a)})},g}(a.Application)})}.call(this),function(){define("routes",[],function(){return function(a){return a("","home#index"),a("logout","home#logout"),a("validate/:token","home#validate_email"),a("tag/:tag","links#tag",{params:{tab:"hot"}}),a("tag/:tag/popular","links#tag",{params:{tab:"hot"}}),a("tag/:tag/recent","links#tag",{params:{tab:"recent"}}),a("tag/:tag/alltime","links#tag",{params:{tab:"alltime"}}),a("search/:q","links#search",{params:{tab:"everyone"}}),a("search/:q/everyone","links#search",{params:{tab:"everyone"}}),a("search/:q/network","links#search",{params:{tab:"network"}}),a("search/:q/mine","links#search",{params:{tab:"you"}}),a("domain/:domain","links#domain",{params:{tab:"everyone"}}),a("domain/everyone/:domain","links#domain",{params:{tab:"everyone"}}),a("domain/network/:domain","links#domain",{params:{tab:"network"}}),a("domain/you/:domain","links#domain",{params:{tab:"you"}}),a("link/:md5","links#single"),a("network","links#network"),a("discover","links#discover"),a("settings","user#settings"),a("settings/pw/:id/:time/:passhash","home#reset_password"),a("settings/friends","user#find_friends"),a("settings/:tab","user#settings"),a("about","home#page",{params:{page:"about"}}),a("apps","home#page",{params:{page:"apps"}}),a("tools","home#page",{params:{page:"tools"}}),a("help","home#page",{params:{page:"help"}}),a("help/firefox","home#page",{params:{page:"firefox"}}),a("help/*any","home#page",{params:{page:"help"}}),a("shortcuts","home#page",{params:{page:"shortcuts"}}),a("rss","home#page",{params:{page:"rss"}}),a("developers","home#page",{params:{page:"developers"}}),a("terms","home#page",{params:{page:"terms"}}),a("terms-update","home#page",{params:{page:"terms-update"}}),a("privacy","home#page",{params:{page:"privacy"}}),a("copyright","home#page",{params:{page:"copyright"}}),a("upgradebrowser","home#page",{params:{page:"upgradebrowser"}}),a("signin","home#signin"),a("join","home#signup"),a(":username/following","user#following"),a(":username/followers","user#followers"),a("post","bookmarklet#compose_link"),a("save","bookmarklet#compose_link"),a(":username","links#person"),a(":username/:tag","links#person"),a(":username/tag_bundle/:tbd","links#person"),a(":username/tag_bundle/:tbd/search/:q","links#person"),a(":username/search/:q","links#person"),a(":username/:tag/search/:q","links#person"),a("*anything","home#not_found")}})}.call(this),!jQuery)throw new Error("Bootstrap requires jQuery");+function(a){function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]}}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(window.jQuery),+function(a){var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){f.trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one(a.support.transition.end,c).emulateTransitionEnd(150):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("bs.alert");e||d.data("bs.alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.bs.alert.data-api",b,c.prototype.close)}(window.jQuery),+function(a){var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d)};b.DEFAULTS={loadingText:"loading..."},b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.is("input")?"val":"html",e=c.data();a+="Text",e.resetText||c.data("resetText",c[d]()),c[d](e[a]||this.options[a]),setTimeout(function(){"loadingText"==a?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons"]');if(a.length){var b=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");"radio"===b.prop("type")&&a.find(".active").removeClass("active")}this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof c&&c;e||d.data("bs.button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.bs.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle"),b.preventDefault()})}(window.jQuery),+function(a){var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},b.prototype.to=function(b){var c=this,d=this.getActiveIndex();if(!(b>this.$items.length-1||0>b))return this.sliding?this.$element.one("slid",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){return this.sliding?void 0:this.slide("next")},b.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},b.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;
if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}this.sliding=!0,f&&this.pause();var j=a.Event("slide.bs.carousel",{relatedTarget:e[0],direction:g});if(!e.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(j),j.isDefaultPrevented())return;e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(j),j.isDefaultPrevented())return;d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return f&&this.cycle(),this}};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("bs.carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d=a(this),e=a(d.attr("data-target")||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),d.data()),g=d.attr("data-slide-to");g&&(f.interval=!1),e.carousel(f),(g=d.attr("data-slide-to"))&&e.data("bs.carousel").to(g),b.preventDefault()}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);b.carousel(b.data())})})}(window.jQuery),+function(a){var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.$parent&&this.$parent.find("> .panel > .in");if(c&&c.length){var d=c.data("bs.collapse");if(d&&d.transitioning)return;c.collapse("hide"),d||c.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0),this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("in")[e]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);var g=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return a.support.transition?(this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350),void 0):d.call(this)}}},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);e||d.data("bs.collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e),g=f.data("bs.collapse"),h=g?"toggle":d.data(),i=d.attr("data-parent"),j=i&&a(i);g&&g.transitioning||(j&&j.find('[data-toggle=collapse][data-parent="'+i+'"]').not(d).addClass("collapsed"),d[f.hasClass("in")?"addClass":"removeClass"]("collapsed")),f.collapse(h)})}(window.jQuery),+function(a){function b(){a(d).remove(),a(e).each(function(b){var d=c(a(this));d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown")),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown"))})}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}var d=".dropdown-backdrop",e="[data-toggle=dropdown]",f=function(b){a(b).on("click.bs.dropdown",this.toggle)};f.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){if("ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b),f.trigger(d=a.Event("show.bs.dropdown")),d.isDefaultPrevented())return;f.toggleClass("open").trigger("shown.bs.dropdown"),e.focus()}return!1}},f.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var f=c(d),g=f.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&f.find(e).focus(),d.click();var h=a("[role=menu] li:not(.divider):visible a",f);if(h.length){var i=h.index(h.filter(":focus"));38==b.keyCode&&i>0&&i--,40==b.keyCode&&i<h.length-1&&i++,~i||(i=0),h.eq(i).focus()}}}};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("dropdown");d||c.data("dropdown",d=new f(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=f,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",e,f.prototype.toggle).on("keydown.bs.dropdown.data-api",e+", [role=menu]",f.prototype.keydown)}(window.jQuery),+function(a){var b=function(b,c){this.options=c,this.$element=a(b),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this[this.isShown?"hide":"show"](a)},b.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body),c.$element.show(),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one(a.support.transition.end,function(){c.$element.focus().trigger(e)}).emulateTransitionEnd(300):c.$element.focus().trigger(e)}))},b.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]!==a.target&&!this.$element.has(a.target).length&&this.$element.focus()},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden.bs.modal")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);f||e.data("bs.modal",f=new b(this,g)),"string"==typeof c?f[c](d):g.show&&f.show(d)})},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f,this).one("hide",function(){c.is(":visible")&&c.focus()})}),a(document).on("show.bs.modal",".modal",function(){a(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){a(document.body).removeClass("modal-open")})}(window.jQuery),+function(a){var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focus",i="hover"==g?"mouseleave":"blur";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show),void 0):c.show()},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide),void 0):c.hide()},b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(b),b.isDefaultPrevented())return;var c=this.tip();this.setContent(),this.options.animation&&c.addClass("fade");var d="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,e=/\s?auto?\s?/i,f=e.test(d);f&&(d=d.replace(e,"")||"top"),c.detach().css({top:0,left:0,display:"block"}).addClass(d),this.options.container?c.appendTo(this.options.container):c.insertAfter(this.$element);var g=this.getPosition(),h=c[0].offsetWidth,i=c[0].offsetHeight;if(f){var j=this.$element.parent(),k=d,l=document.documentElement.scrollTop||document.body.scrollTop,m="body"==this.options.container?window.innerWidth:j.outerWidth(),n="body"==this.options.container?window.innerHeight:j.outerHeight(),o="body"==this.options.container?0:j.offset().left;d="bottom"==d&&g.top+g.height+i-l>n?"top":"top"==d&&g.top-l-i<0?"bottom":"right"==d&&g.right+h>m?"left":"left"==d&&g.left-h<o?"right":d,c.removeClass(k).addClass(d)}var p=this.getCalculatedOffset(d,g,h,i);this.applyPlacement(p,d),this.$element.trigger("shown.bs."+this.type)}},b.prototype.applyPlacement=function(a,b){var c,d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),a.top=a.top+g,a.left=a.left+h,d.offset(a).addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;if("top"==b&&j!=f&&(c=!0,a.top=a.top+f-j),/bottom|top/.test(b)){var k=0;a.left<0&&(k=-2*a.left,a.left=0,d.offset(a),i=d[0].offsetWidth,j=d[0].offsetHeight),this.replaceArrow(k-e+i,i,"left")}else this.replaceArrow(j-f,j,"top");c&&d.offset(a)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach()}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,b).emulateTransitionEnd(150):b(),this.$element.trigger("hidden.bs."+this.type),this)},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof c&&c;e||d.data("bs.tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(window.jQuery),+function(a){var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof c&&c;e||d.data("bs.popover",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(window.jQuery),+function(a){function b(c,d){var e,f=a.proxy(this.process,this);this.$element=a(c).is("body")?a(window):a(c),this.$body=a("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",f),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||(e=a(c).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=a([]),this.targets=a([]),this.activeTarget=null,this.refresh(),this.process()}b.DEFAULTS={offset:10},b.prototype.refresh=function(){var b=this.$element[0]==window?"offset":"position";this.offsets=a([]),this.targets=a([]);var c=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#\w/.test(e)&&a(e);return f&&f.length&&[[f[b]().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parents(".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate")};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery),+function(a){var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.attr("data-target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.parent("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},b.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e).emulateTransitionEnd(150):e(),f.removeClass("in")};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(window.jQuery),+function(a){var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(c),this.affixed=this.unpin=null,this.checkPosition()};b.RESET="affix affix-top affix-bottom",b.DEFAULTS={offset:0},b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top()),"function"==typeof h&&(h=f.bottom());var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=c-h?"bottom":null!=g&&g>=d?"top":!1;this.affixed!==i&&(this.unpin&&this.$element.css("top",""),this.affixed=i,this.unpin="bottom"==i?e.top-d:null,this.$element.removeClass(b.RESET).addClass("affix"+(i?"-"+i:"")),"bottom"==i&&this.$element.offset({top:document.body.offsetHeight-h-this.$element.height()}))}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof c&&c;e||d.data("bs.affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(window.jQuery),define("bootstrap",["jquery"],function(){}),function(){var a="undefined"!=typeof exports?exports:this,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=function(){try{document.createElement("$")}catch(a){return a}}();a.btoa||(a.btoa=function(a){for(var d,e,f=0,g=b,h="";a.charAt(0|f)||(g="=",f%1);h+=g.charAt(63&d>>8-8*(f%1))){if(e=a.charCodeAt(f+=.75),e>255)throw c;d=d<<8|e}return h}),a.atob||(a.atob=function(a){if(a=a.replace(/=+$/,""),1==a.length%4)throw c;for(var d,e,f=0,g=0,h="";e=a.charAt(g++);~e&&(d=f%4?64*d+e:e,f++%4)?h+=String.fromCharCode(255&d>>(6&-2*f)):0)e=b.indexOf(e);return h})}(),define("base64",function(){}),function(a,b,c){function d(a){return a}function e(a){return f(decodeURIComponent(a.replace(h," ")))}function f(a){return 0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),a}function g(a){return i.json?JSON.parse(a):a}var h=/\+/g,i=a.cookie=function(f,h,j){if(h!==c){if(j=a.extend({},i.defaults,j),null===h&&(j.expires=-1),"number"==typeof j.expires){var k=j.expires,l=j.expires=new Date;l.setDate(l.getDate()+k)}return h=i.json?JSON.stringify(h):String(h),b.cookie=[encodeURIComponent(f),"=",i.raw?h:encodeURIComponent(h),j.expires?"; expires="+j.expires.toUTCString():"",j.path?"; path="+j.path:"",j.domain?"; domain="+j.domain:"",j.secure?"; secure":""].join("")}for(var m=i.raw?d:e,n=b.cookie.split("; "),o=f?null:{},p=0,q=n.length;q>p;p++){var r=n[p].split("="),s=m(r.shift()),t=m(r.join("="));if(f&&f===s){o=g(t);break}f||(o[s]=g(t))}return o};i.defaults={},a.removeCookie=function(b,c){return null!==a.cookie(b)?(a.cookie(b,null,c),!0):!1}}(jQuery,document),define("$cookie",["jquery"],function(){}),function(){define("helpers/handlebars/common",["chaplin","lib/session","handlebars","underscore"],function(a,b,c,d){return c.registerHelper("or",function(a,b){return a||b}),c.registerHelper("formatDate",function(a){return moment(new Date(1e3*a)).calendar()}),c.registerHelper("formatDateFull",function(a){return moment(new Date(1e3*a)).format("LT - MMM D, YYYY")}),c.registerHelper("formatDateRelative",function(a){return moment(new Date(1e3*a)).fromNow()}),c.registerHelper("formatMachineDate",function(a){return moment(new Date(1e3*a)).format()}),c.registerHelper("formatDateString",function(a){return moment(new Date(1e3*a)).format("MMM D, YYYY")}),c.registerHelper("formatMachineDate0",function(a){return moment(new Date(a)).format()}),c.registerHelper("formatDate0",function(a){return moment(new Date(a)).calendar()}),c.registerHelper("formatDate0Full",function(a){return moment(new Date(a)).format("LT - MMM D, YYYY")}),c.registerHelper("formatDate0Relative",function(a){return moment(new Date(a)).fromNow()}),c.registerHelper("tagcloud",function(a){var b,e,f,g,h,i;return f=24,i=13,e=1,h=.3,g=d.max(d.map(a.items,function(a){return a.num_saves})),b=d.map(a.items,function(a){var b,c;return c=a.num_saves/g*(f-i)+i,b=a.num_saves/g*(e-h)+h,"<li><a href='#' data-tag='"+a.name+"' style='font-size: "+c+"px; opacity: "+b+";' title='"+a.num_saves+" link"+(a.num_saves>1?"s":"")+" in "+d.escape(a.name)+"'>"+d.escape(a.name)+"</a></li> "}).join(" "),new c.SafeString(b)}),c.registerHelper("ifMe",function(a){return b.user.get("username")===this.username?a.fn(this):a.inverse(this)}),c.registerHelper("ifLoggedIn",function(a){return b.user.get("username")?a.fn(this):a.inverse(this)}),c.registerHelper("ordinal",function(a){var b;switch(a){case 1:b="1st";break;case 2:b="2nd";break;case 3:b="3rd";break;default:b=""+a+"th"}return""+b}),c.registerHelper("shortSnippet",function(a,b){var d,e;return a?a.length<b?new c.SafeString(a):(d=a.substring(0,b-1),(null!=(e=d.match(/<p>/g))?e.length:void 0)!==d.match(/<\/p>/g)&&(d+="&hellip;</p>"),new c.SafeString(d)):""}),c.registerHelper("loadMore",function(){return new c.SafeString("<div class='load-more'>\n  <div class='logo load-icon'>\n    <i class='s1'></i>\n    <i class='s2'></i>\n    <i class='s3'></i>\n    <i class='s4'></i>\n  </div>\n</div>")}),c.registerHelper("truncateMd5",function(a,b){var d,e;if(a.length>b){for(e=a.substr(0,b+1);e.length&&(d=e.substr(-1),e=e.substr(0,-1)," "!==d););return""===e&&(e=a.substr(0,b)),new c.SafeString(e)}return a}),c.registerHelper("if_eq",function(a,b){return a===b.hash.compare?b.fn(this):b.inverse(this)}),c.registerHelper("if_gt",function(a,b){return a>b.hash.compare?b.fn(this):b.inverse(this)}),c.registerHelper("privacy_option_check",function(a){return a===this.value?"selected":void 0}),c.registerHelper("highlightUrlInTweet",function(a){var b;return b=c.Utils.escapeExpression(a),b=b.replace(/(\bhttps?:\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' class='tweet-link' target='_blank'><i class='d-icon-external'></i></a>"),new c.SafeString(b)}),c.registerHelper("URLEncode",function(a){return encodeURIComponent(a)}),c.registerHelper("profileUrlBeautify",function(a){return a.replace(/https?:\/\/(.*?)\/?$/,"$1")}),c.registerHelper("decode",function(a){return d.unescape(a)})})}.call(this),function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};define("lib/shim",[],function(){return"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.indexOf?void 0:Array.prototype.indexOf=function(b,c){var d;for(d=this.length>>>0,c=Number(arguments[1])||0,c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=d);d>c;){if(a.call(this,c)>=0&&this[c]===b)return c;c+=1}return-1}})}.call(this),function(a,b,c,d){function e(b,c){this.element=b,this.$context=a(b).data("api",this),this.$layers=this.$context.find(".layer");var d={calibrateX:this.$context.data("calibrate-x")||null,calibrateY:this.$context.data("calibrate-y")||null,invertX:this.$context.data("invert-x")||null,invertY:this.$context.data("invert-y")||null,limitX:parseFloat(this.$context.data("limit-x"))||null,limitY:parseFloat(this.$context.data("limit-y"))||null,scalarX:parseFloat(this.$context.data("scalar-x"))||null,scalarY:parseFloat(this.$context.data("scalar-y"))||null,frictionX:parseFloat(this.$context.data("friction-x"))||null,frictionY:parseFloat(this.$context.data("friction-y"))||null};for(var e in d)null===d[e]&&delete d[e];a.extend(this,h,c,d),this.calibrationTimer=null,this.calibrationFlag=!0,this.enabled=!1,this.depths=[],this.raf=null,this.ox=0,this.oy=0,this.ow=0,this.oh=0,this.cx=0,this.cy=0,this.ix=0,this.iy=0,this.mx=0,this.my=0,this.vx=0,this.vy=0,this.onMouseMove=this.onMouseMove.bind(this),this.onDeviceOrientation=this.onDeviceOrientation.bind(this),this.onOrientationTimer=this.onOrientationTimer.bind(this),this.onCalibrationTimer=this.onCalibrationTimer.bind(this),this.onAnimationFrame=this.onAnimationFrame.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.initialise()}var f="parallax",g=30,h={calibrationThreshold:100,calibrationDelay:500,supportDelay:500,calibrateX:!1,calibrateY:!0,invertX:!0,invertY:!0,limitX:!1,limitY:!1,scalarX:10,scalarY:10,frictionX:.1,frictionY:.1};e.prototype.transformSupport=function(a){for(var e=c.createElement("div"),f=!1,g=null,h=!1,i=null,j=null,k=0,l=this.vendors.length;l>k;k++)if(null!==this.vendors[k]?(i=this.vendors[k][0]+"transform",j=this.vendors[k][1]+"Transform"):(i="transform",j="transform"),e.style[j]!==d){f=!0;break}switch(a){case"2D":h=f;break;case"3D":f&&(c.body.appendChild(e),e.style[j]="translate3d(1px,1px,1px)",g=b.getComputedStyle(e).getPropertyValue(i),h=g!==d&&g.length>0&&"none"!==g,c.body.removeChild(e))}return h},e.prototype.ww=null,e.prototype.wh=null,e.prototype.hw=null,e.prototype.hh=null,e.prototype.portrait=null,e.prototype.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),e.prototype.vendors=[null,["-webkit-","webkit"],["-moz-","Moz"],["-o-","O"],["-ms-","ms"]],e.prototype.motionSupport=!!b.DeviceMotionEvent,e.prototype.orientationSupport=!!b.DeviceOrientationEvent,e.prototype.orientationStatus=0,e.prototype.transform2DSupport=e.prototype.transformSupport("2D"),e.prototype.transform3DSupport=e.prototype.transformSupport("3D"),e.prototype.initialise=function(){"static"===this.$context.css("position")&&this.$context.css({position:"relative"}),this.$layers.css({position:"absolute",display:"block",height:"100%",width:"100%",left:0,top:0}),this.$layers.first().css({position:"relative"}),this.$layers.each(a.proxy(function(b,c){this.depths.push(a(c).data("depth")||0)},this)),this.accelerate(this.$context),this.accelerate(this.$layers),this.updateDimensions(),this.enable(),this.queueCalibration(this.calibrationDelay)},e.prototype.updateDimensions=function(){this.ox=this.$context.offset().left,this.oy=this.$context.offset().top,this.ow=this.$context.width(),this.oh=this.$context.height(),this.ww=b.innerWidth,this.wh=b.innerHeight,this.hw=this.ww/2,this.hh=this.wh/2
},e.prototype.queueCalibration=function(a){clearTimeout(this.calibrationTimer),this.calibrationTimer=setTimeout(this.onCalibrationTimer,a)},e.prototype.enable=function(){this.enabled||(this.enabled=!0,this.orientationSupport?(this.portrait=null,b.addEventListener("deviceorientation",this.onDeviceOrientation),setTimeout(this.onOrientationTimer,this.supportDelay)):(this.cx=0,this.cy=0,this.portrait=!1,b.addEventListener("mousemove",this.onMouseMove)),b.addEventListener("resize",this.onWindowResize),this.raf=requestAnimationFrame(this.onAnimationFrame))},e.prototype.disable=function(){this.enabled&&(this.enabled=!1,this.orientationSupport?b.removeEventListener("deviceorientation",this.onDeviceOrientation):b.removeEventListener("mousemove",this.onMouseMove),b.removeEventListener("resize",this.onWindowResize),cancelAnimationFrame(this.raf))},e.prototype.calibrate=function(a,b){this.calibrateX=a===d?this.calibrateX:a,this.calibrateY=b===d?this.calibrateY:b},e.prototype.invert=function(a,b){this.invertX=a===d?this.invertX:a,this.invertY=b===d?this.invertY:b},e.prototype.friction=function(a,b){this.frictionX=a===d?this.frictionX:a,this.frictionY=b===d?this.frictionY:b},e.prototype.scalar=function(a,b){this.scalarX=a===d?this.scalarX:a,this.scalarY=b===d?this.scalarY:b},e.prototype.limit=function(a,b){this.limitX=a===d?this.limitX:a,this.limitY=b===d?this.limitY:b},e.prototype.clamp=function(a,b,c){return a=Math.max(a,b),a=Math.min(a,c)},e.prototype.css=function(b,c,e){for(var f=null,g=0,h=this.vendors.length;h>g;g++)if(f=null!==this.vendors[g]?a.camelCase(this.vendors[g][1]+"-"+c):c,b.style[f]!==d){b.style[f]=e;break}},e.prototype.accelerate=function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];this.css(d,"transform","translate3d(0,0,0)"),this.css(d,"transform-style","preserve-3d"),this.css(d,"backface-visibility","hidden")}},e.prototype.setPosition=function(a,b,c){b+="%",c+="%",this.transform3DSupport?this.css(a,"transform","translate3d("+b+","+c+",0)"):this.transform2DSupport?this.css(a,"transform","translate("+b+","+c+")"):(a.style.left=b,a.style.top=c)},e.prototype.onOrientationTimer=function(){this.orientationSupport&&0===this.orientationStatus&&(this.disable(),this.orientationSupport=!1,this.enable())},e.prototype.onCalibrationTimer=function(){this.calibrationFlag=!0},e.prototype.onWindowResize=function(){this.updateDimensions()},e.prototype.onAnimationFrame=function(){var a=this.ix-this.cx,b=this.iy-this.cy;(Math.abs(a)>this.calibrationThreshold||Math.abs(b)>this.calibrationThreshold)&&this.queueCalibration(0),this.portrait?(this.mx=(this.calibrateX?b:this.iy)*this.scalarX,this.my=(this.calibrateY?a:this.ix)*this.scalarY):(this.mx=(this.calibrateX?a:this.ix)*this.scalarX,this.my=(this.calibrateY?b:this.iy)*this.scalarY),isNaN(parseFloat(this.limitX))||(this.mx=this.clamp(this.mx,-this.limitX,this.limitX)),isNaN(parseFloat(this.limitY))||(this.my=this.clamp(this.my,-this.limitY,this.limitY)),this.vx+=(this.mx-this.vx)*this.frictionX,this.vy+=(this.my-this.vy)*this.frictionY;for(var c=0,d=this.$layers.length;d>c;c++){var e=this.depths[c],f=this.$layers[c],g=this.vx*e*(this.invertX?-1:1),h=this.vy*e*(this.invertY?-1:1);this.setPosition(f,g,h)}this.raf=requestAnimationFrame(this.onAnimationFrame)},e.prototype.onDeviceOrientation=function(a){if(!this.desktop&&null!==a.beta&&null!==a.gamma){this.orientationStatus=1;var c=(a.beta||0)/g,d=(a.gamma||0)/g,e=b.innerHeight>b.innerWidth;this.portrait!==e&&(this.portrait=e,this.calibrationFlag=!0),this.calibrationFlag&&(this.calibrationFlag=!1,this.cx=c,this.cy=d),this.ix=c,this.iy=d}},e.prototype.onMouseMove=function(a){this.ix=(a.pageX-this.hw)/this.hw,this.iy=(a.pageY-this.hh)/this.hh};var i={enable:e.prototype.enable,disable:e.prototype.disable,calibrate:e.prototype.calibrate,friction:e.prototype.friction,invert:e.prototype.invert,scalar:e.prototype.scalar,limit:e.prototype.limit};a.fn[f]=function(b){var c=arguments;return this.each(function(){var d=a(this),g=d.data(f);g||(g=new e(this,b),d.data(f,g)),i[b]&&g[b].apply(g,Array.prototype.slice.call(c,1))})}}(window.jQuery||window.Zepto,window,document),function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),define("$parallax",["jquery"],function(){}),function(){requirejs.config({paths:{jquery:"vendor/jquery/jquery",underscore:"vendor/lodash/dist/lodash",backbone:"vendor/backbone/backbone",handlebars:"vendor/handlebars.js/dist/handlebars",chaplin:"vendor/chaplin/chaplin",bootstrap:"vendor/bootstrap/dist/js/bootstrap",store:"vendor/store.js/store",base64:"vendor/base64/base64",$cookie:"vendor/jquery.cookie/jquery.cookie",moment:"vendor/momentjs/moment",mousetrap:"vendor/mousetrap/mousetrap",$parallax:"vendor/parallax/deploy/jquery.parallax"},shim:{underscore:{exports:"_"},backbone:{deps:["underscore","jquery"],exports:"Backbone"},bootstrap:{deps:["jquery"]},handlebars:{exports:"Handlebars"},store:{exports:"store"},$cookie:{deps:["jquery"]},$parallax:{deps:["jquery"]}}}),define("74a3c1.main",["application","routes","bootstrap","base64","$cookie","helpers/handlebars/common","moment","lib/shim","$parallax"],function(a,b){var c;return c=new a({routes:b,controllerSuffix:"_controller"})})}.call(this);